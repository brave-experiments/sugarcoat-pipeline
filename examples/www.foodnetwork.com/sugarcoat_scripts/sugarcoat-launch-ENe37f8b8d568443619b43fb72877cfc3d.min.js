var _satellite;
{
    const $___mock_5681dcac222e7c62 = {};
    (exports => {
        'use strict';
        let isSealed = false;
        class Storage {
            constructor() {
                if (isSealed) {
                    throw new TypeError('Illegal constructor');
                }
            }
            get length() {
                return Object.keys(this).length;
            }
            key(index) {
                const keys = Object.keys(this);
                if (index < 0 || index >= keys.length) {
                    return null;
                }
                return keys[index];
            }
            getItem(key) {
                return Object.prototype.hasOwnProperty.call(this, key) ? this[key] : null;
            }
            setItem(key, value) {
                this[key] = String(value);
            }
            removeItem(key) {
                delete this[key];
            }
            clear() {
                const keys = Object.keys(this);
                for (const key of keys) {
                    delete this[key];
                }
            }
        }
        exports.Storage = {
            configurable: true,
            enumerable: true,
            value: Storage,
            writable: true
        };
        const localStorage = new Storage();
        exports.localStorage = {
            configurable: true,
            enumerable: true,
            get() {
                return localStorage;
            }
        };
        const sessionStorage = new Storage();
        exports.sessionStorage = {
            configurable: true,
            enumerable: true,
            get() {
                return sessionStorage;
            }
        };
        isSealed = true;
    })($___mock_5681dcac222e7c62);
    const $___mock_03bfffe61b3e94f4 = {};
    (exports => {
        'use strict';
        const xhrUnsent = 0;
        const xhrOpened = 1;
        const xhrHeadersReceived = 2;
        const xhrLoading = 3;
        const xhrDone = 4;
        const xhrDeferredHandleSymbol = Symbol('deferredHandle');
        const xhrOnLoadStartSymbol = Symbol('onloadstart');
        const xhrOnProgressSymbol = Symbol('onprogress');
        const xhrOnAbortSymbol = Symbol('onabort');
        const xhrOnErrorSymbol = Symbol('onerror');
        const xhrOnLoadSymbol = Symbol('onload');
        const xhrOnTimeoutSymbol = Symbol('ontimeout');
        const xhrOnLoadEndSymbol = Symbol('onloadend');
        const xhrOnReadyStateChangeSymbol = Symbol('onreadystatechange');
        const xhrReadyStateSymbol = Symbol('readyState');
        const xhrTimeoutSymbol = Symbol('timeout');
        const xhrWithCredentialsSymbol = Symbol('withCredentials');
        const xhrUploadSymbol = Symbol('upload');
        const xhrResponseTypeSymbol = Symbol('responseType');
        const defineEvent = (obj, symbol) => {
            const type = symbol.description.substring(2);
            Object.defineProperty(obj, symbol, {
                configurable: false,
                enumerable: false,
                value: null,
                writable: true
            });
            obj.addEventListener(type, function (event) {
                const handler = this[symbol];
                if (handler) {
                    handler.call(this, event);
                }
            });
        };
        const changeReadyState = (xhr, readyState) => {
            xhr[xhrReadyStateSymbol] = readyState;
            xhr.dispatchEvent(new Event('readystatechange'));
        };
        let isSealed = true;
        class XMLHttpRequestEventTarget extends EventTarget {
            constructor() {
                super();
                if (!(this instanceof XMLHttpRequest) && !(this instanceof XMLHttpRequestUpload)) {
                    throw new TypeError('Illegal constructor');
                }
                defineEvent(this, xhrOnLoadStartSymbol);
                defineEvent(this, xhrOnProgressSymbol);
                defineEvent(this, xhrOnAbortSymbol);
                defineEvent(this, xhrOnErrorSymbol);
                defineEvent(this, xhrOnLoadSymbol);
                defineEvent(this, xhrOnTimeoutSymbol);
                defineEvent(this, xhrOnLoadEndSymbol);
            }
            get onloadstart() {
                return this[xhrOnLoadStartSymbol];
            }
            set onloadstart(value) {
                this[xhrOnLoadStartSymbol] = value;
            }
            get onprogress() {
                return this[xhrOnProgressSymbol];
            }
            set onprogress(value) {
                this[xhrOnProgressSymbol] = value;
            }
            get onabort() {
                return this[xhrOnAbortSymbol];
            }
            set onabort(value) {
                this[xhrOnAbortSymbol] = value;
            }
            get onerror() {
                return this[xhrOnErrorSymbol];
            }
            set onerror(value) {
                this[xhrOnErrorSymbol] = value;
            }
            get ontimeout() {
                return this[xhrOnTimeoutSymbol];
            }
            set ontimeout(value) {
                this[xhrOnTimeoutSymbol] = value;
            }
            get onloadend() {
                return this[xhrOnLoadEndSymbol];
            }
            set onloadend(value) {
                this[xhrOnLoadEndSymbol] = value;
            }
        }
        exports.XMLHttpRequestEventTarget = {
            configurable: true,
            enumerable: true,
            value: XMLHttpRequestEventTarget,
            writable: true
        };
        class XMLHttpRequestUpload extends XMLHttpRequestEventTarget {
            constructor() {
                if (isSealed) {
                    throw new TypeError('Illegal constructor');
                }
                super();
            }
        }
        exports.XMLHttpRequestUpload = {
            configurable: true,
            enumerable: true,
            value: XMLHttpRequestUpload,
            writable: true
        };
        class XMLHttpRequest extends XMLHttpRequestEventTarget {
            constructor() {
                super();
                isSealed = false;
                const xhrUpload = new XMLHttpRequestUpload();
                isSealed = true;
                Object.defineProperty(this, xhrDeferredHandleSymbol, {
                    configurable: false,
                    enumerable: false,
                    value: null,
                    writable: true
                });
                defineEvent(this, xhrOnReadyStateChangeSymbol);
                Object.defineProperty(this, xhrReadyStateSymbol, {
                    configurable: false,
                    enumerable: false,
                    value: xhrUnsent,
                    writable: true
                });
                Object.defineProperty(this, xhrTimeoutSymbol, {
                    configurable: false,
                    enumerable: false,
                    value: 0,
                    writable: true
                });
                Object.defineProperty(this, xhrWithCredentialsSymbol, {
                    configurable: false,
                    enumerable: false,
                    value: false,
                    writable: true
                });
                Object.defineProperty(this, xhrUploadSymbol, {
                    configurable: false,
                    enumerable: false,
                    value: xhrUpload,
                    writable: false
                });
                Object.defineProperty(this, xhrResponseTypeSymbol, {
                    configurable: false,
                    enumerable: false,
                    value: '',
                    writable: true
                });
            }
            get onreadystatechange() {
                return this[xhrOnReadyStateChangeSymbol];
            }
            set onreadystatechange(value) {
                this[xhrOnReadyStateChangeSymbol] = value;
            }
            get readyState() {
                return this[xhrReadyStateSymbol];
            }
            open(method, url) {
                switch (this[xhrReadyStateSymbol]) {
                case xhrUnsent:
                case xhrDone: {
                        changeReadyState(this, xhrOpened);
                        break;
                    }
                }
            }
            setRequestHeader(name, value) {
            }
            setTrustToken(trustToken) {
            }
            get timeout() {
                return this[xhrTimeoutSymbol];
            }
            set timeout(value) {
                this[xhrTimeoutSymbol] = value;
            }
            get withCredentials() {
                return this[xhrWithCredentialsSymbol];
            }
            set withCredentials(value) {
                switch (this[xhrReadyStateSymbol]) {
                case xhrUnsent:
                case xhrOpened: {
                        break;
                    }
                default: {
                        throw new DOMException('Failed to set the \'withCredentials\' property on \'XMLHttpRequest\': The value may only be set if the object\'s state is UNSENT or OPENED.');
                    }
                }
                this[xhrWithCredentialsSymbol] = !!value;
            }
            get upload() {
                return this[xhrUploadSymbol];
            }
            send() {
                if (this[xhrReadyStateSymbol] === xhrOpened && this[xhrDeferredHandleSymbol] === null) {
                    this[xhrDeferredHandleSymbol] = setTimeout(() => {
                        this[xhrDeferredHandleSymbol] = null;
                        changeReadyState(this, xhrDone);
                        this.dispatchEvent(new ProgressEvent('error'));
                        this.dispatchEvent(new ProgressEvent('loadend'));
                    }, 0);
                } else {
                    throw new DOMException('Failed to execute \'send\' on \'XMLHttpRequest\': The object\'s state must be OPENED.');
                }
            }
            abort() {
                if (this[xhrReadyStateSymbol] === xhrOpened && this[xhrDeferredHandleSymbol] !== null) {
                    clearTimeout(this[xhrDeferredHandleSymbol]);
                    this[xhrDeferredHandleSymbol] = null;
                    changeReadyState(this, xhrUnsent);
                    this.dispatchEvent(new ProgressEvent('abort'));
                    this.dispatchEvent(new ProgressEvent('loadend'));
                }
            }
            get responseURL() {
                return '';
            }
            get status() {
                return 0;
            }
            get statusText() {
                return '';
            }
            getResponseHeader(name) {
                return null;
            }
            overrideMimeType(mime) {
            }
            get responseType() {
                return this[xhrResponseTypeSymbol];
            }
            set responseType(value) {
                switch (this[xhrReadyStateSymbol]) {
                case xhrDone: {
                        throw new DOMException('Failed to set the \'responseType\' property on \'XMLHttpRequest\': The response type cannot be set if the object\'s state is LOADING or DONE.');
                    }
                }
                switch (value) {
                case '':
                case 'arraybuffer':
                case 'blob':
                case 'document':
                case 'json':
                case 'text': {
                        this[xhrResponseTypeSymbol] = value;
                        break;
                    }
                }
            }
            get response() {
                const responseType = this[xhrResponseTypeSymbol];
                return responseType === '' || responseType === 'text' ? '' : null;
            }
            get responseText() {
                const responseType = this[xhrResponseTypeSymbol];
                if (responseType === '' || responseType === 'text') {
                    return '';
                } else {
                    throw new DOMException('Failed to read the \'responseText\' property from \'XMLHttpRequest\': The value is only accessible if the object\'s \'responseType\' is \'\' or \'text\' (was \'arraybuffer\').');
                }
            }
            get responseXML() {
                return null;
            }
        }
        Object.defineProperty(XMLHttpRequest, 'UNSENT', {
            configurable: false,
            enumerable: true,
            value: xhrUnsent
        });
        Object.defineProperty(XMLHttpRequest, 'OPENED', {
            configurable: false,
            enumerable: true,
            value: xhrOpened
        });
        Object.defineProperty(XMLHttpRequest, 'HEADERS_RECEIVED', {
            configurable: false,
            enumerable: true,
            value: xhrHeadersReceived
        });
        Object.defineProperty(XMLHttpRequest, 'LOADING', {
            configurable: false,
            enumerable: true,
            value: xhrLoading
        });
        Object.defineProperty(XMLHttpRequest, 'DONE', {
            configurable: false,
            enumerable: true,
            value: xhrDone
        });
        exports.XMLHttpRequest = {
            configurable: true,
            enumerable: true,
            value: XMLHttpRequest,
            writable: true
        };
    })($___mock_03bfffe61b3e94f4);
    (function () {
        window._satellite = window._satellite || {}, window._satellite.container = {
            buildInfo: {
                minified: !0,
                buildDate: '2021-07-15T21:05:56Z',
                environment: 'production',
                turbineBuildDate: '2021-04-26T16:54:28Z',
                turbineVersion: '27.1.3'
            },
            dataElements: {
                'Core:Page Info:URL': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/pageInfo.js',
                    settings: { attribute: 'url' }
                },
                'Core:JSVar:User Agent': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'session',
                    modulePath: 'core/src/lib/dataElements/javascriptVariable.js',
                    settings: { path: 'navigator.userAgent' }
                },
                'Core:Custom Code:Shopping': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('Shopping');
                        }
                    }
                },
                'Core:Custom Code:Point of Interest': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('PointOfInterest');
                        }
                    }
                },
                'Core:Custom Code:RSIDs (DEV)': {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            var e = /^https?\:\/\/(?:.*\.)?(?:([^\.]+)\.com).*$/, t = 'discousdev';
                            switch (location.href.match(e)[1]) {
                            case 'hgtv':
                                t += ',hgtvsuite';
                                break;
                            case 'foodnetwork':
                                t += ',foodnetworksuite';
                                break;
                            case 'greatamericancountry':
                                t += ',gacsuite';
                                break;
                            case 'diynetwork':
                                t += ',diysuite';
                                break;
                            case 'cookingchanneltv':
                                t += ',cookingsuite';
                                break;
                            case 'travelchannel':
                                t += ',travelsuite';
                                break;
                            case 'tlcme':
                                t += ',tlcmesuite';
                                break;
                            case 'investigationdiscovery':
                                t += ',crimefeedsuite';
                            }
                            return t;
                        }
                    }
                },
                'Core:Custom Code:Contributor': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('Contributor');
                        }
                    }
                },
                'Core:Custom Code:Link Internal Filters': {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return location.hostname.toLowerCase() + ',click.home.sndimg.com,click.fnr.sndimg.com,javascript:';
                        }
                    }
                },
                'Core:Custom Code:Sort': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('Sort');
                        }
                    }
                },
                'Core:Custom Code:RSIDs (temp prod)': {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            var e = /^https?\:\/\/(?:.*\.)?(?:([^\.]+)\.com).*$/, t = 'discousprod';
                            switch (location.href.match(e)[1]) {
                            case 'discovery':
                                break;
                            case 'hgtv':
                                t += ',scrippshgtvbrands';
                                break;
                            case 'foodnetwork':
                                t += ',scrippsfoodnetnew';
                                break;
                            case 'greatamericancountry':
                                t += ',scrippsgactv';
                                break;
                            case 'diynetwork':
                                t += ',scrippsdiynew';
                                break;
                            case 'cookingchanneltv':
                                t += ',scrippscookingchannel';
                                break;
                            case 'travelchannel':
                                t += ',scrippstravelchannel';
                                break;
                            case 'tlcme':
                            case 'investigationdiscovery':
                                t += ',discoid-tlc-temp';
                            }
                            return t;
                        }
                    }
                },
                'Core:Constant:Distribution Product': {
                    modulePath: 'core/src/lib/dataElements/constant.js',
                    settings: { value: 'discovery digital studios' }
                },
                'Core:Custom Code:State': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('State');
                        }
                    }
                },
                'Core:Custom Code:Region': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('Region');
                        }
                    }
                },
                'Core:Custom Code:Content Tag 2': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('ContentTag2');
                        }
                    }
                },
                'Core:Custom Code:Country': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('Country');
                        }
                    }
                },
                'Core:Custom Code:Publish Date': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return s.cleanOrigPubDate();
                        }
                    }
                },
                'Core:Custom Code:RSIDs (PROD)': {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            var e = /^https?\:\/\/(?:.*\.)?(?:([^\.]+)\.com).*$/, t = 'discousprod';
                            switch (location.href.match(e)[1]) {
                            case 'hgtv':
                                t += ',scrippshgtvbrands';
                                break;
                            case 'foodnetwork':
                                t += ',scrippsfoodnetnew';
                                break;
                            case 'greatamericancountry':
                                t += ',scrippsgactv';
                                break;
                            case 'diynetwork':
                                t += ',scrippsdiynew';
                                break;
                            case 'cookingchanneltv':
                                t += ',scrippscookingchannel';
                                break;
                            case 'travelchannel':
                                t += ',scrippstravelchannel';
                                break;
                            case 'tlcme':
                            case 'investigationdiscovery':
                                t += ',discoid-tlc-temp';
                            }
                            return t;
                        }
                    }
                },
                'Core:Custom Code:Ad Key 2': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('AdKey2');
                        }
                    }
                },
                'Core:Constant:click': {
                    defaultValue: '',
                    modulePath: 'core/src/lib/dataElements/constant.js',
                    settings: { value: 'click' }
                },
                'Core:Custom Code:Talent Name': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('TalentName');
                        }
                    }
                },
                'ECID Service:ECID': {
                    defaultValue: '',
                    modulePath: 'adobe-mcid/src/lib/dataElements/ecid.js',
                    settings: {}
                },
                'Core:Custom Code: Search Dimensions': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('dimensions');
                        }
                    }
                },
                'Core:Custom Code:Behavioral Interaction': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('behavioralInteraction');
                        }
                    }
                },
                'Core:Local Storage:User ID': {
                    defaultValue: '',
                    modulePath: 'core/src/lib/dataElements/localStorage.js',
                    settings: { name: '_gigya_login_user_id' }
                },
                'Core:Custom Code:Site Section': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('CategoryDspName');
                        }
                    }
                },
                'Core:Custom Code:Search Dimension Values': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('dimensionValues');
                        }
                    }
                },
                'Core:Custom Code:Search Term': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('searchTerms');
                        }
                    }
                },
                'Core:Custom Code:Editorial Tracking': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('EditorialTracking');
                        }
                    }
                },
                'Core:Custom Code:Partner': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('Partner');
                        }
                    }
                },
                'Core:Custom Code:Content Contributor': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('Contributor');
                        }
                    }
                },
                'Core:Custom Code:Site Sub Section': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('SctnDspName');
                        }
                    }
                },
                'Core:Page Info:Pathname': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/pageInfo.js',
                    settings: { attribute: 'pathname' }
                },
                'Core:Custom Code:Sponsorship': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('Sponsorship');
                        }
                    }
                },
                'Core:Query String Parameter:Email User ID': {
                    defaultValue: '',
                    storageDuration: 'session',
                    modulePath: 'core/src/lib/dataElements/queryStringParameter.js',
                    settings: {
                        name: 'c32',
                        caseInsensitive: !0
                    }
                },
                'Core:Custom Code:Search Term No Results': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('noSearchResults');
                        }
                    }
                },
                'Core:Custom Code:Brand': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            var e = '';
                            return e = 'undefined' != typeof mdManager ? mdManager.getParameterString('Site') : 'unknown', -1 != location.host.indexOf('sndimg.com') && (e = 'apple news'), e;
                        }
                    }
                },
                'Core:Constant:pageview': {
                    defaultValue: '',
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/constant.js',
                    settings: { value: 'pageview' }
                },
                'Core:Custom Code:Tracking Server': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            var e = '';
                            if (-1 != location.host.indexOf('hgtv.com'))
                                e = 'sa.hgtv.com';
                            else if (-1 != location.host.indexOf('diynetwork.com'))
                                e = 'sa.diynetwork.com';
                            else if (-1 != location.host.indexOf('greatamericancountry.com'))
                                e = 'sa.greatamericancountry.com', 'https:' == location.protocol && (e = 'sl' + e);
                            else if (-1 != location.host.indexOf('foodnetwork.com'))
                                e = 'sa.foodnetwork.com';
                            else if (-1 != location.host.indexOf('cookingchanneltv.com'))
                                e = 'sa.cookingchanneltv.com';
                            else if (-1 != location.host.indexOf('travelchannel.com'))
                                e = 'metrics.travelchannel.com';
                            else if (-1 != location.host.indexOf('discovery.com'))
                                e = 'sa.discovery.com';
                            else if (-1 != location.host.indexOf('investigationdiscovery.com'))
                                e = 'sa.investigationdiscovery.com';
                            else if (-1 != location.host.indexOf('tlc.com'))
                                e = 'sa.tlc.com';
                            else {
                                if (-1 == location.host.indexOf('tlcme.com'))
                                    return 'ewscripps.112.2o7.net';
                                e = 'sa.tlc.com';
                            }
                            return ('https:' == location.protocol ? 's' : '') + e;
                        }
                    }
                },
                'Core:Constant:Business Unit': {
                    defaultValue: '',
                    modulePath: 'core/src/lib/dataElements/constant.js',
                    settings: { value: 'discovery digital studios' }
                },
                'Core:Custom Code:City': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('City');
                        }
                    }
                },
                'Core:Custom Code:Page Type': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('Type');
                        }
                    }
                },
                Section_Name: {
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('CategoryDspName');
                        }
                    }
                },
                'Core:Custom Code:AB Cell': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('abCell');
                        }
                    }
                },
                'Core:Constant:Twitter ID': {
                    defaultValue: '',
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/constant.js',
                    settings: { value: 'nw037' }
                },
                'Core:Custom Code:Content Tag 1': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('ContentTag1');
                        }
                    }
                },
                Show_Name: {
                    forceLowerCase: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('Show_Abbr');
                        }
                    }
                },
                Page_Type: {
                    forceLowerCase: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('type');
                        }
                    }
                },
                'Core:Custom Code:Delivery Channel': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('Delivery_Channel');
                        }
                    }
                },
                Site_Name: {
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('site');
                        }
                    }
                },
                Subsection_Name: {
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('SctnDspName');
                        }
                    }
                },
                Content_ID: {
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('UniqueID');
                        }
                    }
                },
                recipeBeta2018: {
                    defaultValue: 'on',
                    forceLowerCase: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/cookie.js',
                    settings: { name: 'recipeBeta2018' }
                },
                'Live-Intent': {
                    storageDuration: 'session',
                    modulePath: 'core/src/lib/dataElements/queryStringParameter.js',
                    settings: {
                        name: 'c2',
                        caseInsensitive: !0
                    }
                },
                hgtvQA: {
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/cookie.js',
                    settings: { name: 'hgtvQA' }
                },
                Nielsen_SDK: {
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return NOLBUNDLE.nlsQ(appIDCode, 'nlsnInstance', { nol_sdkDebug: 'debug' });
                        }
                    }
                },
                'Core:Custom Code:Unique ID': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('UniqueId');
                        }
                    }
                },
                'Core:Query String Parameter:Email Blast ID': {
                    defaultValue: '',
                    storageDuration: 'session',
                    modulePath: 'core/src/lib/dataElements/queryStringParameter.js',
                    settings: {
                        name: 'bid',
                        caseInsensitive: !0
                    }
                },
                'Core:Page Info:Referrer': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/pageInfo.js',
                    settings: { attribute: 'referrer' }
                },
                'Core:Custom Code:Log In Status': {
                    defaultValue: '',
                    storageDuration: 'session',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            const $___old_24b211f29c772245 = {}.constructor.getOwnPropertyDescriptor(window, 'localStorage');
                            try {
                                if ($___old_24b211f29c772245)
                                    ({}.constructor.defineProperty(window, 'localStorage', $___mock_5681dcac222e7c62.localStorage));
                                return function () {
                                    return 'true' === localStorage.getItem('_gigya_login_status') ? 'logged in' : 'logged out';
                                }.apply(this, arguments);
                            } finally {
                                if ($___old_24b211f29c772245)
                                    ({}.constructor.defineProperty(window, 'localStorage', $___old_24b211f29c772245));
                            }
                        }
                    }
                },
                'Core:Custom Code:Search Filters': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('filter');
                        }
                    }
                },
                'Core:Constant:Analytics Code Version': {
                    defaultValue: '',
                    modulePath: 'core/src/lib/dataElements/constant.js',
                    settings: { value: '20210126-Launch-Core' }
                },
                'Core:Custom Code:Ad Key 1': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('AdKey1');
                        }
                    }
                },
                SubSection_Name_AB_test: {
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('subSection');
                        }
                    }
                },
                'Core:Custom Code:Show Name': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('Show_Abbr');
                        }
                    }
                },
                'Core:Custom Code:Platform': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    storageDuration: 'session',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return mdManager.getParameter('delivery_channel');
                        }
                    }
                },
                'Core:Page Info:Title': {
                    defaultValue: '',
                    forceLowerCase: !0,
                    cleanText: !0,
                    storageDuration: 'pageview',
                    modulePath: 'core/src/lib/dataElements/pageInfo.js',
                    settings: { attribute: 'title' }
                }
            },
            extensions: {
                'adobe-mcid': {
                    displayName: 'Experience Cloud ID Service',
                    modules: {
                        'adobe-mcid/src/lib/dataElements/ecid.js': {
                            name: 'ecid',
                            displayName: 'ECID',
                            script: function (e, t, n) {
                                'use strict';
                                var a;
                                n('../sharedModules/mcidInstance').onReceiveEcid(function (e) {
                                    a = e;
                                }), e.exports = function () {
                                    return a;
                                };
                            }
                        },
                        'adobe-mcid/src/lib/sharedModules/mcidInstance.js': {
                            script: function (e, t, n, h) {
                                'use strict';
                                var a = n('@adobe/reactor-document'), r = n('../codeLibrary/VisitorAPI'), g = n('../../view/utils/timeUnits'), m = function (e) {
                                        return e.reduce(function (e, t) {
                                            var n = /^(true|false)$/i.test(t.value) ? JSON.parse(t.value) : t.value;
                                            return e[t.name] = n, e;
                                        }, {});
                                    }, i = function (e) {
                                        var t = h.getExtensionSettings();
                                        if ('string' != typeof t.orgId)
                                            throw new TypeError('Org ID is not a string.');
                                        var n = m(t.variables || []), a = t.doesOptInApply;
                                        a && ('boolean' == typeof a ? n.doesOptInApply = a : t.optInCallback && (n.doesOptInApply = t.optInCallback));
                                        var r = t.isOptInStorageEnabled;
                                        r && (n.isOptInStorageEnabled = r);
                                        var i = t.optInCookieDomain;
                                        i && (n.optInCookieDomain = i);
                                        var o = t.optInStorageExpiry;
                                        if (o) {
                                            var s = t.timeUnit;
                                            if (s && g[s]) {
                                                var c = o * g[s];
                                                n.optInStorageExpiry = c;
                                            }
                                        } else
                                            !0 === r && (n.optInStorageExpiry = 33696000);
                                        var l = t.previousPermissions;
                                        l && (n.previousPermissions = l);
                                        var u = t.preOptInApprovals;
                                        if (u)
                                            n.preOptInApprovals = u;
                                        else {
                                            var d = t.preOptInApprovalInput;
                                            d && (n.preOptInApprovals = d);
                                        }
                                        var p = t.isIabContext;
                                        p && (n.isIabContext = p);
                                        var f = e.getInstance(t.orgId, n);
                                        return h.logger.info('Created instance using orgId: "' + t.orgId + '"'), h.logger.info('Set variables: ' + JSON.stringify(n)), f.getMarketingCloudVisitorID(function (e) {
                                            h.logger.info('Obtained Marketing Cloud Visitor Id: ' + e);
                                        }, !0), f;
                                    }, o = function (t) {
                                        return (h.getExtensionSettings().pathExclusions || []).some(function (e) {
                                            return e.valueIsRegex ? new RegExp(e.value, 'i').test(t) : e.value === t;
                                        });
                                    }, s = null;
                                _satellite.getVisitorId = function () {
                                    return s;
                                }, o(a.location.pathname) ? h.logger.warn('MCID library not loaded. One of the path exclusions matches the current path.') : s = i(r), e.exports = s;
                            },
                            name: 'mcid-instance',
                            shared: !0
                        },
                        'adobe-mcid/src/lib/codeLibrary/VisitorAPI.js': {
                            script: function (e) {
                                e.exports = (function () {
                                    'use strict';
                                    function $(e) {
                                        return ($ = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) {
                                            return typeof e;
                                        } : function (e) {
                                            return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e;
                                        })(e);
                                    }
                                    function e(e, t, n) {
                                        return t in e ? Object.defineProperty(e, t, {
                                            value: n,
                                            enumerable: !0,
                                            configurable: !0,
                                            writable: !0
                                        }) : e[t] = n, e;
                                    }
                                    function t() {
                                        return {
                                            callbacks: {},
                                            add: function (e, t) {
                                                this.callbacks[e] = this.callbacks[e] || [];
                                                var n = this.callbacks[e].push(t) - 1, a = this;
                                                return function () {
                                                    a.callbacks[e].splice(n, 1);
                                                };
                                            },
                                            execute: function (e, t) {
                                                if (this.callbacks[e]) {
                                                    t = (t = void 0 === t ? [] : t) instanceof Array ? t : [t];
                                                    try {
                                                        for (; this.callbacks[e].length;) {
                                                            var n = this.callbacks[e].shift();
                                                            'function' == typeof n ? n.apply(null, t) : n instanceof Array && n[1].apply(n[0], t);
                                                        }
                                                        delete this.callbacks[e];
                                                    } catch (e) {
                                                    }
                                                }
                                            },
                                            executeAll: function (n, e) {
                                                (e || n && !K.isObjectEmpty(n)) && Object.keys(this.callbacks).forEach(function (e) {
                                                    var t = void 0 !== n[e] ? n[e] : '';
                                                    this.execute(e, t);
                                                }, this);
                                            },
                                            hasCallbacks: function () {
                                                return Boolean(Object.keys(this.callbacks).length);
                                            }
                                        };
                                    }
                                    function p(e, t, n) {
                                        var a = null == e ? void 0 : e[t];
                                        return void 0 === a ? n : a;
                                    }
                                    function r(e) {
                                        for (var t = /^\d+$/, n = 0, a = e.length; n < a; n++)
                                            if (!t.test(e[n]))
                                                return !1;
                                        return !0;
                                    }
                                    function i(e, t) {
                                        for (; e.length < t.length;)
                                            e.push('0');
                                        for (; t.length < e.length;)
                                            t.push('0');
                                    }
                                    function o(e, t) {
                                        for (var n = 0; n < e.length; n++) {
                                            var a = parseInt(e[n], 10), r = parseInt(t[n], 10);
                                            if (r < a)
                                                return 1;
                                            if (a < r)
                                                return -1;
                                        }
                                        return 0;
                                    }
                                    function n(e, t) {
                                        if (e === t)
                                            return 0;
                                        var n = e.toString().split('.'), a = t.toString().split('.');
                                        return r(n.concat(a)) ? (i(n, a), o(n, a)) : NaN;
                                    }
                                    function s(e) {
                                        return e === Object(e) && 0 === Object.keys(e).length;
                                    }
                                    function c(e) {
                                        return 'function' == typeof e || e instanceof Array && e.length;
                                    }
                                    function a(e, t) {
                                        var n = 0 < arguments.length && void 0 !== e ? arguments[0] : '', a = 1 < arguments.length && void 0 !== t ? arguments[1] : function () {
                                                return !0;
                                            };
                                        this.log = pe('log', n, a), this.warn = pe('warn', n, a), this.error = pe('error', n, a);
                                    }
                                    function O(e, t) {
                                        var r = (0 < arguments.length && void 0 !== e ? arguments[0] : {}).cookieName, i = (1 < arguments.length && void 0 !== t ? arguments[1] : {}).cookies;
                                        if (!r || !i)
                                            return {
                                                get: Pe,
                                                set: Pe,
                                                remove: Pe
                                            };
                                        var o = {
                                            remove: function () {
                                                i.remove(r);
                                            },
                                            get: function () {
                                                var e = i.get(r), t = {};
                                                try {
                                                    t = JSON.parse(e);
                                                } catch (e) {
                                                    t = {};
                                                }
                                                return t;
                                            },
                                            set: function (e, t) {
                                                t = t || {};
                                                var n = o.get(), a = Object.assign(n, e);
                                                i.set(r, JSON.stringify(a), {
                                                    domain: t.optInCookieDomain || '',
                                                    cookieLifetime: t.optInStorageExpiry || 34190000,
                                                    expires: !0
                                                });
                                            }
                                        };
                                        return o;
                                    }
                                    function l(e) {
                                        this.name = this.constructor.name, this.message = e, 'function' == typeof Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error(e).stack;
                                    }
                                    function u(e, t) {
                                        function n(e, t) {
                                            var n = ve(e);
                                            return n.length ? n.every(function (e) {
                                                return !!t[e];
                                            }) : be(t);
                                        }
                                        function a() {
                                            N(A), x(H.COMPLETE), T(S.status, S.permissions), l && _.set(S.permissions, {
                                                optInCookieDomain: u,
                                                optInStorageExpiry: d
                                            }), C.execute(Oe);
                                        }
                                        function r(n) {
                                            return function (e, t) {
                                                if (!ye(e))
                                                    throw new Error('[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.');
                                                return x(H.CHANGED), Object.assign(A, _e(ve(e), n)), t || a(), S;
                                            };
                                        }
                                        var i = 0 < arguments.length && void 0 !== e ? arguments[0] : {}, o = i.doesOptInApply, s = i.previousPermissions, c = i.preOptInApprovals, l = i.isOptInStorageEnabled, u = i.optInCookieDomain, d = i.optInStorageExpiry, p = i.isIabContext, f = (1 < arguments.length && void 0 !== t ? arguments[1] : {}).cookies, h = De(s);
                                        Ee(h, 'Invalid `previousPermissions`!'), Ee(c, 'Invalid `preOptInApprovals`!');
                                        var g, m, v, b, y, _ = O({ cookieName: 'adobeujs-optin' }, { cookies: f }), S = this, T = U(S), C = le(), w = Ce(h), k = Ce(c), I = l ? _.get() : {}, P = {}, D = (y = I, we(w) || y && we(y) ? H.COMPLETE : H.PENDING), E = (g = k, m = w, v = I, b = _e(ce, !o), o ? Object.assign({}, b, g, m, v) : b), A = Se(E), x = function (e) {
                                                return D = e;
                                            }, N = function (e) {
                                                return E = e;
                                            };
                                        S.deny = r(!1), S.approve = r(!0), S.denyAll = S.deny.bind(S, ce), S.approveAll = S.approve.bind(S, ce), S.isApproved = function (e) {
                                            return n(e, S.permissions);
                                        }, S.isPreApproved = function (e) {
                                            return n(e, k);
                                        }, S.fetchPermissions = function (e, t) {
                                            var n = 1 < arguments.length && void 0 !== t && arguments[1], a = n ? S.on(H.COMPLETE, e) : Pe;
                                            return !o || o && S.isComplete || c ? e(S.permissions) : n || C.add(Oe, function () {
                                                return e(S.permissions);
                                            }), a;
                                        }, S.complete = function () {
                                            S.status === H.CHANGED && a();
                                        }, S.registerPlugin = function (e) {
                                            if (!e || !e.name || 'function' != typeof e.onRegister)
                                                throw new Error(Me);
                                            P[e.name] || (P[e.name] = e).onRegister.call(e, S);
                                        }, S.execute = Ne(P), S.memoizeContent = function (e) {
                                            Ie(e) && _.set(e, {
                                                optInCookieDomain: u,
                                                optInStorageExpiry: d
                                            });
                                        }, S.getMemoizedContent = function (e) {
                                            var t = _.get();
                                            if (t)
                                                return t[e];
                                        }, Object.defineProperties(S, {
                                            permissions: {
                                                get: function () {
                                                    return E;
                                                }
                                            },
                                            status: {
                                                get: function () {
                                                    return D;
                                                }
                                            },
                                            Categories: {
                                                get: function () {
                                                    return q;
                                                }
                                            },
                                            doesOptInApply: {
                                                get: function () {
                                                    return !!o;
                                                }
                                            },
                                            isPending: {
                                                get: function () {
                                                    return S.status === H.PENDING;
                                                }
                                            },
                                            isComplete: {
                                                get: function () {
                                                    return S.status === H.COMPLETE;
                                                }
                                            },
                                            __plugins: {
                                                get: function () {
                                                    return Object.keys(P);
                                                }
                                            },
                                            isIabContext: {
                                                get: function () {
                                                    return p;
                                                }
                                            }
                                        });
                                    }
                                    function d(e, t) {
                                        function n() {
                                            r = null, e.call(e, new l('The call took longer than you wanted!'));
                                        }
                                        function a() {
                                            r && (clearTimeout(r), e.apply(e, arguments));
                                        }
                                        if (void 0 === t)
                                            return e;
                                        var r = setTimeout(n, t);
                                        return a;
                                    }
                                    function f() {
                                        if (window.__tcfapi)
                                            return window.__tcfapi;
                                        var e = window;
                                        if (e !== window.top) {
                                            for (var o; !o;) {
                                                e = e.parent;
                                                try {
                                                    e.frames.__tcfapiLocator && (o = e);
                                                } catch (e) {
                                                }
                                                if (e === window.top)
                                                    break;
                                            }
                                            if (o) {
                                                var s = {};
                                                return window.__tcfapi = function (e, t, n, a) {
                                                    var r = Math.random() + '', i = {
                                                            __tcfapiCall: {
                                                                command: e,
                                                                parameter: a,
                                                                version: t,
                                                                callId: r
                                                            }
                                                        };
                                                    s[r] = n, o.postMessage(i, '*');
                                                }, window.addEventListener('message', function (e) {
                                                    var t = e.data;
                                                    if ('string' == typeof t)
                                                        try {
                                                            t = JSON.parse(e.data);
                                                        } catch (e) {
                                                        }
                                                    if (t.__tcfapiReturn) {
                                                        var n = t.__tcfapiReturn;
                                                        'function' == typeof s[n.callId] && (s[n.callId](n.returnValue, n.success), delete s[n.callId]);
                                                    }
                                                }, !1), window.__tcfapi;
                                            }
                                            ge.error('__tcfapi not found');
                                        } else
                                            ge.error('__tcfapi not found');
                                    }
                                    function h(t, e, n) {
                                        var a = 2 < arguments.length && void 0 !== n ? arguments[2] : [], r = !0 === t.vendor.consents[e], i = a.every(function (e) {
                                                return !0 === t.purpose.consents[e];
                                            });
                                        return r && i;
                                    }
                                    function g() {
                                        var n = this;
                                        n.name = 'iabPlugin', n.version = '0.0.2';
                                        var i, o = le(), s = { transparencyAndConsentData: null }, c = function (e, t) {
                                                var n = 1 < arguments.length && void 0 !== t ? arguments[1] : {};
                                                return s[e] = n;
                                            };
                                        n.fetchConsentData = function (e) {
                                            var t = d(e.callback, e.timeout);
                                            l({ callback: t });
                                        }, n.isApproved = function (e) {
                                            var n = e.callback, a = e.category, t = e.timeout;
                                            if (s.transparencyAndConsentData)
                                                return n(null, h(s.transparencyAndConsentData, ie[a], oe[a]));
                                            var r = d(function (e, t) {
                                                n(e, h(t, ie[a], oe[a]));
                                            }, t);
                                            l({
                                                category: a,
                                                callback: r
                                            });
                                        }, n.onRegister = function (a) {
                                            i = a;
                                            var t = Object.keys(ie), e = function (e, n) {
                                                    !e && n && (t.forEach(function (e) {
                                                        var t = h(n, ie[e], oe[e]);
                                                        a[t ? 'approve' : 'deny'](e, !0);
                                                    }), a.complete());
                                                };
                                            n.fetchConsentData({ callback: e });
                                        };
                                        var l = function (e) {
                                                var t = e.callback;
                                                if (s.transparencyAndConsentData)
                                                    return t(null, s.transparencyAndConsentData);
                                                o.add('FETCH_CONSENT_DATA', t), a(function (e, t) {
                                                    if (t) {
                                                        var n = Se(e), a = i.getMemoizedContent('iabConsentHash'), r = he(n.tcString).toString(32);
                                                        n.consentString = e.tcString, n.hasConsentChangedSinceLastCmpPull = a !== r, c('transparencyAndConsentData', n), i.memoizeContent({ iabConsentHash: r });
                                                    }
                                                    o.execute('FETCH_CONSENT_DATA', [
                                                        null,
                                                        s.transparencyAndConsentData
                                                    ]);
                                                });
                                            }, a = function (e) {
                                                var t = xe(ie), n = f();
                                                'function' == typeof n && n('getTCData', 2, e, t);
                                            };
                                    }
                                    var G = 'undefined' != typeof globalThis ? globalThis : 'undefined' != typeof window ? window : 'undefined' != typeof global ? global : 'undefined' != typeof self ? self : {};
                                    Object.assign = Object.assign || function (e) {
                                        for (var t, n, a = 1; a < arguments.length; ++a)
                                            for (t in n = arguments[a])
                                                Object.prototype.hasOwnProperty.call(n, t) && (e[t] = n[t]);
                                        return e;
                                    };
                                    var m, v, b, y, Y = {
                                            MESSAGES: {
                                                HANDSHAKE: 'HANDSHAKE',
                                                GETSTATE: 'GETSTATE',
                                                PARENTSTATE: 'PARENTSTATE'
                                            },
                                            STATE_KEYS_MAP: {
                                                MCMID: 'MCMID',
                                                MCAID: 'MCAID',
                                                MCAAMB: 'MCAAMB',
                                                MCAAMLH: 'MCAAMLH',
                                                MCOPTOUT: 'MCOPTOUT',
                                                CUSTOMERIDS: 'CUSTOMERIDS'
                                            },
                                            ASYNC_API_MAP: {
                                                MCMID: 'getMarketingCloudVisitorID',
                                                MCAID: 'getAnalyticsVisitorID',
                                                MCAAMB: 'getAudienceManagerBlob',
                                                MCAAMLH: 'getAudienceManagerLocationHint',
                                                MCOPTOUT: 'isOptedOut',
                                                ALLFIELDS: 'getVisitorValues'
                                            },
                                            SYNC_API_MAP: { CUSTOMERIDS: 'getCustomerIDs' },
                                            ALL_APIS: {
                                                MCMID: 'getMarketingCloudVisitorID',
                                                MCAAMB: 'getAudienceManagerBlob',
                                                MCAAMLH: 'getAudienceManagerLocationHint',
                                                MCOPTOUT: 'isOptedOut',
                                                MCAID: 'getAnalyticsVisitorID',
                                                CUSTOMERIDS: 'getCustomerIDs',
                                                ALLFIELDS: 'getVisitorValues'
                                            },
                                            FIELDGROUP_TO_FIELD: {
                                                MC: 'MCMID',
                                                A: 'MCAID',
                                                AAM: 'MCAAMB'
                                            },
                                            FIELDS: {
                                                MCMID: 'MCMID',
                                                MCOPTOUT: 'MCOPTOUT',
                                                MCAID: 'MCAID',
                                                MCAAMLH: 'MCAAMLH',
                                                MCAAMB: 'MCAAMB'
                                            },
                                            AUTH_STATE: {
                                                UNKNOWN: 0,
                                                AUTHENTICATED: 1,
                                                LOGGED_OUT: 2
                                            },
                                            OPT_OUT: { GLOBAL: 'global' },
                                            SAME_SITE_VALUES: {
                                                LAX: 'Lax',
                                                STRICT: 'Strict',
                                                NONE: 'None'
                                            }
                                        }, _ = Y.STATE_KEYS_MAP, S = function (i) {
                                            function a() {
                                            }
                                            function r(n, a) {
                                                var r = this;
                                                return function () {
                                                    var e = i(0, n), t = {};
                                                    return t[n] = e, r.setStateAndPublish(t), a(e), e;
                                                };
                                            }
                                            this.getMarketingCloudVisitorID = function (e) {
                                                e = e || a;
                                                var t = this.findField(_.MCMID, e), n = r.call(this, _.MCMID, e);
                                                return void 0 !== t ? t : n();
                                            }, this.getVisitorValues = function (t) {
                                                this.getMarketingCloudVisitorID(function (e) {
                                                    t({ MCMID: e });
                                                });
                                            };
                                        }, T = Y.MESSAGES, C = Y.ASYNC_API_MAP, w = Y.SYNC_API_MAP, k = function () {
                                            function r() {
                                            }
                                            function i(e, t) {
                                                var n = this;
                                                return function () {
                                                    return n.callbackRegistry.add(e, t), n.messageParent(T.GETSTATE), '';
                                                };
                                            }
                                            function e(a) {
                                                this[C[a]] = function (e) {
                                                    e = e || r;
                                                    var t = this.findField(a, e), n = i.call(this, a, e);
                                                    return void 0 !== t ? t : n();
                                                };
                                            }
                                            function t(e) {
                                                this[w[e]] = function () {
                                                    return this.findField(e, r) || {};
                                                };
                                            }
                                            Object.keys(C).forEach(e, this), Object.keys(w).forEach(t, this);
                                        }, I = Y.ASYNC_API_MAP, P = function () {
                                            Object.keys(I).forEach(function (t) {
                                                this[I[t]] = function (e) {
                                                    this.callbackRegistry.add(t, e);
                                                };
                                            }, this);
                                        }, K = (function (e, t) {
                                            t.isObjectEmpty = function (e) {
                                                return e === Object(e) && 0 === Object.keys(e).length;
                                            }, t.isValueEmpty = function (e) {
                                                return '' === e || t.isObjectEmpty(e);
                                            };
                                            var n = function () {
                                                var e = navigator.appName, t = navigator.userAgent;
                                                return 'Microsoft Internet Explorer' === e || 0 <= t.indexOf('MSIE ') || 0 <= t.indexOf('Trident/') && 0 <= t.indexOf('Windows NT 6');
                                            };
                                            t.getIeVersion = function () {
                                                return document.documentMode ? document.documentMode : n() ? 7 : null;
                                            }, t.encodeAndBuildRequest = function (e, t) {
                                                return e.map(encodeURIComponent).join(t);
                                            }, t.isObject = function (e) {
                                                return null !== e && 'object' === $(e) && !1 === Array.isArray(e);
                                            }, t.defineGlobalNamespace = function () {
                                                return window.adobe = t.isObject(window.adobe) ? window.adobe : {}, window.adobe;
                                            }, t.pluck = function (n, e) {
                                                return e.reduce(function (e, t) {
                                                    return n[t] && (e[t] = n[t]), e;
                                                }, Object.create(null));
                                            }, t.parseOptOut = function (e, t, n) {
                                                t || (t = n, e.d_optout && e.d_optout instanceof Array && (t = e.d_optout.join(',')));
                                                var a = parseInt(e.d_ottl, 10);
                                                return isNaN(a) && (a = 7200), {
                                                    optOut: t,
                                                    d_ottl: a
                                                };
                                            }, t.normalizeBoolean = function (e) {
                                                var t = e;
                                                return 'true' === e ? t = !0 : 'false' === e && (t = !1), t;
                                            };
                                        }(y = { exports: {} }, y.exports), y.exports), D = (K.isObjectEmpty, K.isValueEmpty, K.getIeVersion, K.encodeAndBuildRequest, K.isObject, K.defineGlobalNamespace, K.pluck, K.parseOptOut, K.normalizeBoolean, t), E = Y.MESSAGES, A = {
                                            0: 'prefix',
                                            1: 'orgID',
                                            2: 'state'
                                        }, Q = function (i, o) {
                                            this.parse = function (e) {
                                                try {
                                                    var n = {};
                                                    return e.data.split('|').forEach(function (e, t) {
                                                        void 0 !== e && (n[A[t]] = 2 !== t ? e : JSON.parse(e));
                                                    }), n;
                                                } catch (e) {
                                                }
                                            }, this.isInvalid = function (e) {
                                                var t = this.parse(e);
                                                if (!t || Object.keys(t).length < 2)
                                                    return !0;
                                                var n = i !== t.orgID, a = !o || e.origin !== o, r = -1 === Object.keys(E).indexOf(t.prefix);
                                                return n || a || r;
                                            }, this.send = function (e, t, n) {
                                                var a = t + '|' + i;
                                                n && n === Object(n) && (a += '|' + JSON.stringify(n));
                                                try {
                                                    e.postMessage(a, o);
                                                } catch (i) {
                                                }
                                            };
                                        }, x = Y.MESSAGES, N = function (e, t, n, a) {
                                            function r(e) {
                                                Object.assign(f, e);
                                            }
                                            function i(e) {
                                                Object.assign(f.state, e), Object.assign(f.state.ALLFIELDS, e), f.callbackRegistry.executeAll(f.state);
                                            }
                                            function o(e) {
                                                if (!m.isInvalid(e)) {
                                                    g = !1;
                                                    var t = m.parse(e);
                                                    f.setStateAndPublish(t.state);
                                                }
                                            }
                                            function s(e) {
                                                !g && h && (g = !0, m.send(a, e));
                                            }
                                            function c() {
                                                r(new S(n._generateID)), f.getMarketingCloudVisitorID(), f.callbackRegistry.executeAll(f.state, !0), G.removeEventListener('message', l);
                                            }
                                            function l(e) {
                                                if (!m.isInvalid(e)) {
                                                    var t = m.parse(e);
                                                    g = !1, G.clearTimeout(f._handshakeTimeout), G.removeEventListener('message', l), r(new k(f)), G.addEventListener('message', o), f.setStateAndPublish(t.state), f.callbackRegistry.hasCallbacks() && s(x.GETSTATE);
                                                }
                                            }
                                            function u() {
                                                h && postMessage ? (G.addEventListener('message', l), s(x.HANDSHAKE), f._handshakeTimeout = setTimeout(c, 250)) : c();
                                            }
                                            function d() {
                                                G.s_c_in || (G.s_c_il = [], G.s_c_in = 0), f._c = 'Visitor', f._il = G.s_c_il, f._in = G.s_c_in, f._il[f._in] = f, G.s_c_in++;
                                            }
                                            function p() {
                                                function e(e) {
                                                    0 !== e.indexOf('_') && 'function' == typeof n[e] && (f[e] = function () {
                                                    });
                                                }
                                                Object.keys(n).forEach(e), f.getSupplementalDataID = n.getSupplementalDataID, f.isAllowed = function () {
                                                    return !0;
                                                };
                                            }
                                            var f = this, h = t.whitelistParentDomain;
                                            f.state = { ALLFIELDS: {} }, f.version = n.version, f.marketingCloudOrgID = e, f.cookieDomain = n.cookieDomain || '';
                                            var g = !(f._instanceType = 'child'), m = new Q(e, h);
                                            f.callbackRegistry = D(), f.init = function () {
                                                d(), p(), r(new P(f)), u();
                                            }, f.findField = function (e, t) {
                                                if (void 0 !== f.state[e])
                                                    return t(f.state[e]), f.state[e];
                                            }, f.messageParent = s, f.setStateAndPublish = i;
                                        }, M = Y.MESSAGES, L = Y.ALL_APIS, R = Y.ASYNC_API_MAP, j = Y.FIELDGROUP_TO_FIELD, z = function (r, a) {
                                            function i() {
                                                var a = {};
                                                return Object.keys(L).forEach(function (e) {
                                                    var t = L[e], n = r[t]();
                                                    K.isValueEmpty(n) || (a[e] = n);
                                                }), a;
                                            }
                                            function o() {
                                                var n = [];
                                                return r._loading && Object.keys(r._loading).forEach(function (e) {
                                                    if (r._loading[e]) {
                                                        var t = j[e];
                                                        n.push(t);
                                                    }
                                                }), n.length ? n : null;
                                            }
                                            function t(n) {
                                                return function a() {
                                                    var e = o();
                                                    if (e) {
                                                        var t = R[e[0]];
                                                        r[t](a, !0);
                                                    } else
                                                        n();
                                                };
                                            }
                                            function n(e, t) {
                                                var n = i();
                                                a.send(e, t, n);
                                            }
                                            function s(e) {
                                                l(e), n(e, M.HANDSHAKE);
                                            }
                                            function c(e) {
                                                t(function () {
                                                    n(e, M.PARENTSTATE);
                                                })();
                                            }
                                            function l(t) {
                                                function e(e) {
                                                    n.call(r, e), a.send(t, M.PARENTSTATE, { CUSTOMERIDS: r.getCustomerIDs() });
                                                }
                                                var n = r.setCustomerIDs;
                                                r.setCustomerIDs = e;
                                            }
                                            return function (e) {
                                                a.isInvalid(e) || (a.parse(e).prefix === M.HANDSHAKE ? s : c)(e.source);
                                            };
                                        }, W = function (a, n) {
                                            function r(t) {
                                                return function (e) {
                                                    i[t] = e, ++o === s && n(i);
                                                };
                                            }
                                            var i = {}, o = 0, s = Object.keys(a).length;
                                            Object.keys(a).forEach(function (e) {
                                                var t = a[e];
                                                if (t.fn) {
                                                    var n = t.args || [];
                                                    n.unshift(r(e)), t.fn.apply(t.context || null, n);
                                                }
                                            });
                                        }, J = {
                                            get: function (e) {
                                                e = encodeURIComponent(e);
                                                var t = (';' + document.cookie).split(' ').join(';'), n = t.indexOf(';' + e + '='), a = n < 0 ? n : t.indexOf(';', n + 1);
                                                return n < 0 ? '' : decodeURIComponent(t.substring(n + 2 + e.length, a < 0 ? t.length : a));
                                            },
                                            set: function (e, t, n) {
                                                var a = p(n, 'cookieLifetime'), r = p(n, 'expires'), i = p(n, 'domain'), o = p(n, 'secure'), s = p(n, 'sameSite'), c = o ? 'Secure' : '', l = s ? 'SameSite=' + s + ';' : '';
                                                if (r && 'SESSION' !== a && 'NONE' !== a) {
                                                    var u = '' !== t ? parseInt(a || 0, 10) : -60;
                                                    if (u)
                                                        (r = new Date()).setTime(r.getTime() + 1000 * u);
                                                    else if (1 === r) {
                                                        var d = (r = new Date()).getYear();
                                                        r.setYear(d + 2 + (d < 1900 ? 1900 : 0));
                                                    }
                                                } else
                                                    r = 0;
                                                return e && 'NONE' !== a ? (document.cookie = encodeURIComponent(e) + '=' + encodeURIComponent(t) + '; path=/;' + (r ? ' expires=' + r.toGMTString() + ';' : '') + (i ? ' domain=' + i + ';' : '') + l + c, this.get(e) === t) : 0;
                                            },
                                            remove: function (e, t) {
                                                var n = p(t, 'domain');
                                                n = n ? ' domain=' + n + ';' : '';
                                                var a = p(t, 'secure'), r = p(t, 'sameSite'), i = a ? 'Secure' : '', o = r ? 'SameSite=' + r + ';' : '';
                                                document.cookie = encodeURIComponent(e) + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;' + n + o + i;
                                            }
                                        }, X = function (e, t) {
                                            !e && G.location && (e = G.location.hostname);
                                            var n, a = e.split('.'), r = t || {};
                                            for (n = a.length - 2; 0 <= n; n--)
                                                if (r.domain = a.slice(n).join('.'), J.set('test', 'cookie', r))
                                                    return J.remove('test', r), r.domain;
                                            return '';
                                        }, Z = {
                                            compare: n,
                                            isLessThan: function (e, t) {
                                                return n(e, t) < 0;
                                            },
                                            areVersionsDifferent: function (e, t) {
                                                return 0 !== n(e, t);
                                            },
                                            isGreaterThan: function (e, t) {
                                                return 0 < n(e, t);
                                            },
                                            isEqual: function (e, t) {
                                                return 0 === n(e, t);
                                            }
                                        }, V = !!G.postMessage, ee = {
                                            postMessage: function (e, t, n) {
                                                var a = 1;
                                                t && (V ? n.postMessage(e, t.replace(/([^:]+:\/\/[^\/]+).*/, '$1')) : t && (n.location = t.replace(/#.*$/, '') + '#' + +new Date() + a++ + '&' + e));
                                            },
                                            receiveMessage: function (t, n) {
                                                var e;
                                                try {
                                                    V && (t && (e = function (e) {
                                                        if ('string' == typeof n && e.origin !== n || '[object Function]' === Object.prototype.toString.call(n) && !1 === n(e.origin))
                                                            return !1;
                                                        t(e);
                                                    }), G.addEventListener ? G[t ? 'addEventListener' : 'removeEventListener']('message', e) : G[t ? 'attachEvent' : 'detachEvent']('onmessage', e));
                                                } catch (t) {
                                                }
                                            }
                                        }, te = function (e) {
                                            var t, n, a = '0123456789', r = '', i = '', o = 8, s = 10, c = 10;
                                            if (1 == e) {
                                                for (a += 'ABCDEF', t = 0; t < 16; t++)
                                                    n = Math.floor(Math.random() * o), r += a.substring(n, n + 1), n = Math.floor(Math.random() * o), i += a.substring(n, n + 1), o = 16;
                                                return r + '-' + i;
                                            }
                                            for (t = 0; t < 19; t++)
                                                n = Math.floor(Math.random() * s), r += a.substring(n, n + 1), 0 === t && 9 == n ? s = 3 : (1 == t || 2 == t) && 10 != s && n < 2 ? s = 10 : 2 < t && (s = 10), n = Math.floor(Math.random() * c), i += a.substring(n, n + 1), 0 === t && 9 == n ? c = 3 : (1 == t || 2 == t) && 10 != c && n < 2 ? c = 10 : 2 < t && (c = 10);
                                            return r + i;
                                        }, ne = function (a) {
                                            const $___old_784db07d5397fecf = {}.constructor.getOwnPropertyDescriptor(window, 'XMLHttpRequest'), $___old_87f4c53a3cb16c0e = {}.constructor.getOwnPropertyDescriptor(window, 'XMLHttpRequest');
                                            try {
                                                if ($___old_784db07d5397fecf)
                                                    ({}.constructor.defineProperty(window, 'XMLHttpRequest', $___mock_03bfffe61b3e94f4.XMLHttpRequest));
                                                if ($___old_87f4c53a3cb16c0e)
                                                    ({}.constructor.defineProperty(window, 'XMLHttpRequest', $___mock_03bfffe61b3e94f4.XMLHttpRequest));
                                                return function () {
                                                    return {
                                                        corsMetadata: (e = 'none', t = !0, 'undefined' != typeof XMLHttpRequest && XMLHttpRequest === Object(XMLHttpRequest) && ('withCredentials' in new XMLHttpRequest() ? e = 'XMLHttpRequest' : 'undefined' != typeof XDomainRequest && XDomainRequest === Object(XDomainRequest) && (t = !1), 0 < Object.prototype.toString.call(G.HTMLElement).indexOf('Constructor') && (t = !1)), {
                                                            corsType: e,
                                                            corsCookiesEnabled: t
                                                        }),
                                                        getCORSInstance: function () {
                                                            const $___old_13c7b49fb4bbdc04 = {}.constructor.getOwnPropertyDescriptor(window, 'XMLHttpRequest'), $___old_10c09d3cfcddd295 = {}.constructor.getOwnPropertyDescriptor(window, 'XMLHttpRequest');
                                                            try {
                                                                if ($___old_13c7b49fb4bbdc04)
                                                                    ({}.constructor.defineProperty(window, 'XMLHttpRequest', $___mock_03bfffe61b3e94f4.XMLHttpRequest));
                                                                if ($___old_10c09d3cfcddd295)
                                                                    ({}.constructor.defineProperty(window, 'XMLHttpRequest', $___mock_03bfffe61b3e94f4.XMLHttpRequest));
                                                                return function () {
                                                                    return 'none' === this.corsMetadata.corsType ? null : new G[this.corsMetadata.corsType]();
                                                                }.apply(this, arguments);
                                                            } finally {
                                                                if ($___old_13c7b49fb4bbdc04)
                                                                    ({}.constructor.defineProperty(window, 'XMLHttpRequest', $___old_13c7b49fb4bbdc04));
                                                                if ($___old_10c09d3cfcddd295)
                                                                    ({}.constructor.defineProperty(window, 'XMLHttpRequest', $___old_10c09d3cfcddd295));
                                                            }
                                                        },
                                                        fireCORS: function (i, e) {
                                                            function t(e) {
                                                                var t;
                                                                try {
                                                                    if ((t = JSON.parse(e)) !== Object(t))
                                                                        return void o.handleCORSError(i, null, 'Response is not JSON');
                                                                } catch (e) {
                                                                    return void o.handleCORSError(i, e, 'Error parsing response as JSON');
                                                                }
                                                                try {
                                                                    for (var n = i.callback, a = G, r = 0; r < n.length; r++)
                                                                        a = a[n[r]];
                                                                    a(t);
                                                                } catch (e) {
                                                                    o.handleCORSError(i, e, 'Error forming callback function');
                                                                }
                                                            }
                                                            var o = this;
                                                            e && (i.loadErrorHandler = e);
                                                            try {
                                                                var n = this.getCORSInstance();
                                                                n.open('get', i.corsUrl + '&ts=' + new Date().getTime(), !0), 'XMLHttpRequest' === this.corsMetadata.corsType && (n.withCredentials = !0, n.timeout = a.loadTimeout, n.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded'), n.onreadystatechange = function () {
                                                                    4 === this.readyState && 200 === this.status && t(this.responseText);
                                                                }), n.onerror = function (e) {
                                                                    o.handleCORSError(i, e, 'onerror');
                                                                }, n.ontimeout = function (e) {
                                                                    o.handleCORSError(i, e, 'ontimeout');
                                                                }, n.send(), a._log.requests.push(i.corsUrl);
                                                            } catch (a) {
                                                                this.handleCORSError(i, a, 'try-catch');
                                                            }
                                                        },
                                                        handleCORSError: function (e, t, n) {
                                                            a.CORSErrors.push({
                                                                corsData: e,
                                                                error: t,
                                                                description: n
                                                            }), e.loadErrorHandler && ('ontimeout' === n ? e.loadErrorHandler(!0) : e.loadErrorHandler(!1));
                                                        }
                                                    };
                                                    var e, t;
                                                }.apply(this, arguments);
                                            } finally {
                                                if ($___old_784db07d5397fecf)
                                                    ({}.constructor.defineProperty(window, 'XMLHttpRequest', $___old_784db07d5397fecf));
                                                if ($___old_87f4c53a3cb16c0e)
                                                    ({}.constructor.defineProperty(window, 'XMLHttpRequest', $___old_87f4c53a3cb16c0e));
                                            }
                                        }, ae = {
                                            POST_MESSAGE_ENABLED: !!G.postMessage,
                                            DAYS_BETWEEN_SYNC_ID_CALLS: 1,
                                            MILLIS_PER_DAY: 86400000,
                                            ADOBE_MC: 'adobe_mc',
                                            ADOBE_MC_SDID: 'adobe_mc_sdid',
                                            VALID_VISITOR_ID_REGEX: /^[0-9a-fA-F\-]+$/,
                                            ADOBE_MC_TTL_IN_MIN: 5,
                                            VERSION_REGEX: /vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,
                                            FIRST_PARTY_SERVER_COOKIE: 's_ecid'
                                        }, re = function (h, t) {
                                            var r = G.document;
                                            return {
                                                THROTTLE_START: 30000,
                                                MAX_SYNCS_LENGTH: 649,
                                                throttleTimerSet: !1,
                                                id: null,
                                                onPagePixels: [],
                                                iframeHost: null,
                                                getIframeHost: function (e) {
                                                    if ('string' == typeof e) {
                                                        var t = e.split('/');
                                                        return t[0] + '//' + t[2];
                                                    }
                                                },
                                                subdomain: null,
                                                url: null,
                                                getUrl: function () {
                                                    var e, t = 'http://fast.', n = '?d_nsid=' + h.idSyncContainerID + '#' + encodeURIComponent(r.location.origin);
                                                    return this.subdomain || (this.subdomain = 'nosubdomainreturned'), h.loadSSL && (t = h.idSyncSSLUseAkamai ? 'https://fast.' : 'https://'), e = t + this.subdomain + '.demdex.net/dest5.html' + n, this.iframeHost = this.getIframeHost(e), this.id = 'destination_publishing_iframe_' + this.subdomain + '_' + h.idSyncContainerID, e;
                                                },
                                                checkDPIframeSrc: function () {
                                                    var e = '?d_nsid=' + h.idSyncContainerID + '#' + encodeURIComponent(r.location.href);
                                                    'string' == typeof h.dpIframeSrc && h.dpIframeSrc.length && (this.id = 'destination_publishing_iframe_' + (h._subdomain || this.subdomain || new Date().getTime()) + '_' + h.idSyncContainerID, this.iframeHost = this.getIframeHost(h.dpIframeSrc), this.url = h.dpIframeSrc + e);
                                                },
                                                idCallNotProcesssed: null,
                                                doAttachIframe: !1,
                                                startedAttachingIframe: !1,
                                                iframeHasLoaded: null,
                                                iframeIdChanged: null,
                                                newIframeCreated: null,
                                                originalIframeHasLoadedAlready: null,
                                                iframeLoadedCallbacks: [],
                                                regionChanged: !1,
                                                timesRegionChanged: 0,
                                                sendingMessages: !1,
                                                messages: [],
                                                messagesPosted: [],
                                                messagesReceived: [],
                                                messageSendingInterval: ae.POST_MESSAGE_ENABLED ? null : 100,
                                                onPageDestinationsFired: [],
                                                jsonForComparison: [],
                                                jsonDuplicates: [],
                                                jsonWaiting: [],
                                                jsonProcessed: [],
                                                canSetThirdPartyCookies: !0,
                                                receivedThirdPartyCookiesNotification: !1,
                                                readyToAttachIframePreliminary: function () {
                                                    return !(h.idSyncDisableSyncs || h.disableIdSyncs || h.idSyncDisable3rdPartySyncing || h.disableThirdPartyCookies || h.disableThirdPartyCalls);
                                                },
                                                readyToAttachIframe: function () {
                                                    return this.readyToAttachIframePreliminary() && (this.doAttachIframe || h._doAttachIframe) && (this.subdomain && 'nosubdomainreturned' !== this.subdomain || h._subdomain) && this.url && !this.startedAttachingIframe;
                                                },
                                                attachIframe: function () {
                                                    function e() {
                                                        (a = r.createElement('iframe')).sandbox = 'allow-scripts allow-same-origin', a.title = 'Adobe ID Syncing iFrame', a.id = n.id, a.name = n.id + '_name', a.style.cssText = 'display: none; width: 0; height: 0;', a.src = n.url, n.newIframeCreated = !0, t(), r.body.appendChild(a);
                                                    }
                                                    function t(e) {
                                                        a.addEventListener('load', function () {
                                                            a.className = 'aamIframeLoaded', n.iframeHasLoaded = !0, n.fireIframeLoadedCallbacks(e), n.requestToProcess();
                                                        });
                                                    }
                                                    this.startedAttachingIframe = !0;
                                                    var n = this, a = r.getElementById(this.id);
                                                    a ? 'IFRAME' !== a.nodeName ? (this.id += '_2', this.iframeIdChanged = !0, e()) : (this.newIframeCreated = !1, 'aamIframeLoaded' !== a.className ? (this.originalIframeHasLoadedAlready = !1, t('The destination publishing iframe already exists from a different library, but hadn\'t loaded yet.')) : (this.originalIframeHasLoadedAlready = !0, this.iframeHasLoaded = !0, this.iframe = a, this.fireIframeLoadedCallbacks('The destination publishing iframe already exists from a different library, and had loaded alresady.'), this.requestToProcess())) : e(), this.iframe = a;
                                                },
                                                fireIframeLoadedCallbacks: function (t) {
                                                    this.iframeLoadedCallbacks.forEach(function (e) {
                                                        'function' == typeof e && e({ message: t || 'The destination publishing iframe was attached and loaded successfully.' });
                                                    }), this.iframeLoadedCallbacks = [];
                                                },
                                                requestToProcess: function (e) {
                                                    function t() {
                                                        a.jsonForComparison.push(e), a.jsonWaiting.push(e), a.processSyncOnPage(e);
                                                    }
                                                    var n, a = this;
                                                    if (e === Object(e) && e.ibs)
                                                        if (n = JSON.stringify(e.ibs || []), this.jsonForComparison.length) {
                                                            var r, i, o, s = !1;
                                                            for (r = 0, i = this.jsonForComparison.length; r < i; r++)
                                                                if (o = this.jsonForComparison[r], n === JSON.stringify(o.ibs || [])) {
                                                                    s = !0;
                                                                    break;
                                                                }
                                                            s ? this.jsonDuplicates.push(e) : t();
                                                        } else
                                                            t();
                                                    if ((this.receivedThirdPartyCookiesNotification || !ae.POST_MESSAGE_ENABLED || this.iframeHasLoaded) && this.jsonWaiting.length) {
                                                        var c = this.jsonWaiting.shift();
                                                        this.process(c), this.requestToProcess();
                                                    }
                                                    h.idSyncDisableSyncs || h.disableIdSyncs || !this.iframeHasLoaded || !this.messages.length || this.sendingMessages || (this.throttleTimerSet || (this.throttleTimerSet = !0, setTimeout(function () {
                                                        a.messageSendingInterval = ae.POST_MESSAGE_ENABLED ? null : 150;
                                                    }, this.THROTTLE_START)), this.sendingMessages = !0, this.sendMessages());
                                                },
                                                getRegionAndCheckIfChanged: function (e, t) {
                                                    var n = h._getField('MCAAMLH'), a = e.d_region || e.dcs_region;
                                                    return n ? a && (h._setFieldExpire('MCAAMLH', t), h._setField('MCAAMLH', a), parseInt(n, 10) !== a && (this.regionChanged = !0, this.timesRegionChanged++, h._setField('MCSYNCSOP', ''), h._setField('MCSYNCS', ''), n = a)) : (n = a) && (h._setFieldExpire('MCAAMLH', t), h._setField('MCAAMLH', n)), n || (n = ''), n;
                                                },
                                                processSyncOnPage: function (e) {
                                                    var t, n, a, r;
                                                    if ((t = e.ibs) && t instanceof Array && (n = t.length))
                                                        for (a = 0; a < n; a++)
                                                            (r = t[a]).syncOnPage && this.checkFirstPartyCookie(r, '', 'syncOnPage');
                                                },
                                                process: function (e) {
                                                    var t, n, a, r, i, o = encodeURIComponent, s = !1;
                                                    if ((t = e.ibs) && t instanceof Array && (n = t.length))
                                                        for (s = !0, a = 0; a < n; a++)
                                                            r = t[a], i = [
                                                                o('ibs'),
                                                                o(r.id || ''),
                                                                o(r.tag || ''),
                                                                K.encodeAndBuildRequest(r.url || [], ','),
                                                                o(r.ttl || ''),
                                                                '',
                                                                '',
                                                                r.fireURLSync ? 'true' : 'false'
                                                            ], r.syncOnPage || (this.canSetThirdPartyCookies ? this.addMessage(i.join('|')) : r.fireURLSync && this.checkFirstPartyCookie(r, i.join('|')));
                                                    s && this.jsonProcessed.push(e);
                                                },
                                                checkFirstPartyCookie: function (e, t, n) {
                                                    var a = 'syncOnPage' === n, r = a ? 'MCSYNCSOP' : 'MCSYNCS';
                                                    h._readVisitor();
                                                    var i, o, s = h._getField(r), c = !1, l = !1, u = Math.ceil(new Date().getTime() / ae.MILLIS_PER_DAY);
                                                    s ? (i = s.split('*'), c = (o = this.pruneSyncData(i, e.id, u)).dataPresent, l = o.dataValid, c && l || this.fireSync(a, e, t, i, r, u)) : (i = [], this.fireSync(a, e, t, i, r, u));
                                                },
                                                pruneSyncData: function (e, t, n) {
                                                    var a, r, i, o = !1, s = !1;
                                                    for (r = 0; r < e.length; r++)
                                                        a = e[r], i = parseInt(a.split('-')[1], 10), a.match('^' + t + '-') ? (o = !0, n < i ? s = !0 : (e.splice(r, 1), r--)) : i <= n && (e.splice(r, 1), r--);
                                                    return {
                                                        dataPresent: o,
                                                        dataValid: s
                                                    };
                                                },
                                                manageSyncsSize: function (e) {
                                                    if (e.join('*').length > this.MAX_SYNCS_LENGTH)
                                                        for (e.sort(function (e, t) {
                                                                return parseInt(e.split('-')[1], 10) - parseInt(t.split('-')[1], 10);
                                                            }); e.join('*').length > this.MAX_SYNCS_LENGTH;)
                                                            e.shift();
                                                },
                                                fireSync: function (e, t, n, a, u, r) {
                                                    var d = this;
                                                    if (e) {
                                                        if ('img' === t.tag) {
                                                            var i, o, s, c, l = t.url, p = h.loadSSL ? 'https:' : 'http:';
                                                            for (i = 0, o = l.length; i < o; i++) {
                                                                s = l[i], c = /^\/\//.test(s);
                                                                var f = new Image();
                                                                f.addEventListener('load', function (o, s, c, l) {
                                                                    return function () {
                                                                        d.onPagePixels[o] = null, h._readVisitor();
                                                                        var e, t, n, a, r = h._getField(u), i = [];
                                                                        if (r)
                                                                            for (t = 0, n = (e = r.split('*')).length; t < n; t++)
                                                                                (a = e[t]).match('^' + s.id + '-') || i.push(a);
                                                                        d.setSyncTrackingData(i, s, c, l);
                                                                    };
                                                                }(this.onPagePixels.length, t, u, r)), f.src = (c ? p : '') + s, this.onPagePixels.push(f);
                                                            }
                                                        }
                                                    } else
                                                        this.addMessage(n), this.setSyncTrackingData(a, t, u, r);
                                                },
                                                addMessage: function (e) {
                                                    var t = encodeURIComponent(h._enableErrorReporting ? '---destpub-debug---' : '---destpub---');
                                                    this.messages.push((ae.POST_MESSAGE_ENABLED ? '' : t) + e);
                                                },
                                                setSyncTrackingData: function (e, t, n, a) {
                                                    e.push(t.id + '-' + (a + Math.ceil(t.ttl / 60 / 24))), this.manageSyncsSize(e), h._setField(n, e.join('*'));
                                                },
                                                sendMessages: function () {
                                                    var e, t = this, n = '', a = encodeURIComponent;
                                                    this.regionChanged && (n = a('---destpub-clear-dextp---'), this.regionChanged = !1), this.messages.length ? ae.POST_MESSAGE_ENABLED ? (e = n + a('---destpub-combined---') + this.messages.join('%01'), this.postMessage(e), this.messages = [], this.sendingMessages = !1) : (e = this.messages.shift(), this.postMessage(n + e), setTimeout(function () {
                                                        t.sendMessages();
                                                    }, this.messageSendingInterval)) : this.sendingMessages = !1;
                                                },
                                                postMessage: function (e) {
                                                    ee.postMessage(e, this.url, this.iframe.contentWindow), this.messagesPosted.push(e);
                                                },
                                                receiveMessage: function (e) {
                                                    var t, n = /^---destpub-to-parent---/;
                                                    'string' == typeof e && n.test(e) && ('canSetThirdPartyCookies' === (t = e.replace(n, '').split('|'))[0] && (this.canSetThirdPartyCookies = 'true' === t[1], this.receivedThirdPartyCookiesNotification = !0, this.requestToProcess()), this.messagesReceived.push(e));
                                                },
                                                processIDCallData: function (e) {
                                                    (null == this.url || e.subdomain && 'nosubdomainreturned' === this.subdomain) && ('string' == typeof h._subdomain && h._subdomain.length ? this.subdomain = h._subdomain : this.subdomain = e.subdomain || '', this.url = this.getUrl()), e.ibs instanceof Array && e.ibs.length && (this.doAttachIframe = !0), this.readyToAttachIframe() && (h.idSyncAttachIframeOnWindowLoad ? (t.windowLoaded || 'complete' === r.readyState || 'loaded' === r.readyState) && this.attachIframe() : this.attachIframeASAP()), 'function' == typeof h.idSyncIDCallResult ? h.idSyncIDCallResult(e) : this.requestToProcess(e), 'function' == typeof h.idSyncAfterIDCallResult && h.idSyncAfterIDCallResult(e);
                                                },
                                                canMakeSyncIDCall: function (e, t) {
                                                    return h._forceSyncIDCall || !e || t - e > ae.DAYS_BETWEEN_SYNC_ID_CALLS;
                                                },
                                                attachIframeASAP: function () {
                                                    function e() {
                                                        t.startedAttachingIframe || (r.body ? t.attachIframe() : setTimeout(e, 30));
                                                    }
                                                    var t = this;
                                                    e();
                                                }
                                            };
                                        }, B = {
                                            audienceManagerServer: {},
                                            audienceManagerServerSecure: {},
                                            cookieDomain: {},
                                            cookieLifetime: {},
                                            cookieName: {},
                                            doesOptInApply: { type: 'boolean' },
                                            disableThirdPartyCalls: { type: 'boolean' },
                                            discardTrackingServerECID: { type: 'boolean' },
                                            idSyncAfterIDCallResult: {},
                                            idSyncAttachIframeOnWindowLoad: { type: 'boolean' },
                                            idSyncContainerID: {},
                                            idSyncDisable3rdPartySyncing: { type: 'boolean' },
                                            disableThirdPartyCookies: { type: 'boolean' },
                                            idSyncDisableSyncs: { type: 'boolean' },
                                            disableIdSyncs: { type: 'boolean' },
                                            idSyncIDCallResult: {},
                                            idSyncSSLUseAkamai: { type: 'boolean' },
                                            isCoopSafe: { type: 'boolean' },
                                            isIabContext: { type: 'boolean' },
                                            isOptInStorageEnabled: { type: 'boolean' },
                                            loadSSL: { type: 'boolean' },
                                            loadTimeout: {},
                                            marketingCloudServer: {},
                                            marketingCloudServerSecure: {},
                                            optInCookieDomain: {},
                                            optInStorageExpiry: {},
                                            overwriteCrossDomainMCIDAndAID: { type: 'boolean' },
                                            preOptInApprovals: {},
                                            previousPermissions: {},
                                            resetBeforeVersion: {},
                                            sdidParamExpiry: {},
                                            serverState: {},
                                            sessionCookieName: {},
                                            secureCookie: { type: 'boolean' },
                                            sameSiteCookie: {},
                                            takeTimeoutMetrics: {},
                                            trackingServer: {},
                                            trackingServerSecure: {},
                                            useLocalStorage: { type: 'boolean' },
                                            whitelistIframeDomains: {},
                                            whitelistParentDomain: {}
                                        }, F = {
                                            getConfigNames: function () {
                                                return Object.keys(B);
                                            },
                                            getConfigs: function () {
                                                return B;
                                            },
                                            normalizeConfig: function (e, t) {
                                                return B[e] && 'boolean' === B[e].type ? 'function' != typeof t ? t : t() : t;
                                            }
                                        }, U = function (e) {
                                            var r = {};
                                            return e.on = function (e, t, n) {
                                                if (!t || 'function' != typeof t)
                                                    throw new Error('[ON] Callback should be a function.');
                                                r.hasOwnProperty(e) || (r[e] = []);
                                                var a = r[e].push({
                                                    callback: t,
                                                    context: n
                                                }) - 1;
                                                return function () {
                                                    r[e].splice(a, 1), r[e].length || delete r[e];
                                                };
                                            }, e.off = function (e, t) {
                                                r.hasOwnProperty(e) && (r[e] = r[e].filter(function (e) {
                                                    if (e.callback !== t)
                                                        return e;
                                                }));
                                            }, e.publish = function (e) {
                                                if (r.hasOwnProperty(e)) {
                                                    var t = [].slice.call(arguments, 1);
                                                    r[e].slice(0).forEach(function (e) {
                                                        e.callback.apply(e.context, t);
                                                    });
                                                }
                                            }, e.publish;
                                        }, H = {
                                            PENDING: 'pending',
                                            CHANGED: 'changed',
                                            COMPLETE: 'complete'
                                        }, q = {
                                            AAM: 'aam',
                                            ADCLOUD: 'adcloud',
                                            ANALYTICS: 'aa',
                                            CAMPAIGN: 'campaign',
                                            ECID: 'ecid',
                                            LIVEFYRE: 'livefyre',
                                            TARGET: 'target',
                                            MEDIA_ANALYTICS: 'mediaaa'
                                        }, ie = (e(m = {}, q.AAM, 565), e(m, q.ECID, 565), m), oe = (e(v = {}, q.AAM, [
                                            1,
                                            10
                                        ]), e(v, q.ECID, [
                                            1,
                                            10
                                        ]), v), se = [
                                            'videoaa',
                                            'iabConsentHash'
                                        ], ce = (b = q, Object.keys(b).map(function (e) {
                                            return b[e];
                                        })), le = function () {
                                            var a = {};
                                            return a.callbacks = Object.create(null), a.add = function (e, t) {
                                                if (!c(t))
                                                    throw new Error('[callbackRegistryFactory] Make sure callback is a function or an array of functions.');
                                                a.callbacks[e] = a.callbacks[e] || [];
                                                var n = a.callbacks[e].push(t) - 1;
                                                return function () {
                                                    a.callbacks[e].splice(n, 1);
                                                };
                                            }, a.execute = function (e, t) {
                                                if (a.callbacks[e]) {
                                                    t = (t = void 0 === t ? [] : t) instanceof Array ? t : [t];
                                                    try {
                                                        for (; a.callbacks[e].length;) {
                                                            var n = a.callbacks[e].shift();
                                                            'function' == typeof n ? n.apply(null, t) : n instanceof Array && n[1].apply(n[0], t);
                                                        }
                                                        delete a.callbacks[e];
                                                    } catch (a) {
                                                    }
                                                }
                                            }, a.executeAll = function (n, e) {
                                                (e || n && !s(n)) && Object.keys(a.callbacks).forEach(function (e) {
                                                    var t = void 0 !== n[e] ? n[e] : '';
                                                    a.execute(e, t);
                                                }, a);
                                            }, a.hasCallbacks = function () {
                                                return Boolean(Object.keys(a.callbacks).length);
                                            }, a;
                                        }, ue = function () {
                                        }, de = function (e) {
                                            var t = window.console;
                                            return !!t && 'function' == typeof t[e];
                                        }, pe = function (a, r, e) {
                                            return e() ? function () {
                                                if (de(a)) {
                                                    for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                                                        t[n] = arguments[n];
                                                    console[a].apply(console, [r].concat(t));
                                                }
                                            } : ue;
                                        }, fe = a, he = function () {
                                            for (var r = [], e = 0; e < 256; e++) {
                                                for (var t = e, n = 0; n < 8; n++)
                                                    t = 1 & t ? 3988292384 ^ t >>> 1 : t >>> 1;
                                                r.push(t);
                                            }
                                            return function (e, t) {
                                                e = unescape(encodeURIComponent(e)), t || (t = 0), t ^= -1;
                                                for (var n = 0; n < e.length; n++) {
                                                    var a = 255 & (t ^ e.charCodeAt(n));
                                                    t = t >>> 8 ^ r[a];
                                                }
                                                return (t ^= -1) >>> 0;
                                            };
                                        }(), ge = new fe('[ADOBE OPT-IN]'), me = function (e, t) {
                                            return $(e) === t;
                                        }, ve = function (e, t) {
                                            return e instanceof Array ? e : me(e, 'string') ? [e] : t || [];
                                        }, be = function (t) {
                                            var e = Object.keys(t);
                                            return !!e.length && e.every(function (e) {
                                                return !0 === t[e];
                                            });
                                        }, ye = function (e, t) {
                                            var n = 1 < arguments.length && void 0 !== t && arguments[1];
                                            return !(!e || Te(e)) && ve(e).every(function (e) {
                                                return -1 < ce.indexOf(e) || n && -1 < se.indexOf(e);
                                            });
                                        }, _e = function (e, n) {
                                            return e.reduce(function (e, t) {
                                                return e[t] = n, e;
                                            }, {});
                                        }, Se = function (e) {
                                            return JSON.parse(JSON.stringify(e));
                                        }, Te = function (e) {
                                            return '[object Array]' === Object.prototype.toString.call(e) && !e.length;
                                        }, Ce = function (e) {
                                            if (Ie(e))
                                                return e;
                                            try {
                                                return JSON.parse(e);
                                            } catch (e) {
                                                return {};
                                            }
                                        }, we = function (e) {
                                            return void 0 === e || (Ie(e) ? ye(Object.keys(e), !0) : ke(e));
                                        }, ke = function (e) {
                                            try {
                                                var t = JSON.parse(e);
                                                return !!e && me(e, 'string') && ye(Object.keys(t), !0);
                                            } catch (e) {
                                                return !1;
                                            }
                                        }, Ie = function (e) {
                                            return null !== e && me(e, 'object') && !1 === Array.isArray(e);
                                        }, Pe = function () {
                                        }, De = function (e) {
                                            return me(e, 'function') ? e() : e;
                                        }, Ee = function (e, t) {
                                            we(e) || ge.error(''.concat(t));
                                        }, Ae = function (t) {
                                            return Object.keys(t).map(function (e) {
                                                return t[e];
                                            });
                                        }, xe = function (e) {
                                            return Ae(e).filter(function (e, t, n) {
                                                return n.indexOf(e) === t;
                                            });
                                        }, Ne = function (d) {
                                            return function (e) {
                                                var t = 0 < arguments.length && void 0 !== e ? arguments[0] : {}, n = t.command, a = t.params, r = void 0 === a ? {} : a, i = t.callback, o = void 0 === i ? Pe : i;
                                                if (!n || -1 === n.indexOf('.'))
                                                    throw new Error('[OptIn.execute] Please provide a valid command.');
                                                try {
                                                    var s = n.split('.'), c = d[s[0]], l = s[1];
                                                    if (!c || 'function' != typeof c[l])
                                                        throw new Error('Make sure the plugin and API name exist.');
                                                    var u = Object.assign(r, { callback: o });
                                                    c[l].call(c, u);
                                                } catch (d) {
                                                    ge.error('[execute] Something went wrong: ' + d.message);
                                                }
                                            };
                                        };
                                    l.prototype = Object.create(Error.prototype), l.prototype.constructor = l;
                                    var Oe = 'fetchPermissions', Me = '[OptIn#registerPlugin] Plugin is invalid.';
                                    u.Categories = q, u.TimeoutError = l;
                                    var Le = Object.freeze({
                                            OptIn: u,
                                            IabPlugin: g
                                        }), Re = function (d, p) {
                                            d.publishDestinations = function (e, t, n) {
                                                var a = t, r = n;
                                                try {
                                                    r = 'function' == typeof r ? r : e.callback;
                                                } catch (d) {
                                                    r = function () {
                                                    };
                                                }
                                                var i = p;
                                                if (i.readyToAttachIframePreliminary()) {
                                                    if ('string' == typeof e) {
                                                        if (!e.length)
                                                            return void r({ error: 'subdomain is not a populated string.' });
                                                        if (!(a instanceof Array && a.length))
                                                            return void r({ error: 'messages is not a populated array.' });
                                                        var o = !1;
                                                        if (a.forEach(function (e) {
                                                                'string' == typeof e && e.length && (i.addMessage(e), o = !0);
                                                            }), !o)
                                                            return void r({ error: 'None of the messages are populated strings.' });
                                                    } else {
                                                        if (!K.isObject(e))
                                                            return void r({ error: 'Invalid parameters passed.' });
                                                        var s = e;
                                                        if ('string' != typeof (e = s.subdomain) || !e.length)
                                                            return void r({ error: 'config.subdomain is not a populated string.' });
                                                        var c = s.urlDestinations;
                                                        if (!(c instanceof Array && c.length))
                                                            return void r({ error: 'config.urlDestinations is not a populated array.' });
                                                        var l = [];
                                                        c.forEach(function (e) {
                                                            K.isObject(e) && (e.hideReferrer ? e.message && i.addMessage(e.message) : l.push(e));
                                                        }), function u() {
                                                            l.length && setTimeout(function () {
                                                                var e = new Image(), t = l.shift();
                                                                e.src = t.url, i.onPageDestinationsFired.push(t), u();
                                                            }, 100);
                                                        }();
                                                    }
                                                    i.iframe ? (r({ message: 'The destination publishing iframe is already attached and loaded.' }), i.requestToProcess()) : !d.subdomain && d._getField('MCMID') ? (i.subdomain = e, i.doAttachIframe = !0, i.url = i.getUrl(), i.readyToAttachIframe() ? (i.iframeLoadedCallbacks.push(function (e) {
                                                        r({ message: 'Attempted to attach and load the destination publishing iframe through this API call. Result: ' + (e.message || 'no result') });
                                                    }), i.attachIframe()) : r({ error: 'Encountered a problem in attempting to attach and load the destination publishing iframe through this API call.' })) : i.iframeLoadedCallbacks.push(function (e) {
                                                        r({ message: 'Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: ' + (e.message || 'no result') });
                                                    });
                                                } else
                                                    r({ error: 'The destination publishing iframe is disabled in the Visitor library.' });
                                            };
                                        }, je = function $(e) {
                                            function t(e, t) {
                                                return e >>> t | e << 32 - t;
                                            }
                                            for (var n, a, r = Math.pow, i = r(2, 32), o = '', s = [], c = 8 * e.length, l = $.h = $.h || [], u = $.k = $.k || [], d = u.length, p = {}, f = 2; d < 64; f++)
                                                if (!p[f]) {
                                                    for (n = 0; n < 313; n += f)
                                                        p[n] = f;
                                                    l[d] = r(f, 0.5) * i | 0, u[d++] = r(f, 1 / 3) * i | 0;
                                                }
                                            for (e += '\x80'; e.length % 64 - 56;)
                                                e += '\0';
                                            for (n = 0; n < e.length; n++) {
                                                if ((a = e.charCodeAt(n)) >> 8)
                                                    return;
                                                s[n >> 2] |= a << (3 - n) % 4 * 8;
                                            }
                                            for (s[s.length] = c / i | 0, s[s.length] = c, a = 0; a < s.length;) {
                                                var h = s.slice(a, a += 16), g = l;
                                                for (l = l.slice(0, 8), n = 0; n < 64; n++) {
                                                    var m = h[n - 15], v = h[n - 2], b = l[0], y = l[4], _ = l[7] + (t(y, 6) ^ t(y, 11) ^ t(y, 25)) + (y & l[5] ^ ~y & l[6]) + u[n] + (h[n] = n < 16 ? h[n] : h[n - 16] + (t(m, 7) ^ t(m, 18) ^ m >>> 3) + h[n - 7] + (t(v, 17) ^ t(v, 19) ^ v >>> 10) | 0);
                                                    (l = [_ + ((t(b, 2) ^ t(b, 13) ^ t(b, 22)) + (b & l[1] ^ b & l[2] ^ l[1] & l[2])) | 0].concat(l))[4] = l[4] + _ | 0;
                                                }
                                                for (n = 0; n < 8; n++)
                                                    l[n] = l[n] + g[n] | 0;
                                            }
                                            for (n = 0; n < 8; n++)
                                                for (a = 3; a + 1; a--) {
                                                    var S = l[n] >> 8 * a & 255;
                                                    o += (S < 16 ? 0 : '') + S.toString(16);
                                                }
                                            return o;
                                        }, Ve = function (e, t) {
                                            return 'SHA-256' !== t && 'SHA256' !== t && 'sha256' !== t && 'sha-256' !== t || (e = je(e)), e;
                                        }, Be = function (e) {
                                            return String(e).trim().toLowerCase();
                                        }, Fe = Le.OptIn;
                                    K.defineGlobalNamespace(), window.adobe.OptInCategories = Fe.Categories;
                                    var Ue = function (a, n, e) {
                                        function p() {
                                            v._customerIDsHashChanged = !1;
                                        }
                                        function t(e) {
                                            var a = e;
                                            return function (e) {
                                                var t = e || C.location.href;
                                                try {
                                                    var n = v._extractParamFromUri(t, a);
                                                    if (n)
                                                        return F.parsePipeDelimetedKeyValues(n);
                                                } catch (e) {
                                                }
                                            };
                                        }
                                        function r(e) {
                                            function t(e, t, n) {
                                                e && e.match(ae.VALID_VISITOR_ID_REGEX) && (n === D && (T = !0), t(e));
                                            }
                                            t(e[D], v.setMarketingCloudVisitorID, D), v._setFieldExpire(O, -1), t(e[x], v.setAnalyticsVisitorID);
                                        }
                                        function i(e) {
                                            e = e || {}, v._supplementalDataIDCurrent = e.supplementalDataIDCurrent || '', v._supplementalDataIDCurrentConsumed = e.supplementalDataIDCurrentConsumed || {}, v._supplementalDataIDLast = e.supplementalDataIDLast || '', v._supplementalDataIDLastConsumed = e.supplementalDataIDLastConsumed || {};
                                        }
                                        function o(e) {
                                            function r(e, t, n) {
                                                return (n = n ? n += '|' : n) + (e + '=') + encodeURIComponent(t);
                                            }
                                            function t(e, t) {
                                                var n = t[0], a = t[1];
                                                return null != a && a !== M && (e = r(n, a, e)), e;
                                            }
                                            var n, a = e.reduce(t, '');
                                            return (n = (n = a) ? n += '|' : n) + 'TS=' + F.getTimestampInSeconds();
                                        }
                                        function s(e) {
                                            var t = e.minutesToLive, n = '';
                                            return (v.idSyncDisableSyncs || v.disableIdSyncs) && (n = n || 'Error: id syncs have been disabled'), 'string' == typeof e.dpid && e.dpid.length || (n = n || 'Error: config.dpid is empty'), 'string' == typeof e.url && e.url.length || (n = n || 'Error: config.url is empty'), void 0 === t ? t = 20160 : (t = parseInt(t, 10), (isNaN(t) || t <= 0) && (n = n || 'Error: config.minutesToLive needs to be a positive number')), {
                                                error: n,
                                                ttl: t
                                            };
                                        }
                                        function c() {
                                            return !(!v.configs.doesOptInApply || b.optIn.isComplete && d());
                                        }
                                        function d() {
                                            return v.configs.doesOptInApply && v.configs.isIabContext ? b.optIn.isApproved(b.optIn.Categories.ECID) && S : b.optIn.isApproved(b.optIn.Categories.ECID);
                                        }
                                        function l() {
                                            [
                                                ['getMarketingCloudVisitorID'],
                                                [
                                                    'setCustomerIDs',
                                                    void 0
                                                ],
                                                [
                                                    'syncIdentity',
                                                    void 0
                                                ],
                                                ['getAnalyticsVisitorID'],
                                                ['getAudienceManagerLocationHint'],
                                                ['getLocationHint'],
                                                ['getAudienceManagerBlob']
                                            ].forEach(function (e) {
                                                var t = e[0], n = 2 === e.length ? e[1] : '', a = v[t];
                                                v[t] = function (e) {
                                                    return d() && v.isAllowed() ? a.apply(v, arguments) : ('function' == typeof e && v._callCallback(e, [n]), n);
                                                };
                                            });
                                        }
                                        function u() {
                                            var e = v._getAudienceManagerURLData(), t = e.url;
                                            return v._loadData(P, t, null, e);
                                        }
                                        function f(e, t) {
                                            if (S = !0, e)
                                                throw new Error('[IAB plugin] : ' + e);
                                            t && t.gdprApplies && (y = t.consentString, _ = t.hasConsentChangedSinceLastCmpPull ? 1 : 0), u(), m();
                                        }
                                        function h(e, t) {
                                            if (S = !0, e)
                                                throw new Error('[IAB plugin] : ' + e);
                                            t.gdprApplies && (y = t.consentString, _ = t.hasConsentChangedSinceLastCmpPull ? 1 : 0), v.init(), m();
                                        }
                                        function g() {
                                            b.optIn.isComplete && (b.optIn.isApproved(b.optIn.Categories.ECID) ? v.configs.isIabContext ? b.optIn.execute({
                                                command: 'iabPlugin.fetchConsentData',
                                                callback: h
                                            }) : (v.init(), m()) : v.configs.isIabContext ? b.optIn.execute({
                                                command: 'iabPlugin.fetchConsentData',
                                                callback: f
                                            }) : (l(), m()));
                                        }
                                        function m() {
                                            b.optIn.off('complete', g);
                                        }
                                        if (!e || e.split('').reverse().join('') !== a)
                                            throw new Error('Please use `Visitor.getInstance` to instantiate Visitor.');
                                        var v = this, b = window.adobe, y = '', _ = 0, S = !1, T = !1;
                                        v.version = '5.2.0';
                                        var C = G, w = C.Visitor;
                                        w.version = v.version, w.AuthState = Y.AUTH_STATE, w.OptOut = Y.OPT_OUT, C.s_c_in || (C.s_c_il = [], C.s_c_in = 0), v._c = 'Visitor', v._il = C.s_c_il, v._in = C.s_c_in, v._il[v._in] = v, C.s_c_in++, v._instanceType = 'regular', v._log = { requests: [] }, v.marketingCloudOrgID = a, v.cookieName = 'AMCV_' + a, v.sessionCookieName = 'AMCVS_' + a;
                                        var k = {};
                                        n && n.secureCookie && n.sameSiteCookie && (k = {
                                            sameSite: n.sameSiteCookie,
                                            secure: n.secureCookie
                                        }), v.cookieDomain = v.useLocalStorage ? '' : X(null, k), v.loadSSL = !0, v.loadTimeout = 30000, v.CORSErrors = [], v.marketingCloudServer = v.audienceManagerServer = 'dpm.demdex.net', v.sdidParamExpiry = 30;
                                        var I = null, P = 'MC', D = 'MCMID', E = 'MCIDTS', A = 'A', x = 'MCAID', N = 'AAM', O = 'MCAAMB', M = 'NONE', L = function (e) {
                                                return !Object.prototype[e];
                                            }, R = ne(v);
                                        v.FIELDS = Y.FIELDS, v.cookieRead = function (e) {
                                            return v.useLocalStorage ? e === v.sessionCookieName ? sessionStorage.getItem(e) : localStorage.getItem(e) : J.get(e);
                                        }, v.cookieWrite = function (e, t, n) {
                                            var a = '' + t;
                                            if (v.useLocalStorage)
                                                return e === v.sessionCookieName ? sessionStorage.setItem(e, a) : localStorage.setItem(e, a);
                                            var r = v.cookieLifetime ? ('' + v.cookieLifetime).toUpperCase() : '', i = {
                                                    expires: n,
                                                    domain: v.cookieDomain,
                                                    cookieLifetime: r
                                                };
                                            return v.configs && v.configs.secureCookie && 'https:' === location.protocol && (i.secure = !0), v.configs && v.configs.sameSiteCookie && 'https:' === location.protocol && (i.sameSite = Y.SAME_SITE_VALUES[v.configs.sameSiteCookie.toUpperCase()] || 'Lax'), J.set(e, a, i);
                                        }, v.removeCookie = function (e) {
                                            if (v.useLocalStorage)
                                                return e === v.sessionCookieName ? sessionStorage.removeItem(e) : localStorage.removeItem(e);
                                            var t = { domain: v.cookieDomain };
                                            return v.configs && v.configs.secureCookie && 'https:' === location.protocol && (t.secure = !0), v.configs && v.configs.sameSiteCookie && 'https:' === location.protocol && (t.sameSite = Y.SAME_SITE_VALUES[v.configs.sameSiteCookie.toUpperCase()] || 'Lax'), J.remove(e, t);
                                        }, v.resetState = function (e) {
                                            e ? v._mergeServerState(e) : i();
                                        }, v._isAllowedDone = !1, v._isAllowedFlag = !1, v.isAllowed = function () {
                                            return v._isAllowedDone || (v._isAllowedDone = !0, (v.cookieRead(v.cookieName) || v.cookieWrite(v.cookieName, 'T', 1)) && (v._isAllowedFlag = !0)), 'T' === v.cookieRead(v.cookieName) && v.removeCookie(v.cookieName), v._isAllowedFlag;
                                        }, v.setMarketingCloudVisitorID = function (e) {
                                            v._setMarketingCloudFields(e);
                                        }, v._use1stPartyMarketingCloudServer = !1, v.getMarketingCloudVisitorID = function (e, t) {
                                            v.marketingCloudServer && v.marketingCloudServer.indexOf('.demdex.net') < 0 && (v._use1stPartyMarketingCloudServer = !0);
                                            var n = v._getAudienceManagerURLData('_setMarketingCloudFields'), a = n.url;
                                            return v._getRemoteField(D, a, e, t, n);
                                        };
                                        var j = function (t, e) {
                                            var n = {};
                                            v.getMarketingCloudVisitorID(function () {
                                                e.forEach(function (e) {
                                                    n[e] = v._getField(e, !0);
                                                }), -1 !== e.indexOf('MCOPTOUT') ? v.isOptedOut(function (e) {
                                                    n.MCOPTOUT = e, t(n);
                                                }, null, !0) : t(n);
                                            }, !0);
                                        };
                                        v.getVisitorValues = function (e, t) {
                                            var n = {
                                                    MCMID: {
                                                        fn: v.getMarketingCloudVisitorID,
                                                        args: [!0],
                                                        context: v
                                                    },
                                                    MCOPTOUT: {
                                                        fn: v.isOptedOut,
                                                        args: [
                                                            void 0,
                                                            !0
                                                        ],
                                                        context: v
                                                    },
                                                    MCAID: {
                                                        fn: v.getAnalyticsVisitorID,
                                                        args: [!0],
                                                        context: v
                                                    },
                                                    MCAAMLH: {
                                                        fn: v.getAudienceManagerLocationHint,
                                                        args: [!0],
                                                        context: v
                                                    },
                                                    MCAAMB: {
                                                        fn: v.getAudienceManagerBlob,
                                                        args: [!0],
                                                        context: v
                                                    }
                                                }, a = t && t.length ? K.pluck(n, t) : n;
                                            t && -1 === t.indexOf('MCAID') ? j(e, t) : W(a, e);
                                        }, v._currentCustomerIDs = {}, v._customerIDsHashChanged = !1, v._newCustomerIDsHash = '', v.setCustomerIDs = function (e, t) {
                                            if (!v.isOptedOut() && e) {
                                                if (!K.isObject(e) || K.isObjectEmpty(e))
                                                    return !1;
                                                var n, a, r, i;
                                                for (n in (v._readVisitor(), e))
                                                    if (L(n) && (v._currentCustomerIDs.dataSources = v._currentCustomerIDs.dataSources || {}, t = (a = e[n]).hasOwnProperty('hashType') ? a.hashType : t, a))
                                                        if ('object' === $(a)) {
                                                            var o = {};
                                                            if (a.id) {
                                                                if (t) {
                                                                    if (!(i = Ve(Be(a.id), t)))
                                                                        return;
                                                                    a.id = i, o.hashType = t;
                                                                }
                                                                o.id = a.id;
                                                            }
                                                            null != a.authState && (o.authState = a.authState), v._currentCustomerIDs.dataSources[n] = o;
                                                        } else if (t) {
                                                            if (!(i = Ve(Be(a), t)))
                                                                return;
                                                            v._currentCustomerIDs.dataSources[n] = {
                                                                id: i,
                                                                hashType: t
                                                            };
                                                        } else
                                                            v._currentCustomerIDs.dataSources[n] = { id: a };
                                                var s = v.getCustomerIDs(!0), c = v._getField('MCCIDH'), l = '';
                                                for (r in (c || (c = 0), s)) {
                                                    var u = s[r];
                                                    if (!K.isObjectEmpty(u))
                                                        for (n in u)
                                                            L(n) && (l += (l ? '|' : '') + n + '|' + ((a = u[n]).id ? a.id : '') + (a.authState ? a.authState : ''));
                                                }
                                                v._newCustomerIDsHash = String(v._hash(l)), v._newCustomerIDsHash !== c && (v._customerIDsHashChanged = !0, v._mapCustomerIDs(p));
                                            }
                                        }, v.syncIdentity = function (e, t) {
                                            if (!v.isOptedOut() && e) {
                                                if (!K.isObject(e) || K.isObjectEmpty(e))
                                                    return !1;
                                                var n, a, r, i, o;
                                                for (n in (v._readVisitor(), e))
                                                    if (L(n) && (v._currentCustomerIDs.nameSpaces = v._currentCustomerIDs.nameSpaces || {}, t = (a = e[n]).hasOwnProperty('hashType') ? a.hashType : t, a && 'object' === $(a))) {
                                                        var s = {};
                                                        if (a.id) {
                                                            if (t) {
                                                                if (!(r = Ve(Be(a.id), t)))
                                                                    return;
                                                                a.id = r, s.hashType = t;
                                                            }
                                                            s.id = a.id;
                                                        }
                                                        null != a.authState && (s.authState = a.authState), a.dataSource && (v._currentCustomerIDs.dataSources = v._currentCustomerIDs.dataSources || {}, i = a.dataSource, v._currentCustomerIDs.dataSources[i] = s), v._currentCustomerIDs.nameSpaces[n] = s;
                                                    }
                                                var c = v.getCustomerIDs(!0), l = v._getField('MCCIDH'), u = '';
                                                for (o in (l || (l = '0'), c)) {
                                                    var d = c[o];
                                                    if (!K.isObjectEmpty(d))
                                                        for (n in d)
                                                            L(n) && (u += (u ? '|' : '') + n + '|' + ((a = d[n]).id ? a.id : '') + (a.authState ? a.authState : ''));
                                                }
                                                v._newCustomerIDsHash = String(v._hash(u)), v._newCustomerIDsHash !== l && (v._customerIDsHashChanged = !0, v._mapCustomerIDs(p));
                                            }
                                        }, v.getCustomerIDs = function (e) {
                                            v._readVisitor();
                                            var t, n, a = {
                                                    dataSources: {},
                                                    nameSpaces: {}
                                                }, r = v._currentCustomerIDs.dataSources;
                                            for (t in r)
                                                L(t) && (n = r[t]).id && (a.dataSources[t] || (a.dataSources[t] = {}), a.dataSources[t].id = n.id, null != n.authState ? a.dataSources[t].authState = n.authState : a.dataSources[t].authState = w.AuthState.UNKNOWN, n.hashType && (a.dataSources[t].hashType = n.hashType));
                                            var i = v._currentCustomerIDs.nameSpaces;
                                            for (t in i)
                                                L(t) && (n = i[t]).id && (a.nameSpaces[t] || (a.nameSpaces[t] = {}), a.nameSpaces[t].id = n.id, null != n.authState ? a.nameSpaces[t].authState = n.authState : a.nameSpaces[t].authState = w.AuthState.UNKNOWN, n.hashType && (a.nameSpaces[t].hashType = n.hashType));
                                            return e ? a : a.dataSources;
                                        }, v.setAnalyticsVisitorID = function (e) {
                                            v._setAnalyticsFields(e);
                                        }, v.getAnalyticsVisitorID = function (e, t, n) {
                                            if (!F.isTrackingServerPopulated() && !n)
                                                return v._callCallback(e, ['']), '';
                                            var a = '';
                                            if (n || (a = v.getMarketingCloudVisitorID(function () {
                                                    v.getAnalyticsVisitorID(e, !0);
                                                })), a || n) {
                                                var r = n ? v.marketingCloudServer : v.trackingServer, i = '';
                                                v.loadSSL && (n ? v.marketingCloudServerSecure && (r = v.marketingCloudServerSecure) : v.trackingServerSecure && (r = v.trackingServerSecure));
                                                var o = {};
                                                if (r) {
                                                    var s = 'http' + (v.loadSSL ? 's' : '') + '://' + r + '/id', c = 'd_visid_ver=' + v.version + '&mcorgid=' + encodeURIComponent(v.marketingCloudOrgID) + (a ? '&mid=' + encodeURIComponent(a) : '') + (v.idSyncDisable3rdPartySyncing || v.disableThirdPartyCookies ? '&d_coppa=true' : ''), l = [
                                                            's_c_il',
                                                            v._in,
                                                            '_set' + (n ? 'MarketingCloud' : 'Analytics') + 'Fields'
                                                        ];
                                                    i = s + '?' + c + '&callback=s_c_il%5B' + v._in + '%5D._set' + (n ? 'MarketingCloud' : 'Analytics') + 'Fields', o.corsUrl = s + '?' + c, o.callback = l;
                                                }
                                                return o.url = i, v._getRemoteField(n ? D : x, i, e, t, o);
                                            }
                                            return '';
                                        }, v.getAudienceManagerLocationHint = function (e, t) {
                                            if (v.getMarketingCloudVisitorID(function () {
                                                    v.getAudienceManagerLocationHint(e, !0);
                                                })) {
                                                var n = v._getField(x);
                                                if (!n && F.isTrackingServerPopulated() && (n = v.getAnalyticsVisitorID(function () {
                                                        v.getAudienceManagerLocationHint(e, !0);
                                                    })), n || !F.isTrackingServerPopulated()) {
                                                    var a = v._getAudienceManagerURLData(), r = a.url;
                                                    return v._getRemoteField('MCAAMLH', r, e, t, a);
                                                }
                                            }
                                            return '';
                                        }, v.getLocationHint = v.getAudienceManagerLocationHint, v.getAudienceManagerBlob = function (e, t) {
                                            if (v.getMarketingCloudVisitorID(function () {
                                                    v.getAudienceManagerBlob(e, !0);
                                                })) {
                                                var n = v._getField(x);
                                                if (!n && F.isTrackingServerPopulated() && (n = v.getAnalyticsVisitorID(function () {
                                                        v.getAudienceManagerBlob(e, !0);
                                                    })), n || !F.isTrackingServerPopulated()) {
                                                    var a = v._getAudienceManagerURLData(), r = a.url;
                                                    return v._customerIDsHashChanged && v._setFieldExpire(O, -1), v._getRemoteField(O, r, e, t, a);
                                                }
                                            }
                                            return '';
                                        }, v._supplementalDataIDCurrent = '', v._supplementalDataIDCurrentConsumed = {}, v._supplementalDataIDLast = '', v._supplementalDataIDLastConsumed = {};
                                        var V = !(v.getSupplementalDataID = function (e, t) {
                                            v._supplementalDataIDCurrent || t || (v._supplementalDataIDCurrent = v._generateID(1));
                                            var n = v._supplementalDataIDCurrent;
                                            return v._supplementalDataIDLast && !v._supplementalDataIDLastConsumed[e] ? (n = v._supplementalDataIDLast, v._supplementalDataIDLastConsumed[e] = !0) : n && (v._supplementalDataIDCurrentConsumed[e] && (v._supplementalDataIDLast = v._supplementalDataIDCurrent, v._supplementalDataIDLastConsumed = v._supplementalDataIDCurrentConsumed, v._supplementalDataIDCurrent = n = t ? '' : v._generateID(1), v._supplementalDataIDCurrentConsumed = {}), n && (v._supplementalDataIDCurrentConsumed[e] = !0)), n;
                                        });
                                        v._liberatedOptOut = null, v.getOptOut = function (e, t) {
                                            var n = v._getAudienceManagerURLData('_setMarketingCloudFields'), a = n.url;
                                            if (d())
                                                return v._getRemoteField('MCOPTOUT', a, e, t, n);
                                            if (v._registerCallback('liberatedOptOut', e), null !== v._liberatedOptOut)
                                                return v._callAllCallbacks('liberatedOptOut', [v._liberatedOptOut]), V = !1, v._liberatedOptOut;
                                            if (V)
                                                return null;
                                            V = !0;
                                            var r = 'liberatedGetOptOut';
                                            return n.corsUrl = n.corsUrl.replace(/\.demdex\.net\/id\?/, '.demdex.net/optOutStatus?'), n.callback = [r], G[r] = function (e) {
                                                if (e === Object(e)) {
                                                    var t, n, a = K.parseOptOut(e, t, M);
                                                    t = a.optOut, n = 1000 * a.d_ottl, v._liberatedOptOut = t, setTimeout(function () {
                                                        v._liberatedOptOut = null;
                                                    }, n);
                                                }
                                                v._callAllCallbacks('liberatedOptOut', [t]), V = !1;
                                            }, R.fireCORS(n), null;
                                        };
                                        var B = {
                                            subscribed: (v.isOptedOut = function (n, a, e) {
                                                a || (a = w.OptOut.GLOBAL);
                                                var t = v.getOptOut(function (e) {
                                                    var t = e === w.OptOut.GLOBAL || 0 <= e.indexOf(a);
                                                    v._callCallback(n, [t]);
                                                }, e);
                                                return t ? t === w.OptOut.GLOBAL || 0 <= t.indexOf(a) : null;
                                            }, !1),
                                            callbacks: []
                                        };
                                        v.onReceiveEcid = function (e) {
                                            if (d())
                                                return v.getMarketingCloudVisitorID(e, !0);
                                            B.subscribed = !0, e && 'function' == typeof e && B.callbacks.push(e);
                                        }, v._fields = null, v._fieldsExpired = null, v._hash = function (e) {
                                            var t, n = 0;
                                            if (e)
                                                for (t = 0; t < e.length; t++)
                                                    n = (n << 5) - n + e.charCodeAt(t), n &= n;
                                            return n;
                                        }, v._generateID = te, v._generateLocalMID = function () {
                                            var e = v._generateID(0);
                                            return q.isClientSideMarketingCloudVisitorID = !0, e;
                                        }, v._callbackList = null, v._callCallback = function (e, t) {
                                            try {
                                                'function' == typeof e ? e.apply(C, t) : e[1].apply(e[0], t);
                                            } catch (e) {
                                            }
                                        }, v._registerCallback = function (e, t) {
                                            t && (null == v._callbackList && (v._callbackList = {}), null == v._callbackList[e] && (v._callbackList[e] = []), v._callbackList[e].push(t));
                                        }, v._callAllCallbacks = function (e, t) {
                                            if (null != v._callbackList) {
                                                var n = v._callbackList[e];
                                                if (n)
                                                    for (; 0 < n.length;)
                                                        v._callCallback(n.shift(), t);
                                            }
                                        }, v._addQuerystringParam = function (e, t, n, a) {
                                            var r = encodeURIComponent(t) + '=' + encodeURIComponent(n), i = F.parseHash(e), o = F.hashlessUrl(e);
                                            if (-1 === o.indexOf('?'))
                                                return o + '?' + r + i;
                                            var s = o.split('?'), c = s[0] + '?', l = s[1];
                                            return c + F.addQueryParamAtLocation(l, r, a) + i;
                                        }, v._extractParamFromUri = function (e, t) {
                                            var n = new RegExp('[\\?&#]' + t + '=([^&#]*)').exec(e);
                                            if (n && n.length)
                                                return decodeURIComponent(n[1]);
                                        }, v._parseAdobeMcFromUrl = t(ae.ADOBE_MC), v._parseAdobeMcSdidFromUrl = t(ae.ADOBE_MC_SDID), v._attemptToPopulateSdidFromUrl = function (e) {
                                            var t = v._parseAdobeMcSdidFromUrl(e), n = 1000000000;
                                            t && t.TS && (n = F.getTimestampInSeconds() - t.TS), t && t.SDID && t.MCORGID === a && n < v.sdidParamExpiry && (v._supplementalDataIDCurrent = t.SDID, v._supplementalDataIDCurrentConsumed.SDID_URL_PARAM = !0);
                                        }, v._attemptToPopulateIdsFromUrl = function () {
                                            var e = v._parseAdobeMcFromUrl();
                                            if (e && e.TS) {
                                                var t = F.getTimestampInSeconds() - e.TS;
                                                if (Math.floor(t / 60) > ae.ADOBE_MC_TTL_IN_MIN || e.MCORGID !== a)
                                                    return;
                                                r(e);
                                            }
                                        }, v._mergeServerState = function (e) {
                                            if (e)
                                                try {
                                                    if (a = e, (e = F.isObject(a) ? a : JSON.parse(a))[v.marketingCloudOrgID]) {
                                                        var t = e[v.marketingCloudOrgID];
                                                        n = t.customerIDs, F.isObject(n) && v.setCustomerIDs(n), i(t.sdid);
                                                    }
                                                } catch (e) {
                                                    throw new Error('`serverState` has an invalid format.');
                                                }
                                            var n, a;
                                        }, v._timeout = null, v._loadData = function (e, t, n, a) {
                                            t = v._addQuerystringParam(t, 'd_fieldgroup', e, 1), a.url = v._addQuerystringParam(a.url, 'd_fieldgroup', e, 1), a.corsUrl = v._addQuerystringParam(a.corsUrl, 'd_fieldgroup', e, 1), q.fieldGroupObj[e] = !0, a === Object(a) && a.corsUrl && 'XMLHttpRequest' === R.corsMetadata.corsType && R.fireCORS(a, n, e);
                                        }, v._clearTimeout = function (e) {
                                            null != v._timeout && v._timeout[e] && (clearTimeout(v._timeout[e]), v._timeout[e] = 0);
                                        }, v._settingsDigest = 0, v._getSettingsDigest = function () {
                                            if (!v._settingsDigest) {
                                                var e = v.version;
                                                v.audienceManagerServer && (e += '|' + v.audienceManagerServer), v.audienceManagerServerSecure && (e += '|' + v.audienceManagerServerSecure), v._settingsDigest = v._hash(e);
                                            }
                                            return v._settingsDigest;
                                        }, v._readVisitorDone = !1, v._readVisitor = function () {
                                            if (!v._readVisitorDone) {
                                                v._readVisitorDone = !0;
                                                var e, t, n, a, r, i, o = v._getSettingsDigest(), s = !1, c = v.cookieRead(v.cookieName), l = new Date();
                                                if (c || T || v.discardTrackingServerECID || (c = v.cookieRead(ae.FIRST_PARTY_SERVER_COOKIE)), null == v._fields && (v._fields = {}), c && 'T' !== c)
                                                    for ((c = c.split('|'))[0].match(/^[\-0-9]+$/) && (parseInt(c[0], 10) !== o && (s = !0), c.shift()), c.length % 2 == 1 && c.pop(), e = 0; e < c.length; e += 2)
                                                        n = (t = c[e].split('-'))[0], a = c[e + 1], 1 < t.length ? (r = parseInt(t[1], 10), i = 0 < t[1].indexOf('s')) : (r = 0, i = !1), s && ('MCCIDH' === n && (a = ''), 0 < r && (r = l.getTime() / 1000 - 60)), n && a && (v._setField(n, a, 1), 0 < r && (v._fields['expire' + n] = r + (i ? 's' : ''), (l.getTime() >= 1000 * r || i && !v.cookieRead(v.sessionCookieName)) && (v._fieldsExpired || (v._fieldsExpired = {}), v._fieldsExpired[n] = !0)));
                                                !v._getField(x) && F.isTrackingServerPopulated() && (c = v.cookieRead('s_vi')) && 1 < (c = c.split('|')).length && 0 <= c[0].indexOf('v1') && (0 <= (e = (a = c[1]).indexOf('[')) && (a = a.substring(0, e)), a && a.match(ae.VALID_VISITOR_ID_REGEX) && v._setField(x, a));
                                            }
                                        }, v._appendVersionTo = function (e) {
                                            var t = 'vVersion|' + v.version, n = e ? v._getCookieVersion(e) : null;
                                            return n ? Z.areVersionsDifferent(n, v.version) && (e = e.replace(ae.VERSION_REGEX, t)) : e += (e ? '|' : '') + t, e;
                                        }, v._writeVisitor = function () {
                                            var e, t, n = v._getSettingsDigest();
                                            for (e in v._fields)
                                                L(e) && v._fields[e] && 'expire' !== e.substring(0, 6) && (t = v._fields[e], n += (n ? '|' : '') + e + (v._fields['expire' + e] ? '-' + v._fields['expire' + e] : '') + '|' + t);
                                            n = v._appendVersionTo(n), v.cookieWrite(v.cookieName, n, 1);
                                        }, v._getField = function (e, t) {
                                            return null == v._fields || !t && v._fieldsExpired && v._fieldsExpired[e] ? null : v._fields[e];
                                        }, v._setField = function (e, t, n) {
                                            null == v._fields && (v._fields = {}), v._fields[e] = t, n || v._writeVisitor();
                                        }, v._getFieldList = function (e, t) {
                                            var n = v._getField(e, t);
                                            return n ? n.split('*') : null;
                                        }, v._setFieldList = function (e, t, n) {
                                            v._setField(e, t ? t.join('*') : '', n);
                                        }, v._getFieldMap = function (e, t) {
                                            var n = v._getFieldList(e, t);
                                            if (n) {
                                                var a, r = {};
                                                for (a = 0; a < n.length; a += 2)
                                                    r[n[a]] = n[a + 1];
                                                return r;
                                            }
                                            return null;
                                        }, v._setFieldMap = function (e, t, n) {
                                            var a, r = null;
                                            if (t)
                                                for (a in (r = [], t))
                                                    L(a) && (r.push(a), r.push(t[a]));
                                            v._setFieldList(e, r, n);
                                        }, v._setFieldExpire = function (e, t, n) {
                                            var a = new Date();
                                            a.setTime(a.getTime() + 1000 * t), null == v._fields && (v._fields = {}), v._fields['expire' + e] = Math.floor(a.getTime() / 1000) + (n ? 's' : ''), t < 0 ? (v._fieldsExpired || (v._fieldsExpired = {}), v._fieldsExpired[e] = !0) : v._fieldsExpired && (v._fieldsExpired[e] = !1), n && (v.cookieRead(v.sessionCookieName) || v.cookieWrite(v.sessionCookieName, '1'));
                                        }, v._findVisitorID = function (e) {
                                            return e && ('object' === $(e) && (e = e.d_mid ? e.d_mid : e.visitorID ? e.visitorID : e.id ? e.id : e.uuid ? e.uuid : '' + e), e && 'NOTARGET' === (e = e.toUpperCase()) && (e = M), e && (e === M || e.match(ae.VALID_VISITOR_ID_REGEX)) || (e = '')), e;
                                        }, v._setFields = function (e, t) {
                                            if (v._clearTimeout(e), null != v._loading && (v._loading[e] = !1), q.fieldGroupObj[e] && q.setState(e, !1), e === P) {
                                                !0 !== q.isClientSideMarketingCloudVisitorID && (q.isClientSideMarketingCloudVisitorID = !1);
                                                var n = v._getField(D);
                                                if (!n || v.overwriteCrossDomainMCIDAndAID) {
                                                    if (!(n = 'object' === $(t) && t.mid ? t.mid : v._findVisitorID(t))) {
                                                        if (v._use1stPartyMarketingCloudServer && !v.tried1stPartyMarketingCloudServer)
                                                            return v.tried1stPartyMarketingCloudServer = !0, void v.getAnalyticsVisitorID(null, !1, !0);
                                                        n = v._generateLocalMID();
                                                    }
                                                    v._setField(D, n);
                                                }
                                                n && n !== M || (n = ''), 'object' === $(t) && ((t.d_region || t.dcs_region || t.d_blob || t.blob) && v._setFields(N, t), v._use1stPartyMarketingCloudServer && t.mid && v._setFields(A, { id: t.id })), v._callAllCallbacks(D, [n]);
                                            }
                                            if (e === N && 'object' === $(t)) {
                                                var a = 604800;
                                                null != t.id_sync_ttl && t.id_sync_ttl && (a = parseInt(t.id_sync_ttl, 10));
                                                var r = U.getRegionAndCheckIfChanged(t, a);
                                                v._callAllCallbacks('MCAAMLH', [r]);
                                                var i = v._getField(O);
                                                (t.d_blob || t.blob) && ((i = t.d_blob) || (i = t.blob), v._setFieldExpire(O, a), v._setField(O, i)), i || (i = ''), v._callAllCallbacks(O, [i]), !t.error_msg && v._newCustomerIDsHash && v._setField('MCCIDH', v._newCustomerIDsHash);
                                            }
                                            if (e === A) {
                                                var o = v._getField(x);
                                                o && !v.overwriteCrossDomainMCIDAndAID || ((o = v._findVisitorID(t)) ? o !== M && v._setFieldExpire(O, -1) : o = M, v._setField(x, o)), o && o !== M || (o = ''), v._callAllCallbacks(x, [o]);
                                            }
                                            if (v.idSyncDisableSyncs || v.disableIdSyncs)
                                                U.idCallNotProcesssed = !0;
                                            else {
                                                U.idCallNotProcesssed = !1;
                                                var s = {};
                                                s.ibs = t.ibs, s.subdomain = t.subdomain, U.processIDCallData(s);
                                            }
                                            if (t === Object(t)) {
                                                var c, l;
                                                d() && v.isAllowed() && (c = v._getField('MCOPTOUT'));
                                                var u = K.parseOptOut(t, c, M);
                                                c = u.optOut, l = u.d_ottl, v._setFieldExpire('MCOPTOUT', l, !0), v._setField('MCOPTOUT', c), v._callAllCallbacks('MCOPTOUT', [c]);
                                            }
                                        }, v._loading = null, v._getRemoteField = function (n, e, t, a, r) {
                                            var i, o = '', s = F.isFirstPartyAnalyticsVisitorIDCall(n), c = {
                                                    MCAAMLH: !0,
                                                    MCAAMB: !0
                                                };
                                            if (d() && v.isAllowed())
                                                if (v._readVisitor(), !(!(o = v._getField(n, !0 === c[n])) || v._fieldsExpired && v._fieldsExpired[n]) || v.disableThirdPartyCalls && !s)
                                                    o || (n === D ? (v._registerCallback(n, t), o = v._generateLocalMID(), v.setMarketingCloudVisitorID(o)) : n === x ? (v._registerCallback(n, t), o = '', v.setAnalyticsVisitorID(o)) : a = !(o = ''));
                                                else if (n === D || 'MCOPTOUT' === n ? i = P : 'MCAAMLH' === n || n === O ? i = N : n === x && (i = A), i)
                                                    return !e || null != v._loading && v._loading[i] || (null == v._loading && (v._loading = {}), v._loading[i] = !0, i === N && (_ = 0), v._loadData(i, e, function (e) {
                                                        if (!v._getField(n)) {
                                                            e && q.setState(i, !0);
                                                            var t = '';
                                                            n === D ? t = v._generateLocalMID() : i === N && (t = { error_msg: 'timeout' }), v._setFields(i, t);
                                                        }
                                                    }, r)), v._registerCallback(n, t), o || (e || v._setFields(i, { id: M }), '');
                                            return n !== D && n !== x || o !== M || (a = !(o = '')), t && a && v._callCallback(t, [o]), n === D && B.subscribed && (B.callbacks && B.callbacks.length && B.callbacks.forEach(function (e) {
                                                v._callCallback(e, [o]);
                                            }), B.subscribed = !1, B.callbacks.length = 0), o;
                                        }, v._setMarketingCloudFields = function (e) {
                                            v._readVisitor(), v._setFields(P, e);
                                        }, v._mapCustomerIDs = function (e) {
                                            v.getAudienceManagerBlob(e, !0);
                                        }, v._setAnalyticsFields = function (e) {
                                            v._readVisitor(), v._setFields(A, e);
                                        }, v._setAudienceManagerFields = function (e) {
                                            v._readVisitor(), v._setFields(N, e);
                                        }, v._getAudienceManagerURLData = function (e) {
                                            var t = v.audienceManagerServer, n = '', a = v._getField(D), r = v._getField(O, !0), i = v._getField(x), o = i && i !== M ? '&d_cid_ic=AVID%01' + encodeURIComponent(i) : '';
                                            if (v.loadSSL && v.audienceManagerServerSecure && (t = v.audienceManagerServerSecure), t) {
                                                var s, c, l, u = v.getCustomerIDs(!0);
                                                if (u)
                                                    for (c in u) {
                                                        var d = u[c];
                                                        if (!K.isObjectEmpty(d)) {
                                                            var p = 'nameSpaces' === c ? '&d_cid_ns=' : '&d_cid_ic=';
                                                            for (s in d)
                                                                L(s) && (l = d[s], o += p + encodeURIComponent(s) + '%01' + encodeURIComponent(l.id ? l.id : '') + (l.authState ? '%01' + l.authState : ''));
                                                        }
                                                    }
                                                e || (e = '_setAudienceManagerFields');
                                                var f = 'http' + (v.loadSSL ? 's' : '') + '://' + t + '/id', h = 'd_visid_ver=' + v.version + (y && -1 !== f.indexOf('demdex.net') ? '&gdpr=1&gdpr_consent=' + y : '') + (_ && -1 !== f.indexOf('demdex.net') ? '&d_cf=' + _ : '') + '&d_rtbd=json&d_ver=2' + (!a && v._use1stPartyMarketingCloudServer ? '&d_verify=1' : '') + '&d_orgid=' + encodeURIComponent(v.marketingCloudOrgID) + '&d_nsid=' + (v.idSyncContainerID || 0) + (a ? '&d_mid=' + encodeURIComponent(a) : '') + (v.idSyncDisable3rdPartySyncing || v.disableThirdPartyCookies ? '&d_coppa=true' : '') + (!0 === I ? '&d_coop_safe=1' : !1 === I ? '&d_coop_unsafe=1' : '') + (r ? '&d_blob=' + encodeURIComponent(r) : '') + o, g = [
                                                        's_c_il',
                                                        v._in,
                                                        e
                                                    ];
                                                return {
                                                    url: n = f + '?' + h + '&d_cb=s_c_il%5B' + v._in + '%5D.' + e,
                                                    corsUrl: f + '?' + h,
                                                    callback: g
                                                };
                                            }
                                            return { url: n };
                                        }, v.appendVisitorIDsTo = function (e) {
                                            try {
                                                var t = [
                                                    [
                                                        D,
                                                        v._getField(D)
                                                    ],
                                                    [
                                                        x,
                                                        v._getField(x)
                                                    ],
                                                    [
                                                        'MCORGID',
                                                        v.marketingCloudOrgID
                                                    ]
                                                ];
                                                return v._addQuerystringParam(e, ae.ADOBE_MC, o(t));
                                            } catch (t) {
                                                return e;
                                            }
                                        }, v.appendSupplementalDataIDTo = function (e, t) {
                                            if (!(t = t || v.getSupplementalDataID(F.generateRandomString(), !0)))
                                                return e;
                                            try {
                                                var n = o([
                                                    [
                                                        'SDID',
                                                        t
                                                    ],
                                                    [
                                                        'MCORGID',
                                                        v.marketingCloudOrgID
                                                    ]
                                                ]);
                                                return v._addQuerystringParam(e, ae.ADOBE_MC_SDID, n);
                                            } catch (t) {
                                                return e;
                                            }
                                        };
                                        var F = {
                                            parseHash: function (e) {
                                                var t = e.indexOf('#');
                                                return 0 < t ? e.substr(t) : '';
                                            },
                                            hashlessUrl: function (e) {
                                                var t = e.indexOf('#');
                                                return 0 < t ? e.substr(0, t) : e;
                                            },
                                            addQueryParamAtLocation: function (e, t, n) {
                                                var a = e.split('&');
                                                return n = null != n ? n : a.length, a.splice(n, 0, t), a.join('&');
                                            },
                                            isFirstPartyAnalyticsVisitorIDCall: function (e, t, n) {
                                                return e === x && (t || (t = v.trackingServer), n || (n = v.trackingServerSecure), !('string' != typeof (a = v.loadSSL ? n : t) || !a.length) && a.indexOf('2o7.net') < 0 && a.indexOf('omtrdc.net') < 0);
                                                var a;
                                            },
                                            isObject: function (e) {
                                                return Boolean(e && e === Object(e));
                                            },
                                            removeCookie: function (e) {
                                                J.remove(e, { domain: v.cookieDomain });
                                            },
                                            isTrackingServerPopulated: function () {
                                                return !!v.trackingServer || !!v.trackingServerSecure;
                                            },
                                            getTimestampInSeconds: function () {
                                                return Math.round(new Date().getTime() / 1000);
                                            },
                                            parsePipeDelimetedKeyValues: function (e) {
                                                return e.split('|').reduce(function (e, t) {
                                                    var n = t.split('=');
                                                    return e[n[0]] = decodeURIComponent(n[1]), e;
                                                }, {});
                                            },
                                            generateRandomString: function (e) {
                                                e = e || 5;
                                                for (var t = '', n = 'abcdefghijklmnopqrstuvwxyz0123456789'; e--;)
                                                    t += n[Math.floor(Math.random() * n.length)];
                                                return t;
                                            },
                                            normalizeBoolean: function (e) {
                                                return 'true' === e || 'false' !== e && e;
                                            },
                                            parseBoolean: function (e) {
                                                return 'true' === e || 'false' !== e && null;
                                            },
                                            replaceMethodsWithFunction: function (e, t) {
                                                for (var n in e)
                                                    e.hasOwnProperty(n) && 'function' == typeof e[n] && (e[n] = t);
                                                return e;
                                            }
                                        };
                                        v._helpers = F;
                                        var U = re(v, w);
                                        v._destinationPublishing = U, v.timeoutMetricsLog = [];
                                        var H, q = {
                                                isClientSideMarketingCloudVisitorID: null,
                                                MCIDCallTimedOut: null,
                                                AnalyticsIDCallTimedOut: null,
                                                AAMIDCallTimedOut: null,
                                                fieldGroupObj: {},
                                                setState: function (e, t) {
                                                    switch (e) {
                                                    case P:
                                                        !1 === t ? !0 !== this.MCIDCallTimedOut && (this.MCIDCallTimedOut = !1) : this.MCIDCallTimedOut = t;
                                                        break;
                                                    case A:
                                                        !1 === t ? !0 !== this.AnalyticsIDCallTimedOut && (this.AnalyticsIDCallTimedOut = !1) : this.AnalyticsIDCallTimedOut = t;
                                                        break;
                                                    case N:
                                                        !1 === t ? !0 !== this.AAMIDCallTimedOut && (this.AAMIDCallTimedOut = !1) : this.AAMIDCallTimedOut = t;
                                                    }
                                                }
                                            };
                                        v.isClientSideMarketingCloudVisitorID = function () {
                                            return q.isClientSideMarketingCloudVisitorID;
                                        }, v.MCIDCallTimedOut = function () {
                                            return q.MCIDCallTimedOut;
                                        }, v.AnalyticsIDCallTimedOut = function () {
                                            return q.AnalyticsIDCallTimedOut;
                                        }, v.AAMIDCallTimedOut = function () {
                                            return q.AAMIDCallTimedOut;
                                        }, v.idSyncGetOnPageSyncInfo = function () {
                                            return v._readVisitor(), v._getField('MCSYNCSOP');
                                        }, v.idSyncByURL = function (e) {
                                            if (!v.isOptedOut()) {
                                                var t = s(e || {});
                                                if (t.error)
                                                    return t.error;
                                                var n, a, r = e.url, i = encodeURIComponent, o = U;
                                                return r = r.replace(/^https:/, '').replace(/^http:/, ''), n = K.encodeAndBuildRequest([
                                                    '',
                                                    e.dpid,
                                                    e.dpuuid || ''
                                                ], ','), a = [
                                                    'ibs',
                                                    i(e.dpid),
                                                    'img',
                                                    i(r),
                                                    t.ttl,
                                                    '',
                                                    n
                                                ], o.addMessage(a.join('|')), o.requestToProcess(), 'Successfully queued';
                                            }
                                        }, v.idSyncByDataSource = function (e) {
                                            if (!v.isOptedOut())
                                                return e === Object(e) && 'string' == typeof e.dpuuid && e.dpuuid.length ? (e.url = '//dpm.demdex.net/ibs:dpid=' + e.dpid + '&dpuuid=' + e.dpuuid, v.idSyncByURL(e)) : 'Error: config or config.dpuuid is empty';
                                        }, Re(v, U), v._getCookieVersion = function (e) {
                                            e = e || v.cookieRead(v.cookieName);
                                            var t = ae.VERSION_REGEX.exec(e);
                                            return t && 1 < t.length ? t[1] : null;
                                        }, v._resetAmcvCookie = function (e) {
                                            var t = v._getCookieVersion();
                                            t && !Z.isLessThan(t, e) || v.removeCookie(v.cookieName);
                                        }, v.setAsCoopSafe = function () {
                                            I = !0;
                                        }, v.setAsCoopUnsafe = function () {
                                            I = !1;
                                        }, function () {
                                            if (v.configs = Object.create(null), F.isObject(n))
                                                for (var e in n)
                                                    L(e) && (v[e] = n[e], v.configs[e] = n[e]);
                                        }(), l(), v.init = function () {
                                            c() && (b.optIn.fetchPermissions(g, !0), !b.optIn.isApproved(b.optIn.Categories.ECID)) || H || (H = !0, function () {
                                                if (F.isObject(n)) {
                                                    v.idSyncContainerID = v.idSyncContainerID || 0, I = 'boolean' == typeof v.isCoopSafe ? v.isCoopSafe : F.parseBoolean(v.isCoopSafe), v.resetBeforeVersion && v._resetAmcvCookie(v.resetBeforeVersion), v._attemptToPopulateIdsFromUrl(), v._attemptToPopulateSdidFromUrl(), v._readVisitor();
                                                    var e = v._getField(E), t = Math.ceil(new Date().getTime() / ae.MILLIS_PER_DAY);
                                                    v.idSyncDisableSyncs || v.disableIdSyncs || !U.canMakeSyncIDCall(e, t) || (v._setFieldExpire(O, -1), v._setField(E, t)), v.getMarketingCloudVisitorID(), v.getAudienceManagerLocationHint(), v.getAudienceManagerBlob(), v._mergeServerState(v.serverState);
                                                } else
                                                    v._attemptToPopulateIdsFromUrl(), v._attemptToPopulateSdidFromUrl();
                                            }(), function () {
                                                if (!v.idSyncDisableSyncs && !v.disableIdSyncs) {
                                                    U.checkDPIframeSrc();
                                                    var e = function () {
                                                        var e = U;
                                                        e.readyToAttachIframe() && e.attachIframe();
                                                    };
                                                    C.addEventListener('load', function () {
                                                        w.windowLoaded = !0, e();
                                                    });
                                                    try {
                                                        ee.receiveMessage(function (e) {
                                                            U.receiveMessage(e.data);
                                                        }, U.iframeHost);
                                                    } catch (e) {
                                                    }
                                                }
                                            }(), v.whitelistIframeDomains && ae.POST_MESSAGE_ENABLED && (v.whitelistIframeDomains = v.whitelistIframeDomains instanceof Array ? v.whitelistIframeDomains : [v.whitelistIframeDomains], v.whitelistIframeDomains.forEach(function (e) {
                                                var t = new Q(a, e), n = z(v, t);
                                                ee.receiveMessage(n, e);
                                            })));
                                        };
                                    };
                                    Ue.config = F;
                                    var He = G.Visitor = Ue, qe = function (r) {
                                            if (K.isObject(r))
                                                return Object.keys(r).filter(function (e) {
                                                    return '' !== r[e] && F.getConfigs()[e];
                                                }).reduce(function (e, t) {
                                                    var n = F.normalizeConfig(t, r[t]), a = K.normalizeBoolean(n);
                                                    return e[t] = a, e;
                                                }, Object.create(null));
                                        }, $e = Le.OptIn, Ge = Le.IabPlugin;
                                    He.getInstance = function (a, e) {
                                        if (!a)
                                            throw new Error('Visitor requires Adobe Marketing Cloud Org ID.');
                                        a.indexOf('@') < 0 && (a += '@AdobeOrg');
                                        var t = function () {
                                            var e = G.s_c_il;
                                            if (e)
                                                for (var t = 0; t < e.length; t++) {
                                                    var n = e[t];
                                                    if (n && 'Visitor' === n._c && n.marketingCloudOrgID === a)
                                                        return n;
                                                }
                                        }();
                                        if (t)
                                            return t;
                                        var r, n = qe(e) || {};
                                        r = n || {}, G.adobe.optIn = G.adobe.optIn || function () {
                                            var e = K.pluck(r, [
                                                    'doesOptInApply',
                                                    'previousPermissions',
                                                    'preOptInApprovals',
                                                    'isOptInStorageEnabled',
                                                    'optInStorageExpiry',
                                                    'isIabContext'
                                                ]), t = r.optInCookieDomain || r.cookieDomain;
                                            t = (t = t || X()) === window.location.hostname ? '' : t, e.optInCookieDomain = t;
                                            var n = new $e(e, { cookies: J });
                                            if (e.isIabContext && e.doesOptInApply) {
                                                var a = new Ge();
                                                n.registerPlugin(a);
                                            }
                                            return n;
                                        }();
                                        var i = a.split('').reverse().join(''), o = new He(a, null, i);
                                        n.cookieDomain && (o.cookieDomain = n.cookieDomain), n.sameSiteCookie && n.secureCookie && (o.configs = {
                                            sameSiteCookie: n.sameSiteCookie,
                                            secureCookie: n.secureCookie
                                        }), G.s_c_il.splice(--G.s_c_in, 1);
                                        var s = K.getIeVersion();
                                        if ('number' == typeof s && s < 10)
                                            return o._helpers.replaceMethodsWithFunction(o, function () {
                                            });
                                        var c, l = function () {
                                                try {
                                                    return G.self !== G.parent;
                                                } catch (a) {
                                                    return !0;
                                                }
                                            }() && ((c = o).cookieWrite('TEST_AMCV_COOKIE', 'T', 1), 'T' !== c.cookieRead('TEST_AMCV_COOKIE') || (c.removeCookie('TEST_AMCV_COOKIE'), 0)) && G.parent ? new N(a, n, o, G.parent) : new He(a, n, i);
                                        return o = null, l.init(), l;
                                    }, function () {
                                        function e() {
                                            He.windowLoaded = !0;
                                        }
                                        G.addEventListener ? G.addEventListener('load', e) : G.attachEvent && G.attachEvent('onload', e), He.codeLoadEnd = new Date().getTime();
                                    }();
                                }(), Visitor);
                            }
                        },
                        'adobe-mcid/src/view/utils/timeUnits.js': {
                            script: function (e) {
                                var t = {
                                    Hours: 3600,
                                    Days: 86400,
                                    Weeks: 604800,
                                    Months: 2592000,
                                    Years: 31536000
                                };
                                e.exports = t;
                            }
                        }
                    },
                    settings: {
                        orgId: 'BC501253513148ED0A490D45@AdobeOrg',
                        variables: [{
                                name: 'loadTimeout',
                                value: '2000'
                            }]
                    },
                    hostedLibFilesBaseUrl: 'https://assets.adobedtm.com/extensions/EPf0412a5c65e5429ab0e5ed8ba2256510/'
                },
                core: {
                    displayName: 'Core',
                    modules: {
                        'core/src/lib/dataElements/pageInfo.js': {
                            name: 'page-info',
                            displayName: 'Page Info',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-document');
                                e.exports = function (e) {
                                    switch (e.attribute) {
                                    case 'url':
                                        return a.location.href;
                                    case 'hostname':
                                        return a.location.hostname;
                                    case 'pathname':
                                        return a.location.pathname;
                                    case 'protocol':
                                        return a.location.protocol;
                                    case 'referrer':
                                        return a.referrer;
                                    case 'title':
                                        return a.title;
                                    }
                                };
                            }
                        },
                        'core/src/lib/dataElements/javascriptVariable.js': {
                            name: 'javascript-variable',
                            displayName: 'JavaScript Variable',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('../helpers/getObjectProperty.js');
                                e.exports = function (e) {
                                    return a(window, e.path);
                                };
                            }
                        },
                        'core/src/lib/dataElements/customCode.js': {
                            name: 'custom-code',
                            displayName: 'Custom Code',
                            script: function (e) {
                                'use strict';
                                e.exports = function (e, t) {
                                    return e.source(t);
                                };
                            }
                        },
                        'core/src/lib/dataElements/constant.js': {
                            name: 'constant',
                            displayName: 'Constant',
                            script: function (e) {
                                'use strict';
                                e.exports = function (e) {
                                    return e.value;
                                };
                            }
                        },
                        'core/src/lib/dataElements/localStorage.js': {
                            name: 'local-storage',
                            displayName: 'Local Storage',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-window');
                                e.exports = function (e) {
                                    const $___old_e693e314c67726e9 = {}.constructor.getOwnPropertyDescriptor(window, 'localStorage');
                                    try {
                                        if ($___old_e693e314c67726e9)
                                            ({}.constructor.defineProperty(window, 'localStorage', $___mock_5681dcac222e7c62.localStorage));
                                        return function () {
                                            try {
                                                return a.localStorage.getItem(e.name);
                                            } catch (t) {
                                                return null;
                                            }
                                        }.apply(this, arguments);
                                    } finally {
                                        if ($___old_e693e314c67726e9)
                                            ({}.constructor.defineProperty(window, 'localStorage', $___old_e693e314c67726e9));
                                    }
                                };
                            }
                        },
                        'core/src/lib/dataElements/queryStringParameter.js': {
                            name: 'query-string-parameter',
                            displayName: 'Query String Parameter',
                            script: function (e, t, n) {
                                'use strict';
                                var o = n('@adobe/reactor-window'), s = n('@adobe/reactor-query-string');
                                e.exports = function (e) {
                                    var t = s.parse(o.location.search);
                                    if (!e.caseInsensitive)
                                        return t[e.name];
                                    for (var n = e.name.toLowerCase(), a = Object.keys(t), r = 0; r < a.length; r++) {
                                        var i = a[r];
                                        if (i.toLowerCase() === n)
                                            return t[i];
                                    }
                                };
                            }
                        },
                        'core/src/lib/dataElements/cookie.js': {
                            name: 'cookie',
                            displayName: 'Cookie',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-cookie');
                                e.exports = function (e) {
                                    return a.get(e.name);
                                };
                            }
                        },
                        'core/src/lib/events/libraryLoaded.js': {
                            name: 'library-loaded',
                            displayName: 'Library Loaded (Page Top)',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('./helpers/pageLifecycleEvents');
                                e.exports = function (e, t) {
                                    a.registerLibraryLoadedTrigger(t);
                                };
                            }
                        },
                        'core/src/lib/conditions/customCode.js': {
                            name: 'custom-code',
                            displayName: 'Custom Code',
                            script: function (e) {
                                'use strict';
                                e.exports = function (e, t) {
                                    return e.source.call(t.element, t, t.target);
                                };
                            }
                        },
                        'core/src/lib/actions/customCode.js': {
                            name: 'custom-code',
                            displayName: 'Custom Code',
                            script: function (e, t, n, i) {
                                'use strict';
                                var o, a, r, s, c = n('@adobe/reactor-document'), l = n('@adobe/reactor-promise'), u = n('./helpers/decorateCode'), d = n('./helpers/loadCodeSequentially'), p = n('../../../node_modules/postscribe/dist/postscribe'), f = n('./helpers/unescapeHtmlCode'), h = (a = function (e) {
                                        p(c.body, e, {
                                            beforeWriteToken: function (t) {
                                                var e = t.tagName && t.tagName.toLowerCase();
                                                return o && 'script' === e && (t.attrs.nonce = o), 'script' !== e && 'style' !== e || (Object.keys(t.attrs || {}).forEach(function (e) {
                                                    t.attrs[e] = f(t.attrs[e]);
                                                }), t.src && (t.src = f(t.src))), t;
                                            },
                                            error: function (e) {
                                                i.logger.error(e.msg);
                                            }
                                        });
                                    }, r = [], s = function () {
                                        if (c.body)
                                            for (; r.length;)
                                                a(r.shift());
                                        else
                                            setTimeout(s, 20);
                                    }, function (e) {
                                        r.push(e), s();
                                    }), g = function () {
                                        if (c.currentScript)
                                            return c.currentScript.async;
                                        for (var e = c.querySelectorAll('script'), t = 0; t < e.length; t++) {
                                            var n = e[t];
                                            if (/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/.test(n.src))
                                                return n.async;
                                        }
                                        return !0;
                                    }();
                                e.exports = function (e, t) {
                                    var n;
                                    o = i.getExtensionSettings().cspNonce;
                                    var a = {
                                            settings: e,
                                            event: t
                                        }, r = a.settings.source;
                                    if (r)
                                        return a.settings.isExternal ? d(r).then(function (e) {
                                            return e ? (n = u(a, e), h(n.code), n.promise) : l.resolve();
                                        }) : (n = u(a, r), g || 'loading' !== c.readyState ? h(n.code) : c.write && !1 === i.propertySettings.ruleComponentSequencingEnabled ? c.write(n.code) : h(n.code), n.promise);
                                };
                            }
                        },
                        'core/src/lib/conditions/path.js': {
                            name: 'path',
                            displayName: 'Path Without Query String',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-document'), r = n('../helpers/textMatch');
                                e.exports = function (e) {
                                    var n = a.location.pathname;
                                    return e.paths.some(function (e) {
                                        var t = e.valueIsRegex ? new RegExp(e.value, 'i') : e.value;
                                        return r(n, t);
                                    });
                                };
                            }
                        },
                        'core/src/lib/events/pageBottom.js': {
                            name: 'page-bottom',
                            displayName: 'Page Bottom',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('./helpers/pageLifecycleEvents');
                                e.exports = function (e, t) {
                                    a.registerPageBottomTrigger(t);
                                };
                            }
                        },
                        'core/src/lib/conditions/domain.js': {
                            name: 'domain',
                            displayName: 'Domain',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-document'), r = /[|\\{}()[\]^$+*?.-]/g, i = function (e) {
                                        if ('string' != typeof e)
                                            throw new TypeError('Expected a string');
                                        return e.replace(r, '\\$&');
                                    };
                                e.exports = function (e) {
                                    var t = a.location.hostname;
                                    return e.domains.some(function (e) {
                                        return t.match(new RegExp('(^|\\.)' + i(e) + '$', 'i'));
                                    });
                                };
                            }
                        },
                        'core/src/lib/events/domReady.js': {
                            name: 'dom-ready',
                            displayName: 'DOM Ready',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('./helpers/pageLifecycleEvents');
                                e.exports = function (e, t) {
                                    a.registerDomReadyTrigger(t);
                                };
                            }
                        },
                        'core/src/lib/conditions/valueComparison.js': {
                            name: 'value-comparison',
                            displayName: 'Value Comparison',
                            script: function (e, t, n) {
                                'use strict';
                                var r = n('../helpers/stringAndNumberUtils').isString, a = n('../helpers/stringAndNumberUtils').isNumber, i = n('../helpers/stringAndNumberUtils').castToStringIfNumber, o = n('../helpers/stringAndNumberUtils').castToNumberIfString, s = function (e, t) {
                                        return t && r(e) ? e.toLowerCase() : e;
                                    }, c = function (a) {
                                        return function (e, t, n) {
                                            return e = i(e), t = i(t), r(e) && r(t) && a(e, t, n);
                                        };
                                    }, l = function (n) {
                                        return function (e, t) {
                                            return e = o(e), t = o(t), a(e) && a(t) && n(e, t);
                                        };
                                    }, u = function (a) {
                                        return function (e, t, n) {
                                            return a(s(e, n), s(t, n));
                                        };
                                    }, d = {
                                        equals: u(function (e, t) {
                                            return e == t;
                                        }),
                                        doesNotEqual: function () {
                                            return !d.equals.apply(null, arguments);
                                        },
                                        contains: c(u(function (e, t) {
                                            return -1 !== e.indexOf(t);
                                        })),
                                        doesNotContain: function () {
                                            return !d.contains.apply(null, arguments);
                                        },
                                        startsWith: c(u(function (e, t) {
                                            return 0 === e.indexOf(t);
                                        })),
                                        doesNotStartWith: function () {
                                            return !d.startsWith.apply(null, arguments);
                                        },
                                        endsWith: c(u(function (e, t) {
                                            return e.substring(e.length - t.length, e.length) === t;
                                        })),
                                        doesNotEndWith: function () {
                                            return !d.endsWith.apply(null, arguments);
                                        },
                                        matchesRegex: c(function (e, t, n) {
                                            return new RegExp(t, n ? 'i' : '').test(e);
                                        }),
                                        doesNotMatchRegex: function () {
                                            return !d.matchesRegex.apply(null, arguments);
                                        },
                                        lessThan: l(function (e, t) {
                                            return e < t;
                                        }),
                                        lessThanOrEqual: l(function (e, t) {
                                            return e <= t;
                                        }),
                                        greaterThan: l(function (e, t) {
                                            return t < e;
                                        }),
                                        greaterThanOrEqual: l(function (e, t) {
                                            return t <= e;
                                        }),
                                        isTrue: function (e) {
                                            return !0 === e;
                                        },
                                        isTruthy: function (e) {
                                            return Boolean(e);
                                        },
                                        isFalse: function (e) {
                                            return !1 === e;
                                        },
                                        isFalsy: function (e) {
                                            return !e;
                                        }
                                    };
                                e.exports = function (e) {
                                    return d[e.comparison.operator](e.leftOperand, e.rightOperand, Boolean(e.comparison.caseInsensitive));
                                };
                            }
                        },
                        'core/src/lib/conditions/queryStringParameter.js': {
                            name: 'query-string-parameter',
                            displayName: 'Query String Parameter',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-window'), r = n('@adobe/reactor-query-string'), i = n('../helpers/textMatch');
                                e.exports = function (e) {
                                    var t = e.valueIsRegex ? new RegExp(e.value, 'i') : e.value, n = r.parse(a.location.search);
                                    return i(n[e.name], t);
                                };
                            }
                        },
                        'core/src/lib/events/directCall.js': {
                            name: 'direct-call',
                            displayName: 'Direct Call',
                            script: function (e, t, n, i) {
                                'use strict';
                                var o = {};
                                window._satellite = window._satellite || {}, window._satellite.track = function (e, t) {
                                    e = e.trim();
                                    var n = o[e];
                                    if (n) {
                                        var a = {
                                            identifier: e,
                                            detail: t
                                        };
                                        n.forEach(function (e) {
                                            e(a);
                                        });
                                        var r = ['Rules using the direct call event type with identifier "' + e + '" have been triggered' + (t ? ' with additional detail:' : '.')];
                                        t && r.push(t), i.logger.log.apply(i.logger, r);
                                    } else
                                        i.logger.log('"' + e + '" does not match any direct call identifiers.');
                                }, e.exports = function (e, t) {
                                    var n = o[e.identifier];
                                    n || (n = o[e.identifier] = []), n.push(t);
                                };
                            }
                        },
                        'core/src/lib/events/windowLoaded.js': {
                            name: 'window-loaded',
                            displayName: 'Window Loaded',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('./helpers/pageLifecycleEvents');
                                e.exports = function (e, t) {
                                    a.registerWindowLoadedTrigger(t);
                                };
                            }
                        },
                        'core/src/lib/conditions/deviceType.js': {
                            name: 'device-type',
                            displayName: 'Device Type',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('./helpers/clientInfo');
                                e.exports = function (e) {
                                    return -1 !== e.deviceTypes.indexOf(a.deviceType);
                                };
                            }
                        },
                        'core/src/lib/events/click.js': {
                            name: 'click',
                            displayName: 'Click',
                            script: function (e, t, n) {
                                'use strict';
                                var o = n('@adobe/reactor-window'), a = n('./helpers/createBubbly')(), s = new (n('./helpers/weakMap'))(), i = 2, c = n('../helpers/stringAndNumberUtils').castToNumberIfString, l = function (e) {
                                        if (e.ctrlKey || e.metaKey || e.button === i)
                                            return undefined;
                                        for (var t = e.target; t;) {
                                            var n = t.tagName;
                                            if (n && 'a' === n.toLowerCase()) {
                                                var a = t.getAttribute('href'), r = t.getAttribute('target');
                                                return a && (!r || '_self' === r || '_top' === r && o.top === o || r === o.name) ? t : undefined;
                                            }
                                            t = t.parentNode;
                                        }
                                    };
                                document.addEventListener('click', a.evaluateEvent, !0), e.exports = function (r, i) {
                                    a.addListener(r, function (e) {
                                        var t = e.nativeEvent;
                                        if (!t.s_fe) {
                                            var n = c(r.anchorDelay);
                                            if (n && !s.has(t)) {
                                                var a = l(t);
                                                a && (t.preventDefault(), setTimeout(function () {
                                                    o.location = a.href;
                                                }, n)), s.set(t, !0);
                                            }
                                            i(e);
                                        }
                                    });
                                }, e.exports.__reset = a.__reset;
                            }
                        },
                        'core/src/lib/conditions/subdomain.js': {
                            name: 'subdomain',
                            displayName: 'Subdomain',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-document'), r = n('../helpers/textMatch');
                                e.exports = function (e) {
                                    var n = a.location.hostname;
                                    return e.subdomains.some(function (e) {
                                        var t = e.valueIsRegex ? new RegExp(e.value, 'i') : e.value;
                                        return r(n, t);
                                    });
                                };
                            }
                        },
                        'core/src/lib/helpers/getObjectProperty.js': {
                            script: function (e) {
                                'use strict';
                                e.exports = function (e, t) {
                                    for (var n = t.split('.'), a = e, r = 0, i = n.length; r < i; r++) {
                                        if (null == a)
                                            return undefined;
                                        a = a[n[r]];
                                    }
                                    return a;
                                };
                            }
                        },
                        'core/src/lib/events/helpers/pageLifecycleEvents.js': {
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-window'), r = n('@adobe/reactor-document'), i = -1 !== a.navigator.appVersion.indexOf('MSIE 10'), o = 'WINDOW_LOADED', s = 'DOM_READY', c = 'PAGE_BOTTOM', l = [
                                        c,
                                        s,
                                        o
                                    ], u = function (e, t) {
                                        return {
                                            element: e,
                                            target: e,
                                            nativeEvent: t
                                        };
                                    }, d = {};
                                l.forEach(function (e) {
                                    d[e] = [];
                                });
                                var p = function (e, t) {
                                        l.slice(0, h(e) + 1).forEach(function (e) {
                                            g(t, e);
                                        });
                                    }, f = function () {
                                        return 'complete' === r.readyState ? o : 'interactive' === r.readyState ? i ? null : s : void 0;
                                    }, h = function (e) {
                                        return l.indexOf(e);
                                    }, g = function (t, e) {
                                        d[e].forEach(function (e) {
                                            m(t, e);
                                        }), d[e] = [];
                                    }, m = function (e, t) {
                                        var n = t.trigger, a = t.syntheticEventFn;
                                        n(a ? a(e) : null);
                                    };
                                a._satellite = a._satellite || {}, a._satellite.pageBottom = p.bind(null, c), r.addEventListener('DOMContentLoaded', p.bind(null, s), !0), a.addEventListener('load', p.bind(null, o), !0), a.setTimeout(function () {
                                    var e = f();
                                    e && p(e);
                                }, 0), e.exports = {
                                    registerLibraryLoadedTrigger: function (e) {
                                        e();
                                    },
                                    registerPageBottomTrigger: function (e) {
                                        d[c].push({ trigger: e });
                                    },
                                    registerDomReadyTrigger: function (e) {
                                        d[s].push({
                                            trigger: e,
                                            syntheticEventFn: u.bind(null, r)
                                        });
                                    },
                                    registerWindowLoadedTrigger: function (e) {
                                        d[o].push({
                                            trigger: e,
                                            syntheticEventFn: u.bind(null, a)
                                        });
                                    }
                                };
                            }
                        },
                        'core/src/lib/actions/helpers/decorateCode.js': {
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('./decorators/decorateGlobalJavaScriptCode'), r = n('./decorators/decorateNonGlobalJavaScriptCode'), i = {
                                        javascript: function (e, t) {
                                            return e.settings.global ? a(e, t) : r(e, t);
                                        },
                                        html: n('./decorators/decorateHtmlCode')
                                    };
                                e.exports = function (e, t) {
                                    return i[e.settings.language](e, t);
                                };
                            }
                        },
                        'core/src/lib/actions/helpers/loadCodeSequentially.js': {
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-promise'), r = n('./getSourceByUrl'), i = a.resolve();
                                e.exports = function (t) {
                                    var e = new a(function (n) {
                                        var e = r(t);
                                        a.all([
                                            e,
                                            i
                                        ]).then(function (e) {
                                            var t = e[0];
                                            n(t);
                                        });
                                    });
                                    return i = e;
                                };
                            }
                        },
                        'core/node_modules/postscribe/dist/postscribe.js': {
                            script: function (n, a) {
                                !function r(e, t) {
                                    'object' == typeof a && 'object' == typeof n ? n.exports = t() : 'function' == typeof define && define.amd ? define([], t) : 'object' == typeof a ? a.postscribe = t() : e.postscribe = t();
                                }(this, function () {
                                    return function (n) {
                                        function a(e) {
                                            if (r[e])
                                                return r[e].exports;
                                            var t = r[e] = {
                                                exports: {},
                                                id: e,
                                                loaded: !1
                                            };
                                            return n[e].call(t.exports, t, t.exports, a), t.loaded = !0, t.exports;
                                        }
                                        var r = {};
                                        return a.m = n, a.c = r, a.p = '', a(0);
                                    }([
                                        function (e, t, n) {
                                            'use strict';
                                            function a(e) {
                                                return e && e.__esModule ? e : { 'default': e };
                                            }
                                            var r = a(n(1));
                                            e.exports = r['default'];
                                        },
                                        function (e, t, n) {
                                            'use strict';
                                            function a(e) {
                                                if (e && e.__esModule)
                                                    return e;
                                                var t = {};
                                                if (null != e)
                                                    for (var n in e)
                                                        Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                                                return t['default'] = e, t;
                                            }
                                            function r(e) {
                                                return e && e.__esModule ? e : { 'default': e };
                                            }
                                            function l() {
                                            }
                                            function u() {
                                                var e = c.shift();
                                                if (e) {
                                                    var t = o.last(e);
                                                    t.afterDequeue(), e.stream = i.apply(undefined, e), t.afterStreamStart();
                                                }
                                            }
                                            function i(e, t, a) {
                                                function r(e) {
                                                    e = a.beforeWrite(e), g.write(e), a.afterWrite(e);
                                                }
                                                (g = new f['default'](e, a)).id = h++, g.name = a.name || g.id, d.streams[g.name] = g;
                                                var n = e.ownerDocument, i = {
                                                        close: n.close,
                                                        open: n.open,
                                                        write: n.write,
                                                        writeln: n.writeln
                                                    };
                                                p(n, {
                                                    close: l,
                                                    open: l,
                                                    write: function s() {
                                                        for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)
                                                            t[n] = arguments[n];
                                                        return r(t.join(''));
                                                    },
                                                    writeln: function c() {
                                                        for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)
                                                            t[n] = arguments[n];
                                                        return r(t.join('') + '\n');
                                                    }
                                                });
                                                var o = g.win.onerror || l;
                                                return g.win.onerror = function (e, t, n) {
                                                    a.error({ msg: e + ' - ' + t + ': ' + n }), o.apply(g.win, [
                                                        e,
                                                        t,
                                                        n
                                                    ]);
                                                }, g.write(t, function () {
                                                    p(n, i), g.win.onerror = o, a.done(), g = null, u();
                                                }), g;
                                            }
                                            function d(e, t, n) {
                                                if (o.isFunction(n))
                                                    n = { done: n };
                                                else if ('clear' === n)
                                                    return c = [], g = null, void (h = 0);
                                                n = o.defaults(n, s);
                                                var a = [
                                                    e = /^#/.test(e) ? window.document.getElementById(e.substr(1)) : e.jquery ? e[0] : e,
                                                    t,
                                                    n
                                                ];
                                                return e.postscribe = {
                                                    cancel: function r() {
                                                        a.stream ? a.stream.abort() : a[1] = l;
                                                    }
                                                }, n.beforeEnqueue(a), c.push(a), g || u(), e.postscribe;
                                            }
                                            t.__esModule = !0;
                                            var p = Object.assign || function (e) {
                                                for (var t = 1; t < arguments.length; t++) {
                                                    var n = arguments[t];
                                                    for (var a in n)
                                                        Object.prototype.hasOwnProperty.call(n, a) && (e[a] = n[a]);
                                                }
                                                return e;
                                            };
                                            t['default'] = d;
                                            var f = r(n(2)), o = a(n(4)), s = {
                                                    afterAsync: l,
                                                    afterDequeue: l,
                                                    afterStreamStart: l,
                                                    afterWrite: l,
                                                    autoFix: !0,
                                                    beforeEnqueue: l,
                                                    beforeWriteToken: function m(e) {
                                                        return e;
                                                    },
                                                    beforeWrite: function v(e) {
                                                        return e;
                                                    },
                                                    done: l,
                                                    error: function b(e) {
                                                        throw new Error(e.msg);
                                                    },
                                                    releaseAsync: !1
                                                }, h = 0, c = [], g = null;
                                            p(d, {
                                                streams: {},
                                                queue: c,
                                                WriteStream: f['default']
                                            });
                                        },
                                        function (e, t, n) {
                                            'use strict';
                                            function a(e) {
                                                if (e && e.__esModule)
                                                    return e;
                                                var t = {};
                                                if (null != e)
                                                    for (var n in e)
                                                        Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                                                return t['default'] = e, t;
                                            }
                                            function r(e) {
                                                return e && e.__esModule ? e : { 'default': e };
                                            }
                                            function y(e, t) {
                                                if (!(e instanceof t))
                                                    throw new TypeError('Cannot call a class as a function');
                                            }
                                            function _(e, t) {
                                                var n = I + t, a = e.getAttribute(n);
                                                return w.existy(a) ? String(a) : a;
                                            }
                                            function S(e, t, n) {
                                                var a = 2 < arguments.length && n !== undefined ? arguments[2] : null, r = I + t;
                                                w.existy(a) && '' !== a ? e.setAttribute(r, a) : e.removeAttribute(r);
                                            }
                                            t.__esModule = !0;
                                            var T = Object.assign || function (e) {
                                                    for (var t = 1; t < arguments.length; t++) {
                                                        var n = arguments[t];
                                                        for (var a in n)
                                                            Object.prototype.hasOwnProperty.call(n, a) && (e[a] = n[a]);
                                                    }
                                                    return e;
                                                }, C = r(n(3)), w = a(n(4)), k = !1, I = 'data-ps-', P = 'ps-style', D = 'ps-script', i = function () {
                                                    function a(e, t) {
                                                        var n = 1 < arguments.length && t !== undefined ? arguments[1] : {};
                                                        y(this, a), this.root = e, this.options = n, this.doc = e.ownerDocument, this.win = this.doc.defaultView || this.doc.parentWindow, this.parser = new C['default']('', { autoFix: n.autoFix }), this.actuals = [e], this.proxyHistory = '', this.proxyRoot = this.doc.createElement(e.nodeName), this.scriptStack = [], this.writeQueue = [], S(this.proxyRoot, 'proxyof', 0);
                                                    }
                                                    return a.prototype.write = function n() {
                                                        var e;
                                                        for ((e = this.writeQueue).push.apply(e, arguments); !this.deferredRemote && this.writeQueue.length;) {
                                                            var t = this.writeQueue.shift();
                                                            w.isFunction(t) ? this._callFunction(t) : this._writeImpl(t);
                                                        }
                                                    }, a.prototype._callFunction = function r(e) {
                                                        var t = {
                                                            type: 'function',
                                                            value: e.name || e.toString()
                                                        };
                                                        this._onScriptStart(t), e.call(this.win, this.doc), this._onScriptDone(t);
                                                    }, a.prototype._writeImpl = function i(e) {
                                                        this.parser.append(e);
                                                        for (var t = void 0, n = void 0, a = void 0, r = []; (t = this.parser.readToken()) && !(n = w.isScript(t)) && !(a = w.isStyle(t));)
                                                            (t = this.options.beforeWriteToken(t)) && r.push(t);
                                                        0 < r.length && this._writeStaticTokens(r), n && this._handleScriptToken(t), a && this._handleStyleToken(t);
                                                    }, a.prototype._writeStaticTokens = function o(e) {
                                                        var t = this._buildChunk(e);
                                                        return t.actual ? (t.html = this.proxyHistory + t.actual, this.proxyHistory += t.proxy, this.proxyRoot.innerHTML = t.html, k && (t.proxyInnerHTML = this.proxyRoot.innerHTML), this._walkChunk(), k && (t.actualInnerHTML = this.root.innerHTML), t) : null;
                                                    }, a.prototype._buildChunk = function u(e) {
                                                        for (var t = this.actuals.length, n = [], a = [], r = [], i = e.length, o = 0; o < i; o++) {
                                                            var s = e[o], c = s.toString();
                                                            if (n.push(c), s.attrs) {
                                                                if (!/^noscript$/i.test(s.tagName)) {
                                                                    var l = t++;
                                                                    a.push(c.replace(/(\/?>)/, ' ' + I + 'id=' + l + ' $1')), s.attrs.id !== D && s.attrs.id !== P && r.push('atomicTag' === s.type ? '' : '<' + s.tagName + ' ' + I + 'proxyof=' + l + (s.unary ? ' />' : '>'));
                                                                }
                                                            } else
                                                                a.push(c), r.push('endTag' === s.type ? c : '');
                                                        }
                                                        return {
                                                            tokens: e,
                                                            raw: n.join(''),
                                                            actual: a.join(''),
                                                            proxy: r.join('')
                                                        };
                                                    }, a.prototype._walkChunk = function s() {
                                                        for (var e = void 0, t = [this.proxyRoot]; w.existy(e = t.shift());) {
                                                            var n = 1 === e.nodeType;
                                                            if (!n || !_(e, 'proxyof')) {
                                                                n && S(this.actuals[_(e, 'id')] = e, 'id');
                                                                var a = e.parentNode && _(e.parentNode, 'proxyof');
                                                                a && this.actuals[a].appendChild(e);
                                                            }
                                                            t.unshift.apply(t, w.toArray(e.childNodes));
                                                        }
                                                    }, a.prototype._handleScriptToken = function c(e) {
                                                        var t = this, n = this.parser.clear();
                                                        n && this.writeQueue.unshift(n), e.src = e.attrs.src || e.attrs.SRC, (e = this.options.beforeWriteToken(e)) && (e.src && this.scriptStack.length ? this.deferredRemote = e : this._onScriptStart(e), this._writeScriptToken(e, function () {
                                                            t._onScriptDone(e);
                                                        }));
                                                    }, a.prototype._handleStyleToken = function l(e) {
                                                        var t = this.parser.clear();
                                                        t && this.writeQueue.unshift(t), e.type = e.attrs.type || e.attrs.TYPE || 'text/css', (e = this.options.beforeWriteToken(e)) && this._writeStyleToken(e), t && this.write();
                                                    }, a.prototype._writeStyleToken = function d(e) {
                                                        var t = this._buildStyle(e);
                                                        this._insertCursor(t, P), e.content && (t.styleSheet && !t.sheet ? t.styleSheet.cssText = e.content : t.appendChild(this.doc.createTextNode(e.content)));
                                                    }, a.prototype._buildStyle = function t(e) {
                                                        var n = this.doc.createElement(e.tagName);
                                                        return n.setAttribute('type', e.type), w.eachKey(e.attrs, function (e, t) {
                                                            n.setAttribute(e, t);
                                                        }), n;
                                                    }, a.prototype._insertCursor = function p(e, t) {
                                                        const $___old_99197d47f13fdb0b = {}.constructor.getOwnPropertyDescriptor(window, 'localStorage');
                                                        try {
                                                            if ($___old_99197d47f13fdb0b)
                                                                ({}.constructor.defineProperty(window, 'localStorage', $___mock_5681dcac222e7c62.localStorage));
                                                            return function () {
                                                                this._writeImpl('<span id="' + t + '"/>');
                                                                var n = this.doc.getElementById(t);
                                                                n && n.parentNode.replaceChild(e, n);
                                                            }.apply(this, arguments);
                                                        } finally {
                                                            if ($___old_99197d47f13fdb0b)
                                                                ({}.constructor.defineProperty(window, 'localStorage', $___old_99197d47f13fdb0b));
                                                        }
                                                    }, a.prototype._onScriptStart = function f(e) {
                                                        e.outerWrites = this.writeQueue, this.writeQueue = [], this.scriptStack.unshift(e);
                                                    }, a.prototype._onScriptDone = function h(e) {
                                                        e === this.scriptStack[0] ? (this.scriptStack.shift(), this.write.apply(this, e.outerWrites), !this.scriptStack.length && this.deferredRemote && (this._onScriptStart(this.deferredRemote), this.deferredRemote = null)) : this.options.error({ msg: 'Bad script nesting or script finished twice' });
                                                    }, a.prototype._writeScriptToken = function g(e, t) {
                                                        var n = this._buildScript(e), a = this._shouldRelease(n), r = this.options.afterAsync;
                                                        e.src && (n.src = e.src, this._scriptLoadHandler(n, a ? r : function () {
                                                            t(), r();
                                                        }));
                                                        try {
                                                            this._insertCursor(n, D), n.src && !a || t();
                                                        } catch (i) {
                                                            this.options.error(i), t();
                                                        }
                                                    }, a.prototype._buildScript = function m(e) {
                                                        var n = this.doc.createElement(e.tagName);
                                                        return w.eachKey(e.attrs, function (e, t) {
                                                            n.setAttribute(e, t);
                                                        }), e.content && (n.text = e.content), n;
                                                    }, a.prototype._scriptLoadHandler = function v(t, n) {
                                                        function a() {
                                                            t = t.onload = t.onreadystatechange = t.onerror = null;
                                                        }
                                                        function r() {
                                                            a(), null != n && n(), n = null;
                                                        }
                                                        function i(e) {
                                                            a(), o(e), null != n && n(), n = null;
                                                        }
                                                        function e(e, t) {
                                                            var n = e['on' + t];
                                                            null != n && (e['_on' + t] = n);
                                                        }
                                                        var o = this.options.error;
                                                        e(t, 'load'), e(t, 'error'), T(t, {
                                                            onload: function s() {
                                                                if (t._onload)
                                                                    try {
                                                                        t._onload.apply(this, Array.prototype.slice.call(arguments, 0));
                                                                    } catch (e) {
                                                                        i({ msg: 'onload handler failed ' + e + ' @ ' + t.src });
                                                                    }
                                                                r();
                                                            },
                                                            onerror: function c() {
                                                                if (t._onerror)
                                                                    try {
                                                                        t._onerror.apply(this, Array.prototype.slice.call(arguments, 0));
                                                                    } catch (e) {
                                                                        return void i({ msg: 'onerror handler failed ' + e + ' @ ' + t.src });
                                                                    }
                                                                i({ msg: 'remote script failed ' + t.src });
                                                            },
                                                            onreadystatechange: function l() {
                                                                /^(loaded|complete)$/.test(t.readyState) && r();
                                                            }
                                                        });
                                                    }, a.prototype._shouldRelease = function b(e) {
                                                        return !/^script$/i.test(e.nodeName) || !!(this.options.releaseAsync && e.src && e.hasAttribute('async'));
                                                    }, a;
                                                }();
                                            t['default'] = i;
                                        },
                                        function (n) {
                                            !function a(e, t) {
                                                n.exports = t();
                                            }(0, function () {
                                                return function (n) {
                                                    function a(e) {
                                                        if (r[e])
                                                            return r[e].exports;
                                                        var t = r[e] = {
                                                            exports: {},
                                                            id: e,
                                                            loaded: !1
                                                        };
                                                        return n[e].call(t.exports, t, t.exports, a), t.loaded = !0, t.exports;
                                                    }
                                                    var r = {};
                                                    return a.m = n, a.c = r, a.p = '', a(0);
                                                }([
                                                    function (e, t, n) {
                                                        'use strict';
                                                        function a(e) {
                                                            return e && e.__esModule ? e : { 'default': e };
                                                        }
                                                        var r = a(n(1));
                                                        e.exports = r['default'];
                                                    },
                                                    function (e, t, n) {
                                                        'use strict';
                                                        function a(e) {
                                                            return e && e.__esModule ? e : { 'default': e };
                                                        }
                                                        function r(e) {
                                                            if (e && e.__esModule)
                                                                return e;
                                                            var t = {};
                                                            if (null != e)
                                                                for (var n in e)
                                                                    Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                                                            return t['default'] = e, t;
                                                        }
                                                        function u(e, t) {
                                                            if (!(e instanceof t))
                                                                throw new TypeError('Cannot call a class as a function');
                                                        }
                                                        t.__esModule = !0;
                                                        var d = r(n(2)), p = r(n(3)), f = a(n(6)), i = n(5), h = {
                                                                comment: /^<!--/,
                                                                endTag: /^<\//,
                                                                atomicTag: /^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,
                                                                startTag: /^</,
                                                                chars: /^[^<]/
                                                            }, o = function () {
                                                                function c(e, t) {
                                                                    var n = this, a = 0 < arguments.length && e !== undefined ? arguments[0] : '', r = 1 < arguments.length && t !== undefined ? arguments[1] : {};
                                                                    u(this, c), this.stream = a;
                                                                    var i = !1, o = {};
                                                                    for (var s in d)
                                                                        d.hasOwnProperty(s) && (r.autoFix && (o[s + 'Fix'] = !0), i = i || o[s + 'Fix']);
                                                                    i ? (this._readToken = (0, f['default'])(this, o, function () {
                                                                        return n._readTokenImpl();
                                                                    }), this._peekToken = (0, f['default'])(this, o, function () {
                                                                        return n._peekTokenImpl();
                                                                    })) : (this._readToken = this._readTokenImpl, this._peekToken = this._peekTokenImpl);
                                                                }
                                                                return c.prototype.append = function t(e) {
                                                                    this.stream += e;
                                                                }, c.prototype.prepend = function n(e) {
                                                                    this.stream = e + this.stream;
                                                                }, c.prototype._readTokenImpl = function a() {
                                                                    var e = this._peekTokenImpl();
                                                                    if (e)
                                                                        return this.stream = this.stream.slice(e.length), e;
                                                                }, c.prototype._peekTokenImpl = function r() {
                                                                    for (var e in h)
                                                                        if (h.hasOwnProperty(e) && h[e].test(this.stream)) {
                                                                            var t = p[e](this.stream);
                                                                            if (t)
                                                                                return 'startTag' === t.type && /script|style/i.test(t.tagName) ? null : (t.text = this.stream.substr(0, t.length), t);
                                                                        }
                                                                }, c.prototype.peekToken = function e() {
                                                                    return this._peekToken();
                                                                }, c.prototype.readToken = function i() {
                                                                    return this._readToken();
                                                                }, c.prototype.readTokens = function o(e) {
                                                                    for (var t = void 0; t = this.readToken();)
                                                                        if (e[t.type] && !1 === e[t.type](t))
                                                                            return;
                                                                }, c.prototype.clear = function s() {
                                                                    var e = this.stream;
                                                                    return this.stream = '', e;
                                                                }, c.prototype.rest = function l() {
                                                                    return this.stream;
                                                                }, c;
                                                            }();
                                                        for (var s in ((t['default'] = o).tokenToString = function (e) {
                                                                return e.toString();
                                                            }, o.escapeAttributes = function (e) {
                                                                var t = {};
                                                                for (var n in e)
                                                                    e.hasOwnProperty(n) && (t[n] = (0, i.escapeQuotes)(e[n], null));
                                                                return t;
                                                            }, o.supports = d))
                                                            d.hasOwnProperty(s) && (o.browserHasFlaw = o.browserHasFlaw || !d[s] && s);
                                                    },
                                                    function (e, t) {
                                                        'use strict';
                                                        var n = !(t.__esModule = !0), a = !1, r = window.document.createElement('div');
                                                        try {
                                                            var i = '<P><I></P></I>';
                                                            r.innerHTML = i, t.tagSoup = n = r.innerHTML !== i;
                                                        } catch (o) {
                                                            t.tagSoup = n = !1;
                                                        }
                                                        try {
                                                            r.innerHTML = '<P><i><P></P></i></P>', t.selfClose = a = 2 === r.childNodes.length;
                                                        } catch (o) {
                                                            t.selfClose = a = !1;
                                                        }
                                                        r = null, t.tagSoup = n, t.selfClose = a;
                                                    },
                                                    function (e, t, n) {
                                                        'use strict';
                                                        function a(e) {
                                                            var t = e.indexOf('-->');
                                                            if (0 <= t)
                                                                return new u.CommentToken(e.substr(4, t - 1), t + 3);
                                                        }
                                                        function r(e) {
                                                            var t = e.indexOf('<');
                                                            return new u.CharsToken(0 <= t ? t : e.length);
                                                        }
                                                        function i(e) {
                                                            var o, s, c;
                                                            if (-1 !== e.indexOf('>')) {
                                                                var t = e.match(d.startTag);
                                                                if (t) {
                                                                    var n = (o = {}, s = {}, c = t[2], t[2].replace(d.attr, function (e, t, n, a, r, i) {
                                                                        n || a || r || i ? arguments[5] ? (o[arguments[5]] = '', s[arguments[5]] = !0) : o[t] = arguments[2] || arguments[3] || arguments[4] || d.fillAttr.test(t) && t || '' : o[t] = '', c = c.replace(e, '');
                                                                    }), { v: new u.StartTagToken(t[1], t[0].length, o, s, !!t[3], c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '')) });
                                                                    if ('object' === (void 0 === n ? 'undefined' : l(n)))
                                                                        return n.v;
                                                                }
                                                            }
                                                        }
                                                        function o(e) {
                                                            var t = i(e);
                                                            if (t) {
                                                                var n = e.slice(t.length);
                                                                if (n.match(new RegExp('</\\s*' + t.tagName + '\\s*>', 'i'))) {
                                                                    var a = n.match(new RegExp('([\\s\\S]*?)</\\s*' + t.tagName + '\\s*>', 'i'));
                                                                    if (a)
                                                                        return new u.AtomicTagToken(t.tagName, a[0].length + t.length, t.attrs, t.booleanAttrs, a[1]);
                                                                }
                                                            }
                                                        }
                                                        function s(e) {
                                                            var t = e.match(d.endTag);
                                                            if (t)
                                                                return new u.EndTagToken(t[1], t[0].length);
                                                        }
                                                        t.__esModule = !0;
                                                        var l = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) {
                                                            return typeof e;
                                                        } : function (e) {
                                                            return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e;
                                                        };
                                                        t.comment = a, t.chars = r, t.startTag = i, t.atomicTag = o, t.endTag = s;
                                                        var u = n(4), d = {
                                                                startTag: /^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,
                                                                endTag: /^<\/([\-A-Za-z0-9_]+)[^>]*>/,
                                                                attr: /(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,
                                                                fillAttr: /^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i
                                                            };
                                                    },
                                                    function (e, t, n) {
                                                        'use strict';
                                                        function s(e, t) {
                                                            if (!(e instanceof t))
                                                                throw new TypeError('Cannot call a class as a function');
                                                        }
                                                        t.__esModule = !0, t.EndTagToken = t.AtomicTagToken = t.StartTagToken = t.TagToken = t.CharsToken = t.CommentToken = t.Token = undefined;
                                                        var c = n(5), a = t.Token = function a(e, t) {
                                                                s(this, a), this.type = e, this.length = t, this.text = '';
                                                            }, r = (t.CommentToken = function () {
                                                                function n(e, t) {
                                                                    s(this, n), this.type = 'comment', this.length = t || (e ? e.length : 0), this.text = '', this.content = e;
                                                                }
                                                                return n.prototype.toString = function e() {
                                                                    return '<!--' + this.content;
                                                                }, n;
                                                            }(), t.CharsToken = function () {
                                                                function t(e) {
                                                                    s(this, t), this.type = 'chars', this.length = e, this.text = '';
                                                                }
                                                                return t.prototype.toString = function e() {
                                                                    return this.text;
                                                                }, t;
                                                            }(), t.TagToken = function () {
                                                                function i(e, t, n, a, r) {
                                                                    s(this, i), this.type = e, this.length = n, this.text = '', this.tagName = t, this.attrs = a, this.booleanAttrs = r, this.unary = !1, this.html5Unary = !1;
                                                                }
                                                                return i.formatTag = function o(e, t) {
                                                                    var n = 1 < arguments.length && t !== undefined ? arguments[1] : null, a = '<' + e.tagName;
                                                                    for (var r in e.attrs)
                                                                        if (e.attrs.hasOwnProperty(r)) {
                                                                            a += ' ' + r;
                                                                            var i = e.attrs[r];
                                                                            'undefined' != typeof e.booleanAttrs && 'undefined' != typeof e.booleanAttrs[r] || (a += '="' + (0, c.escapeQuotes)(i) + '"');
                                                                        }
                                                                    return e.rest && (a += ' ' + e.rest), e.unary && !e.html5Unary ? a += '/>' : a += '>', n !== undefined && null !== n && (a += n + '</' + e.tagName + '>'), a;
                                                                }, i;
                                                            }());
                                                        t.StartTagToken = function () {
                                                            function o(e, t, n, a, r, i) {
                                                                s(this, o), this.type = 'startTag', this.length = t, this.text = '', this.tagName = e, this.attrs = n, this.booleanAttrs = a, this.html5Unary = !1, this.unary = r, this.rest = i;
                                                            }
                                                            return o.prototype.toString = function e() {
                                                                return r.formatTag(this);
                                                            }, o;
                                                        }(), t.AtomicTagToken = function () {
                                                            function i(e, t, n, a, r) {
                                                                s(this, i), this.type = 'atomicTag', this.length = t, this.text = '', this.tagName = e, this.attrs = n, this.booleanAttrs = a, this.unary = !1, this.html5Unary = !1, this.content = r;
                                                            }
                                                            return i.prototype.toString = function e() {
                                                                return r.formatTag(this, this.content);
                                                            }, i;
                                                        }(), t.EndTagToken = function () {
                                                            function n(e, t) {
                                                                s(this, n), this.type = 'endTag', this.length = t, this.text = '', this.tagName = e;
                                                            }
                                                            return n.prototype.toString = function e() {
                                                                return '</' + this.tagName + '>';
                                                            }, n;
                                                        }();
                                                    },
                                                    function (e, t) {
                                                        'use strict';
                                                        function n(e, t) {
                                                            var n = 1 < arguments.length && t !== undefined ? arguments[1] : '';
                                                            return e ? e.replace(/([^"]*)"/g, function (e, t) {
                                                                return /\\/.test(t) ? t + '"' : t + '\\"';
                                                            }) : n;
                                                        }
                                                        t.__esModule = !0, t.escapeQuotes = n;
                                                    },
                                                    function (e, t) {
                                                        'use strict';
                                                        function l(e) {
                                                            return e && 'startTag' === e.type && (e.unary = a.test(e.tagName) || e.unary, e.html5Unary = !/\/>$/.test(e.text)), e;
                                                        }
                                                        function u(e, t) {
                                                            var n = e.stream, a = l(t());
                                                            return e.stream = n, a;
                                                        }
                                                        function d(e, t) {
                                                            var n = t.pop();
                                                            e.prepend('</' + n.tagName + '>');
                                                        }
                                                        function p() {
                                                            var e = [];
                                                            return e.last = function () {
                                                                return this[this.length - 1];
                                                            }, e.lastTagNameEq = function (e) {
                                                                var t = this.last();
                                                                return t && t.tagName && t.tagName.toUpperCase() === e.toUpperCase();
                                                            }, e.containsTagName = function (e) {
                                                                for (var t, n = 0; t = this[n]; n++)
                                                                    if (t.tagName === e)
                                                                        return !0;
                                                                return !1;
                                                            }, e;
                                                        }
                                                        function n(n, a, t) {
                                                            function r() {
                                                                var e = u(n, t);
                                                                e && o[e.type] && o[e.type](e);
                                                            }
                                                            var i = p(), o = {
                                                                    startTag: function s(e) {
                                                                        var t = e.tagName;
                                                                        'TR' === t.toUpperCase() && i.lastTagNameEq('TABLE') ? (n.prepend('<TBODY>'), r()) : a.selfCloseFix && f.test(t) && i.containsTagName(t) ? i.lastTagNameEq(t) ? d(n, i) : (n.prepend('</' + e.tagName + '>'), r()) : e.unary || i.push(e);
                                                                    },
                                                                    endTag: function c(e) {
                                                                        i.last() ? a.tagSoupFix && !i.lastTagNameEq(e.tagName) ? d(n, i) : i.pop() : a.tagSoupFix && (t(), r());
                                                                    }
                                                                };
                                                            return function e() {
                                                                return r(), l(t());
                                                            };
                                                        }
                                                        t.__esModule = !0, t['default'] = n;
                                                        var a = /^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i, f = /^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i;
                                                    }
                                                ]);
                                            });
                                        },
                                        function (e, t) {
                                            'use strict';
                                            function a(e) {
                                                return null != e;
                                            }
                                            function n(e) {
                                                return 'function' == typeof e;
                                            }
                                            function r(e, t, n) {
                                                var a = void 0, r = e && e.length || 0;
                                                for (a = 0; a < r; a++)
                                                    t.call(n, e[a], a);
                                            }
                                            function i(e, t, n) {
                                                for (var a in e)
                                                    e.hasOwnProperty(a) && t.call(n, a, e[a]);
                                            }
                                            function o(n, e) {
                                                return n = n || {}, i(e, function (e, t) {
                                                    a(n[e]) || (n[e] = t);
                                                }), n;
                                            }
                                            function s(e) {
                                                try {
                                                    return Array.prototype.slice.call(e);
                                                } catch (a) {
                                                    var t = (n = [], r(e, function (e) {
                                                        n.push(e);
                                                    }), { v: n });
                                                    if ('object' === (void 0 === t ? 'undefined' : p(t)))
                                                        return t.v;
                                                }
                                                var n;
                                            }
                                            function c(e) {
                                                return e[e.length - 1];
                                            }
                                            function l(e, t) {
                                                return !(!e || 'startTag' !== e.type && 'atomicTag' !== e.type || !('tagName' in e) || !~e.tagName.toLowerCase().indexOf(t));
                                            }
                                            function u(e) {
                                                return l(e, 'script');
                                            }
                                            function d(e) {
                                                return l(e, 'style');
                                            }
                                            t.__esModule = !0;
                                            var p = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) {
                                                return typeof e;
                                            } : function (e) {
                                                return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e;
                                            };
                                            t.existy = a, t.isFunction = n, t.each = r, t.eachKey = i, t.defaults = o, t.toArray = s, t.last = c, t.isTag = l, t.isScript = u, t.isStyle = d;
                                        }
                                    ]);
                                });
                            }
                        },
                        'core/src/lib/actions/helpers/unescapeHtmlCode.js': {
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-document').createElement('div');
                                e.exports = function (e) {
                                    return a.innerHTML = e, a.textContent || a.innerText || e;
                                };
                            }
                        },
                        'core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js': {
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-promise');
                                e.exports = function (e, t) {
                                    return {
                                        code: '<script>\n' + t + '\n</script>',
                                        promise: a.resolve()
                                    };
                                };
                            }
                        },
                        'core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js': {
                            script: function (e, t, n) {
                                'use strict';
                                var i = n('@adobe/reactor-promise'), o = 0;
                                e.exports = function (a, e) {
                                    var r = '_runScript' + ++o, t = new i(function (e, n) {
                                            _satellite[r] = function (t) {
                                                delete _satellite[r], new i(function (e) {
                                                    const $___old_0a56a251750ba7d0 = {}.constructor.getOwnPropertyDescriptor(window, 'localStorage');
                                                    try {
                                                        if ($___old_0a56a251750ba7d0)
                                                            ({}.constructor.defineProperty(window, 'localStorage', $___mock_5681dcac222e7c62.localStorage));
                                                        return function () {
                                                            e(t.call(a.event.element, a.event, a.event.target, i));
                                                        }.apply(this, arguments);
                                                    } finally {
                                                        if ($___old_0a56a251750ba7d0)
                                                            ({}.constructor.defineProperty(window, 'localStorage', $___old_0a56a251750ba7d0));
                                                    }
                                                }).then(e, n);
                                            };
                                        });
                                    return {
                                        code: '<script>_satellite["' + r + '"](function(event, target, Promise) {\n' + e + '\n});</script>',
                                        promise: t
                                    };
                                };
                            }
                        },
                        'core/src/lib/actions/helpers/decorators/decorateHtmlCode.js': {
                            script: function (e, t, n, a) {
                                'use strict';
                                var r = n('@adobe/reactor-promise'), i = 0, o = {};
                                window._satellite = window._satellite || {}, window._satellite._onCustomCodeSuccess = function (e) {
                                    var t = o[e];
                                    t && (delete o[e], t.resolve());
                                }, window._satellite._onCustomCodeFailure = function (e) {
                                    var t = o[e];
                                    t && (delete o[e], t.reject());
                                };
                                var s = function (e) {
                                        return -1 !== e.indexOf('${reactorCallbackId}');
                                    }, c = function (e, t) {
                                        return e.replace(/\${reactorCallbackId}/g, t);
                                    }, l = function (e) {
                                        return e.settings.isExternal;
                                    };
                                e.exports = function (e, t) {
                                    var n;
                                    return l(e) && (t = a.replaceTokens(t, e.event)), s(t) ? (n = new r(function (e, t) {
                                        o[String(i)] = {
                                            resolve: e,
                                            reject: t
                                        };
                                    }), t = c(t, i), i += 1) : n = r.resolve(), {
                                        code: t,
                                        promise: n
                                    };
                                };
                            }
                        },
                        'core/src/lib/actions/helpers/getSourceByUrl.js': {
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-load-script'), r = n('@adobe/reactor-promise'), i = {}, o = {}, s = function (e) {
                                        return o[e] || (o[e] = a(e)), o[e];
                                    };
                                _satellite.__registerScript = function (e, t) {
                                    i[e] = t;
                                }, e.exports = function (t) {
                                    return i[t] ? r.resolve(i[t]) : new r(function (e) {
                                        s(t).then(function () {
                                            e(i[t]);
                                        }, function () {
                                            e();
                                        });
                                    });
                                };
                            }
                        },
                        'core/src/lib/helpers/textMatch.js': {
                            script: function (e) {
                                'use strict';
                                e.exports = function (e, t) {
                                    if (null == t)
                                        throw new Error('Illegal Argument: Pattern is not present');
                                    return null != e && ('string' == typeof t ? e === t : t instanceof RegExp && t.test(e));
                                };
                            }
                        },
                        'core/src/lib/helpers/stringAndNumberUtils.js': {
                            script: function (e) {
                                'use strict';
                                var t = function (e) {
                                        return 'number' == typeof e && isFinite(e);
                                    }, n = function (e) {
                                        return 'string' == typeof e || e instanceof String;
                                    }, a = function (e) {
                                        return t(e) ? String(e) : e;
                                    }, r = function (e) {
                                        return n(e) ? Number(e) : e;
                                    };
                                e.exports = {
                                    isNumber: t,
                                    isString: n,
                                    castToStringIfNumber: a,
                                    castToNumberIfString: r
                                };
                            }
                        },
                        'core/src/lib/conditions/helpers/clientInfo.js': {
                            script: function (e) {
                                'use strict';
                                var t = function (r) {
                                        return function (e) {
                                            for (var t = Object.keys(r), n = 0; n < t.length; n++) {
                                                var a = t[n];
                                                if (r[a].test(e))
                                                    return a;
                                            }
                                            return 'Unknown';
                                        };
                                    }, n = t({
                                        Edge: /Edge/,
                                        'Mobile Safari': /Mobile(\/[0-9A-z]+)? Safari/,
                                        Chrome: /Chrome/,
                                        Firefox: /Firefox/,
                                        IE: /MSIE|Trident/,
                                        Safari: /Safari/
                                    })(navigator.userAgent), a = t({
                                        iOS: /iPhone|iPad|iPod/,
                                        Android: /Android [0-9\.]+;/,
                                        Linux: / Linux /,
                                        Unix: /FreeBSD|OpenBSD|CrOS/,
                                        Windows: /[\( ]Windows /,
                                        MacOS: /Macintosh;/
                                    })(navigator.userAgent), r = t({
                                        iPhone: /iPhone/,
                                        iPad: /iPad/,
                                        iPod: /iPod/,
                                        Nokia: /SymbOS|Maemo/,
                                        'Windows Phone': /IEMobile/,
                                        Blackberry: /BlackBerry/,
                                        Android: /Android [0-9\.]+;/,
                                        Desktop: /.*/
                                    })(navigator.userAgent);
                                e.exports = {
                                    browser: n,
                                    os: a,
                                    deviceType: r
                                };
                            }
                        },
                        'core/src/lib/events/helpers/createBubbly.js': {
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('./weakMap'), f = n('./matchesProperties'), h = n('./matchesSelector');
                                e.exports = function () {
                                    var d = [], p = new a(), e = {
                                            addListener: function (e, t) {
                                                d.push({
                                                    settings: e,
                                                    callback: t
                                                });
                                            },
                                            evaluateEvent: function (t, e) {
                                                if (d.length && !p.has(t)) {
                                                    for (var n = t.target, a = !1; n;) {
                                                        for (var r = !1, i = !1, o = 0; o < d.length; o++) {
                                                            var s = d[o], c = s.settings.elementSelector, l = s.settings.elementProperties;
                                                            if ((!1 !== s.settings.bubbleFireIfChildFired || !a) && (n === t.target || !1 !== s.settings.bubbleFireIfParent) && (n === t.target || c || l && Object.keys(l).length) && (!c || h(n, c)) && (!l || f(n, l))) {
                                                                var u = {};
                                                                e ? Object.keys(t).forEach(function (e) {
                                                                    u[e] = t[e];
                                                                }) : u.nativeEvent = t, u.element = n, u.target = t.target, !1 !== s.callback(u) && (i = !0, s.settings.bubbleStop && (r = !0));
                                                            }
                                                        }
                                                        if (r)
                                                            break;
                                                        i && (a = !0), n = n.parentNode;
                                                    }
                                                    p.set(t, !0);
                                                }
                                            },
                                            __reset: function () {
                                                d = [];
                                            }
                                        };
                                    return e;
                                };
                            }
                        },
                        'core/src/lib/events/helpers/weakMap.js': {
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-window').WeakMap;
                                if (void 0 === a) {
                                    var r = Object.defineProperty, i = Date.now() % 1000000000;
                                    (a = function () {
                                        this.name = '__st' + (1000000000 * Math.random() >>> 0) + i++ + '__';
                                    }).prototype = {
                                        set: function (e, t) {
                                            var n = e[this.name];
                                            return n && n[0] === e ? n[1] = t : r(e, this.name, {
                                                value: [
                                                    e,
                                                    t
                                                ],
                                                writable: !0
                                            }), this;
                                        },
                                        get: function (e) {
                                            var t;
                                            return (t = e[this.name]) && t[0] === e ? t[1] : undefined;
                                        },
                                        'delete': function (e) {
                                            var t = e[this.name];
                                            return !(!t || t[0] !== e || (t[0] = t[1] = undefined, 0));
                                        },
                                        has: function (e) {
                                            var t = e[this.name];
                                            return !!t && t[0] === e;
                                        }
                                    };
                                }
                                e.exports = a;
                            }
                        },
                        'core/src/lib/events/helpers/matchesProperties.js': {
                            script: function (e, t, n) {
                                'use strict';
                                var r = n('./../../helpers/textMatch'), i = function (e, t) {
                                        return '@text' === t || 'innerText' === t ? e.textContent || e.innerText : t in e ? e[t] : e.getAttribute ? e.getAttribute(t) : void 0;
                                    };
                                e.exports = function (a, e) {
                                    return !e || e.every(function (e) {
                                        var t = i(a, e.name), n = e.valueIsRegex ? new RegExp(e.value, 'i') : e.value;
                                        return r(t, n);
                                    });
                                };
                            }
                        },
                        'core/src/lib/events/helpers/matchesSelector.js': {
                            script: function (e, t, n, r) {
                                'use strict';
                                e.exports = function (e, t) {
                                    var n = e.matches || e.msMatchesSelector;
                                    if (n)
                                        try {
                                            return n.call(e, t);
                                        } catch (a) {
                                            return r.logger.warn('Matching element failed. ' + t + ' is not a valid selector.'), !1;
                                        }
                                    return !1;
                                };
                            }
                        }
                    },
                    hostedLibFilesBaseUrl: 'https://assets.adobedtm.com/extensions/EPda5a24187011446b9e9e605e55f63144/'
                },
                'adobe-target': {
                    displayName: 'Adobe Target',
                    modules: {},
                    settings: {
                        targetSettings: {
                            enabled: !0,
                            timeout: 3000,
                            version: '1.8.0',
                            imsOrgId: 'BC501253513148ED0A490D45@AdobeOrg',
                            clientCode: 'discovery',
                            secureOnly: !1,
                            crossDomain: 'disabled',
                            optinEnabled: !1,
                            serverDomain: 'scripps.tt.omtrdc.net',
                            urlSizeLimit: 2048,
                            optoutEnabled: !1,
                            globalMboxName: 'target-global-mbox',
                            bodyHiddenStyle: 'body {opacity: 0}',
                            deviceIdLifetime: 63244800000,
                            bodyHidingEnabled: !0,
                            sessionIdLifetime: 1860000,
                            visitorApiTimeout: 2000,
                            authoringScriptUrl: '//cdn.tt.omtrdc.net/cdn/target-vec.js',
                            overrideMboxEdgeServer: !1,
                            selectorsPollingTimeout: 5000,
                            defaultContentHiddenStyle: 'visibility: hidden;',
                            defaultContentVisibleStyle: 'visibility: visible;',
                            overrideMboxEdgeServerTimeout: 1860000,
                            supplementalDataIdParamTimeout: 30
                        }
                    },
                    hostedLibFilesBaseUrl: 'https://assets.adobedtm.com/extensions/EPc2a65477976243e69d5fe1910addf5fb/'
                },
                'adobe-analytics': {
                    displayName: 'Adobe Analytics',
                    modules: {
                        'adobe-analytics/src/lib/actions/clearVariables.js': {
                            name: 'clear-variables',
                            displayName: 'Clear Variables',
                            script: function (e, t, n, a) {
                                'use strict';
                                var r = n('../sharedModules/getTracker');
                                e.exports = function () {
                                    return r().then(function (e) {
                                        e.clearVars && (a.logger.info('Clear variables.'), e.clearVars());
                                    }, function (e) {
                                        a.logger.error('Cannot clear variables: ' + e);
                                    });
                                };
                            }
                        },
                        'adobe-analytics/src/lib/actions/sendBeacon.js': {
                            name: 'send-beacon',
                            displayName: 'Send Beacon',
                            script: function (e, t, n, r) {
                                'use strict';
                                var a = n('../sharedModules/getTracker'), i = function (e) {
                                        return e && e.nodeName && 'a' === e.nodeName.toLowerCase();
                                    }, o = function (e) {
                                        return i(e) ? e.innerHTML : 'link clicked';
                                    }, s = function (e, t, n) {
                                        if ('page' === t.type)
                                            r.logger.info('Firing page view beacon.'), e.t();
                                        else {
                                            var a = {
                                                linkType: t.linkType || 'o',
                                                linkName: t.linkName || o(n)
                                            };
                                            r.logger.info('Firing link track beacon using the values: ' + JSON.stringify(a) + '.'), e.tl(i(n) ? n : 'true', a.linkType, a.linkName);
                                        }
                                    };
                                e.exports = function (t, n) {
                                    return a().then(function (e) {
                                        s(e, t, n.element);
                                    }, function (e) {
                                        r.logger.error('Cannot send beacon: ' + e);
                                    });
                                };
                            }
                        },
                        'adobe-analytics/src/lib/actions/setVariables.js': {
                            name: 'set-variables',
                            displayName: 'Set Variables',
                            script: function (e, t, n, a) {
                                'use strict';
                                var r = n('../sharedModules/getTracker'), i = n('../helpers/applyTrackerVariables');
                                e.exports = function (t, n) {
                                    return r().then(function (e) {
                                        a.logger.info('Set variables on the tracker.'), i(e, t.trackerProperties), t.customSetup && t.customSetup.source && t.customSetup.source.call(n.element, n, e);
                                    }, function (e) {
                                        a.logger.error('Cannot set variables: ' + e);
                                    });
                                };
                            }
                        },
                        'adobe-analytics/src/lib/sharedModules/getTracker.js': {
                            script: function (e, t, n, a) {
                                'use strict';
                                var r, i = n('@adobe/reactor-cookie'), o = n('@adobe/reactor-promise'), s = n('@adobe/reactor-window'), c = n('../helpers/settingsHelper'), l = n('../helpers/augmenters'), u = n('../helpers/applyTrackerVariables'), d = n('../helpers/loadLibrary'), p = n('../helpers/generateVersion')(a.buildInfo.turbineBuildDate), f = 'beforeSettings', h = a.getSharedModule('adobe-mcid', 'mcid-instance'), g = function (e) {
                                        return !e || 'true' === i.get(e);
                                    }, m = function (a) {
                                        return o.all(l.map(function (e) {
                                            var t;
                                            try {
                                                t = e(a);
                                            } catch (n) {
                                                setTimeout(function () {
                                                    throw n;
                                                });
                                            }
                                            return o.resolve(t);
                                        })).then(function () {
                                            return a;
                                        });
                                    }, v = function (e) {
                                        return h && (a.logger.info('Setting MCID instance on the tracker.'), e.visitor = h), e;
                                    }, b = function (e) {
                                        return a.logger.info('Setting version on tracker: "' + p + '".'), 'undefined' != typeof e.tagContainerMarker ? e.tagContainerMarker = p : 'string' == typeof e.version && e.version.substring(e.version.length - 5) !== '-' + p && (e.version += '-' + p), e;
                                    }, y = function (e, t, n) {
                                        return t.loadPhase === f && t.source && (a.logger.info('Calling custom script before settings.'), t.source.call(s, n)), u(n, e || {}), t.loadPhase !== f && t.source && (a.logger.info('Calling custom script after settings.'), t.source.call(s, n)), n;
                                    }, _ = function (e, t) {
                                        return c.isAudienceManagementEnabled(e) && (t.loadModule('AudienceManagement'), a.logger.info('Initializing AudienceManagement module'), t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)), t;
                                    }, S = (r = a.getExtensionSettings(), g(r.trackingCookieName) ? d(r).then(m).then(v).then(b).then(y.bind(null, r.trackerProperties, r.customSetup || {})).then(_.bind(null, r)) : o.reject('EU compliance was not acknowledged by the user.'));
                                e.exports = function () {
                                    return S;
                                };
                            },
                            name: 'get-tracker',
                            shared: !0
                        },
                        'adobe-analytics/src/lib/sharedModules/augmentTracker.js': {
                            name: 'augment-tracker',
                            shared: !0,
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('../helpers/augmenters');
                                e.exports = function (e) {
                                    a.push(e);
                                };
                            }
                        },
                        'adobe-analytics/src/lib/helpers/settingsHelper.js': {
                            script: function (e, t, n, a) {
                                'use strict';
                                var r = n('@adobe/reactor-window'), i = {
                                        LIB_TYPES: {
                                            MANAGED: 'managed',
                                            PREINSTALLED: 'preinstalled',
                                            REMOTE: 'remote',
                                            CUSTOM: 'custom'
                                        },
                                        MANAGED_LIB_PATHS: {
                                            APP_MEASUREMENT: 'AppMeasurement.js',
                                            ACTIVITY_MAP: 'AppMeasurement_Module_ActivityMap.js',
                                            AUDIENCE_MANAGEMENT: 'AppMeasurement_Module_AudienceManagement.js'
                                        },
                                        getReportSuites: function (e) {
                                            var t = e.production;
                                            return e[a.buildInfo.environment] && (t = e[a.buildInfo.environment]), t.join(',');
                                        },
                                        isActivityMapEnabled: function (e) {
                                            return !(e.libraryCode && !e.libraryCode.useActivityMap && !1 === e.libraryCode.useActivityMap);
                                        },
                                        isAudienceManagementEnabled: function (e) {
                                            var t = !1;
                                            return e && e.moduleProperties && e.moduleProperties.audienceManager && e.moduleProperties.audienceManager.config && r && r._satellite && r._satellite.company && r._satellite.company.orgId && (t = !0), t;
                                        }
                                    };
                                e.exports = i;
                            }
                        },
                        'adobe-analytics/src/lib/helpers/augmenters.js': {
                            script: function (e) {
                                'use strict';
                                e.exports = [];
                            }
                        },
                        'adobe-analytics/src/lib/helpers/applyTrackerVariables.js': {
                            script: function (e, t, n, o) {
                                'use strict';
                                var r = n('@adobe/reactor-query-string'), i = n('@adobe/reactor-window'), s = /eVar([0-9]+)/, c = /prop([0-9]+)/, l = new RegExp('^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$'), u = function (e, t, n) {
                                        return n.indexOf(e) === t;
                                    }, d = function (e, t, n) {
                                        var a = Object.keys(t).filter(l.test.bind(l));
                                        return n && a.push('events'), (a = a.concat((e.linkTrackVars || '').split(','))).filter(function (e, t) {
                                            return 'None' !== e && e && u(e, t, a);
                                        }).join(',');
                                    }, p = function (e, t) {
                                        var n = t.map(function (e) {
                                            return e.name;
                                        });
                                        return (n = n.concat((e.linkTrackEvents || '').split(','))).filter(function (e, t) {
                                            return 'None' !== e && u(e, t, n);
                                        }).join(',');
                                    }, a = function (e, t, n) {
                                        e[t] = n[t].join(',');
                                    }, f = function (r, e, t) {
                                        var i = t.dynamicVariablePrefix || 'D=';
                                        t[e].forEach(function (e) {
                                            var t;
                                            if ('value' === e.type)
                                                t = e.value;
                                            else {
                                                var n = s.exec(e.value);
                                                if (n)
                                                    t = i + 'v' + n[1];
                                                else {
                                                    var a = c.exec(e.value);
                                                    a && (t = i + 'c' + a[1]);
                                                }
                                            }
                                            r[e.name] = t;
                                        });
                                    }, h = {
                                        linkDownloadFileTypes: a,
                                        linkExternalFilters: a,
                                        linkInternalFilters: a,
                                        hierarchies: function (t, e, n) {
                                            n[e].forEach(function (e) {
                                                t[e.name] = e.sections.join(e.delimiter);
                                            });
                                        },
                                        props: f,
                                        eVars: f,
                                        campaign: function (e, t, n) {
                                            if ('queryParam' === n[t].type) {
                                                var a = r.parse(i.location.search);
                                                e[t] = a[n[t].value];
                                            } else
                                                e[t] = n[t].value;
                                        },
                                        events: function (e, t, n) {
                                            var a = n[t].map(function (e) {
                                                var t = e.name;
                                                return e.id && (t = [
                                                    t,
                                                    e.id
                                                ].join(':')), e.value && (t = [
                                                    t,
                                                    e.value
                                                ].join('=')), t;
                                            });
                                            e[t] = a.join(',');
                                        }
                                    };
                                e.exports = function (t, a) {
                                    var r = {};
                                    a = a || {}, Object.keys(a).forEach(function (e) {
                                        var t = h[e], n = a[e];
                                        t ? t(r, e, a) : r[e] = n;
                                    }), r.events && t.events && 0 < t.events.length && (r.events = t.events + ',' + r.events);
                                    var e = a && a.events && 0 < a.events.length, n = d(t, r, e);
                                    n && (r.linkTrackVars = n);
                                    var i = p(t, a.events || []);
                                    i && (r.linkTrackEvents = i), o.logger.info('Applying the following properties on tracker: "' + JSON.stringify(r) + '".'), Object.keys(r).forEach(function (e) {
                                        t[e] = r[e];
                                    });
                                };
                            }
                        },
                        'adobe-analytics/src/lib/helpers/loadLibrary.js': {
                            script: function (e, t, n, a) {
                                'use strict';
                                var r = n('@adobe/reactor-load-script'), i = n('@adobe/reactor-window'), o = n('@adobe/reactor-promise'), s = n('./settingsHelper'), c = n('./pollHelper'), l = function (e, t) {
                                        if (!i.s_gi)
                                            throw new Error('Unable to create AppMeasurement tracker, `s_gi` function not found.' + i.AppMeasurement);
                                        a.logger.info('Creating AppMeasurement tracker with these report suites: "' + t + '"');
                                        var n = i.s_gi(t);
                                        return e.libraryCode.scopeTrackerGlobally && (a.logger.info('Setting the tracker as window.s'), i.s = n), n;
                                    }, u = function (e) {
                                        var t = [];
                                        switch (e.libraryCode.type) {
                                        case s.LIB_TYPES.MANAGED:
                                            t.push(a.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.APP_MEASUREMENT)), s.isActivityMapEnabled(e) && t.push(a.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.ACTIVITY_MAP));
                                            break;
                                        case s.LIB_TYPES.CUSTOM:
                                            t.push(e.libraryCode.source);
                                            break;
                                        case s.LIB_TYPES.REMOTE:
                                            t.push('https:' === i.location.protocol ? e.libraryCode.httpsUrl : e.libraryCode.httpUrl);
                                        }
                                        if (s.isAudienceManagementEnabled(e)) {
                                            var n = { namespace: i._satellite.company.orgId };
                                            e.moduleProperties.audienceManager.config.visitorService = n, t.push(a.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT));
                                        }
                                        return t;
                                    }, d = function (e) {
                                        return o.all(u(e).map(function (e) {
                                            return a.logger.info('Loading script: ' + e), r(e);
                                        }));
                                    }, p = function (e, t) {
                                        if (e.libraryCode.accounts)
                                            if (t.sa) {
                                                var n = s.getReportSuites(e.libraryCode.accounts);
                                                a.logger.info('Setting the following report suites on the tracker: "' + n + '"'), t.sa(n);
                                            } else
                                                a.logger.warn('Cannot set report suites on tracker. `sa` method not available.');
                                        return t;
                                    }, f = function (e) {
                                        if (i[e])
                                            return a.logger.info('Found tracker located at: "' + e + '".'), i[e];
                                        throw new Error('Cannot find the global variable name: "' + e + '".');
                                    };
                                e.exports = function (e) {
                                    var t = d(e);
                                    switch (e.libraryCode.type) {
                                    case s.LIB_TYPES.MANAGED:
                                        var n = s.getReportSuites(e.libraryCode.accounts);
                                        return t.then(l.bind(null, e, n));
                                    case s.LIB_TYPES.PREINSTALLED:
                                        return t.then(c.poll.bind(null, i, e.libraryCode.trackerVariableName)).then(p.bind(null, e));
                                    case s.LIB_TYPES.CUSTOM:
                                    case s.LIB_TYPES.REMOTE:
                                        return t.then(f.bind(null, e.libraryCode.trackerVariableName)).then(p.bind(null, e));
                                    default:
                                        throw new Error('Cannot load library. Type not supported.');
                                    }
                                };
                            }
                        },
                        'adobe-analytics/src/lib/helpers/generateVersion.js': {
                            script: function (e) {
                                'use strict';
                                var t = 8, n = function (e) {
                                        return e.getUTCDate().toString(36);
                                    }, a = function (e) {
                                        return e.substr(e.length - 1);
                                    }, r = function (e) {
                                        return Math.floor(e.getUTCHours() / t);
                                    }, i = function (e) {
                                        var t = (e.getUTCMonth() + 1 + 12 * r(e)).toString(36);
                                        return a(t);
                                    }, o = function (e) {
                                        return (e.getUTCFullYear() - 2010).toString(36);
                                    };
                                e.exports = function (e) {
                                    var t = new Date(e);
                                    if (isNaN(t))
                                        throw new Error('Invalid date provided');
                                    return ('L' + o(t) + i(t) + n(t)).toUpperCase();
                                };
                            }
                        },
                        'adobe-analytics/src/lib/helpers/pollHelper.js': {
                            script: function (e, t, n, a) {
                                'use strict';
                                var o = n('@adobe/reactor-promise'), s = 40, c = 250, l = function (e, t, n) {
                                        a.logger.info('Found property located at: "' + t + '"].'), e(n);
                                    }, r = function (r, i) {
                                        return new o(function (e, t) {
                                            if (r[i])
                                                return l(e, i, r[i]);
                                            var n = 1, a = setInterval(function () {
                                                    r[i] && (l(e, i, r[i]), clearInterval(a)), s <= n && (clearInterval(a), t(new Error('Bailing out. Cannot find the variable name: "' + i + '"].'))), n++;
                                                }, c);
                                        });
                                    };
                                e.exports = {
                                    poll: function (e, t) {
                                        return a.logger.info('Waiting for the property to become accessible at: "' + t + '"].'), r(e, t);
                                    }
                                };
                            }
                        }
                    },
                    settings: {
                        orgId: 'BC501253513148ED0A490D45@AdobeOrg',
                        customSetup: {
                            source: function (e) {
                                e.linkTrackVars = 'None', e.linkTrackEvents = 'None';
                            }
                        },
                        libraryCode: {
                            type: 'managed',
                            accounts: {
                                staging: ['%Core:Custom Code:RSIDs (DEV)%'],
                                production: ['%Core:Custom Code:RSIDs (temp prod)%'],
                                development: ['%Core:Custom Code:RSIDs (DEV)%']
                            },
                            useActivityMap: !0,
                            scopeTrackerGlobally: !0
                        },
                        moduleProperties: { audienceManager: { config: { partner: 'discovery' } } },
                        trackerProperties: {
                            currencyCode: 'USD',
                            trackingServer: '%Core:Custom Code:Tracking Server%',
                            trackInlineStats: !0,
                            trackDownloadLinks: !0,
                            trackExternalLinks: !0,
                            linkInternalFilters: ['%Core:Custom Code:Link Internal Filters%'],
                            trackingServerSecure: '%Core:Custom Code:Tracking Server%',
                            linkDownloadFileTypes: [
                                'doc',
                                'docx',
                                'eps',
                                'jpg',
                                'png',
                                'svg',
                                'xls',
                                'ppt',
                                'pptx',
                                'pdf',
                                'xlsx',
                                'tab',
                                'csv',
                                'zip',
                                'txt',
                                'vsd',
                                'vxd',
                                'xml',
                                'js',
                                'css',
                                'rar',
                                'exe',
                                'wma',
                                'mov',
                                'avi',
                                'wmv',
                                'mp3',
                                'wav',
                                'm4v'
                            ]
                        }
                    },
                    hostedLibFilesBaseUrl: 'https://assets.adobedtm.com/extensions/EPbde2f7ca14e540399dcc1f8208860b7b/'
                },
                'twitter-uwt': {
                    displayName: 'Twitter Universal Website Tag',
                    modules: {},
                    settings: { account_id: '%Core:Constant:Twitter ID%' },
                    hostedLibFilesBaseUrl: 'https://assets.adobedtm.com/extensions/EP0393ce01ac3540acb78f103d8e58a5a0/'
                },
                'adobe-target-v2': {
                    displayName: 'Adobe Target v2',
                    modules: {
                        'adobe-target-v2/lib/loadTarget.js': {
                            name: 'load-target',
                            displayName: 'Load Target',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('@adobe/reactor-window'), r = n('@adobe/reactor-document'), i = n('./modules/load-target'), o = i.initLibrarySettings, s = i.overridePublicApi, c = n('./modules/optin'), l = c.shouldUseOptIn, u = c.isTargetApproved, d = n('./analyticsIntegration');
                                e.exports = function () {
                                    var e = o();
                                    e && e.enabled ? ((0, n('./modules/libs/at-launch').init)(a, r, e), l() && !u() || d()) : s(a);
                                };
                            }
                        },
                        'adobe-target-v2/lib/firePageLoad.js': {
                            name: 'fire-page-load',
                            displayName: 'Fire Page Load Request',
                            script: function (e, t, n, a) {
                                'use strict';
                                function r() {
                                    return i.adobe && i.adobe.target && i.adobe.target.VERSION;
                                }
                                var i = n('@adobe/reactor-window'), o = n('./modules/libs/at-launch'), s = o.initConfig, c = o.initDelivery, l = n('./modules/page-load'), u = n('./messages');
                                e.exports = function (e) {
                                    var t = l(e);
                                    r() ? (s(t), c()) : i.console && a.logger.warn(u.NO_REQUEST);
                                };
                            }
                        },
                        'adobe-target-v2/lib/addPageLoadParams.js': {
                            name: 'add-page-load-params',
                            displayName: 'Add Params to Page Load Request',
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('./modules/params-store').mergePageLoadParams;
                                e.exports = function (e) {
                                    a(e.params);
                                };
                            }
                        },
                        'adobe-target-v2/lib/modules/load-target.js': {
                            script: function (e, t, n, a) {
                                'use strict';
                                function r(e) {
                                    var t = e.compatMode, n = e.documentMode;
                                    return t && 'CSS1Compat' === t && (!n || 9 <= n);
                                }
                                function i(e) {
                                    var t = function t() {
                                        }, n = function n() {
                                            return u.resolve();
                                        };
                                    e.adobe = e.adobe || {}, e.adobe.target = {
                                        VERSION: '',
                                        event: {},
                                        getOffer: t,
                                        getOffers: n,
                                        applyOffer: t,
                                        applyOffers: n,
                                        sendNotifications: t,
                                        trackEvent: t,
                                        triggerView: t,
                                        registerExtension: t,
                                        init: t
                                    }, e.mboxCreate = t, e.mboxDefine = t, e.mboxUpdate = t;
                                }
                                function o() {
                                    return c.adobe && c.adobe.target && 'undefined' != typeof c.adobe.target.getOffer;
                                }
                                function s() {
                                    return o() ? (a.logger.warn(d.ALREADY_INITIALIZED), null) : (g.mboxParams = f(), g.globalMboxParams = h(), m(g, c.targetGlobalSettings || {}, b), m(g, v || {}, ['version']), r(l) || (g.enabled = !1, a.logger.warn(d.DELIVERY_DISABLED)), g);
                                }
                                var c = n('@adobe/reactor-window'), l = n('@adobe/reactor-document'), u = n('@adobe/reactor-promise'), d = n('../messages'), p = n('./params-store'), f = p.getParams, h = p.getPageLoadParams, g = n('../targetSettings').targetSettings, m = n('./object-override'), v = n('../librarySettings').TARGET_DEFAULT_SETTINGS, b = [
                                        'enabled',
                                        'clientCode',
                                        'imsOrgId',
                                        'serverDomain',
                                        'cookieDomain',
                                        'timeout',
                                        'defaultContentHiddenStyle',
                                        'defaultContentVisibleStyle',
                                        'bodyHiddenStyle',
                                        'bodyHidingEnabled',
                                        'selectorsPollingTimeout',
                                        'visitorApiTimeout',
                                        'overrideMboxEdgeServer',
                                        'overrideMboxEdgeServerTimeout',
                                        'optoutEnabled',
                                        'optinEnabled',
                                        'secureOnly',
                                        'supplementalDataIdParamTimeout',
                                        'authoringScriptUrl',
                                        'urlSizeLimit',
                                        'endpoint',
                                        'pageLoadEnabled',
                                        'viewsEnabled',
                                        'analyticsLogging',
                                        'serverState',
                                        'globalMboxName',
                                        'decisioningMethod'
                                    ];
                                e.exports = {
                                    initLibrarySettings: s,
                                    overridePublicApi: i
                                };
                            }
                        },
                        'adobe-target-v2/lib/modules/optin.js': {
                            script: function (e, t, n) {
                                'use strict';
                                function a(e) {
                                    return 'undefined' === (void 0 === e ? 'undefined' : u(e)) || null === e;
                                }
                                function r(e) {
                                    var t = void 0 === e ? 'undefined' : u(e);
                                    return null !== e && ('object' === t || 'function' === t);
                                }
                                function i(e) {
                                    return r(e[g]) && r(e[p]);
                                }
                                function o(e, t) {
                                    return !!t && !a(e) && !a(e[h]) && i(e[h]);
                                }
                                function s(e, t) {
                                    return e[p](t);
                                }
                                function c() {
                                    var e = d[h];
                                    return s(e, e[m][v]);
                                }
                                function l() {
                                    var e = b[f];
                                    return o(d, e);
                                }
                                var u = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) {
                                        return typeof e;
                                    } : function (e) {
                                        return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e;
                                    }, d = n('@adobe/reactor-window').adobe, p = 'isApproved', f = 'optinEnabled', h = 'optIn', g = 'fetchPermissions', m = 'Categories', v = 'TARGET', b = n('../targetSettings').targetSettings;
                                e.exports = {
                                    shouldUseOptIn: l,
                                    isTargetApproved: c
                                };
                            }
                        },
                        'adobe-target-v2/lib/analyticsIntegration.js': {
                            script: function (e, t, n, a) {
                                'use strict';
                                function r(n, e) {
                                    return new s(function (t) {
                                        n ? e.then(function (e) {
                                            e && (n.abort = !0), t();
                                        }) : t();
                                    });
                                }
                                function i(e) {
                                    if (e) {
                                        var t = new s(function (t) {
                                            var n = setTimeout(function () {
                                                    t(!1);
                                                }, d.targetSettings.timeout), a = function a(e) {
                                                    e.detail && !0 === e.detail.redirect ? t(!0) : t(!1), clearTimeout(n), u(o, e, a);
                                                }, r = function r(e) {
                                                    t(!1), clearTimeout(n), u(o, e, r);
                                                };
                                            l(o, f, a), l(o, h, r);
                                        });
                                        e(function (e) {
                                            return r(e, t);
                                        });
                                    }
                                }
                                var o = n('@adobe/reactor-document'), s = n('@adobe/reactor-promise'), c = n('./modules/event-util'), l = c.addEventListener, u = c.removeEventListener, d = n('./targetSettings').extensionSettings, p = a.getSharedModule('adobe-analytics', 'augment-tracker'), f = 'at-request-succeeded', h = 'at-request-failed';
                                e.exports = function () {
                                    i(p);
                                };
                            }
                        },
                        'adobe-target-v2/lib/modules/libs/at-launch.js': {
                            script: function (e, t, n) {
                                'use strict';
                                function a(e) {
                                    return e && 'object' == typeof e && 'default' in e ? e['default'] : e;
                                }
                                function h(e) {
                                    return null == e;
                                }
                                function r(e) {
                                    return wu.call(e);
                                }
                                function i(e) {
                                    return r(e);
                                }
                                function tt(e) {
                                    return (tt = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) {
                                        return typeof e;
                                    } : function (e) {
                                        return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e;
                                    })(e);
                                }
                                function s(e, t, n) {
                                    return t in e ? Object.defineProperty(e, t, {
                                        value: n,
                                        enumerable: !0,
                                        configurable: !0,
                                        writable: !0
                                    }) : e[t] = n, e;
                                }
                                function d(e) {
                                    var t = tt(e);
                                    return null != e && ('object' === t || 'function' === t);
                                }
                                function c(e) {
                                    return !!d(e) && i(e) === ku;
                                }
                                function o(e) {
                                    return e;
                                }
                                function l(e) {
                                    return c(e) ? e : o;
                                }
                                function u(e) {
                                    return h(e) ? [] : Object.keys(e);
                                }
                                function g(e, t) {
                                    return h(t) ? [] : (Cu(t) ? Du : Eu)(l(e), t);
                                }
                                function p(e) {
                                    return e && e.length ? e[0] : undefined;
                                }
                                function m(e) {
                                    return h(e) ? [] : [].concat.apply([], e);
                                }
                                function f(i) {
                                    for (var o = this, s = i ? i.length : 0, e = s; e -= 1;)
                                        if (!c(i[e]))
                                            throw new TypeError('Expected a function');
                                    return function () {
                                        for (var e = 0, t = arguments.length, n = new Array(t), a = 0; a < t; a++)
                                            n[a] = arguments[a];
                                        for (var r = s ? i[e].apply(o, n) : n[0]; (e += 1) < s;)
                                            r = i[e].call(o, r);
                                        return r;
                                    };
                                }
                                function v(e, t) {
                                    h(t) || (Cu(t) ? Iu : Pu)(l(e), t);
                                }
                                function b(e) {
                                    return null != e && 'object' === tt(e);
                                }
                                function y(e) {
                                    return 'string' == typeof e || !Cu(e) && b(e) && i(e) === Au;
                                }
                                function _(e) {
                                    if (!y(e))
                                        return -1;
                                    for (var t = 0, n = e.length, a = 0; a < n; a += 1)
                                        t = (t << 5) - t + e.charCodeAt(a) & 4294967295;
                                    return t;
                                }
                                function S(e) {
                                    return 'number' == typeof e && -1 < e && e % 1 == 0 && e <= xu;
                                }
                                function T(e) {
                                    return null != e && S(e.length) && !c(e);
                                }
                                function C(e, t) {
                                    return Nu(function (e) {
                                        return t[e];
                                    }, e);
                                }
                                function w(e) {
                                    for (var t = 0, n = e.length, a = Array(n); t < n;)
                                        a[t] = e[t], t += 1;
                                    return a;
                                }
                                function k(e) {
                                    return e.split('');
                                }
                                function I(e) {
                                    return h(e) ? [] : T(e) ? y(e) ? k(e) : w(e) : C(u(e), e);
                                }
                                function P(e) {
                                    if (null == e)
                                        return !0;
                                    if (T(e) && (Cu(e) || y(e) || c(e.splice)))
                                        return !e.length;
                                    for (var t in e)
                                        if (Ou.call(e, t))
                                            return !1;
                                    return !0;
                                }
                                function D(e) {
                                    return h(e) ? '' : Mu.call(e);
                                }
                                function E(e) {
                                    return y(e) ? !D(e) : P(e);
                                }
                                function A(e) {
                                    return 'number' == typeof e || b(e) && i(e) === Ru;
                                }
                                function x(e) {
                                    return Object.getPrototypeOf(Object(e));
                                }
                                function N(e) {
                                    if (!b(e) || i(e) !== ju)
                                        return !1;
                                    var t = x(e);
                                    if (null === t)
                                        return !0;
                                    var n = Uu.call(t, 'constructor') && t.constructor;
                                    return 'function' == typeof n && n instanceof n && Fu.call(n) === Hu;
                                }
                                function O(e, t) {
                                    return Cu(t) ? t.join(e || '') : '';
                                }
                                function M(e, t) {
                                    return h(t) ? [] : (Cu(t) ? Nu : qu)(l(e), t);
                                }
                                function L() {
                                    return new Date().getTime();
                                }
                                function R(e, t, n) {
                                    return h(n) ? t : (Cu(n) ? $u : Gu)(l(e), t, n);
                                }
                                function j(e) {
                                    return null == e ? e : Yu.call(e);
                                }
                                function V(e, t) {
                                    return E(t) ? [] : t.split(e || '');
                                }
                                function B(e, t) {
                                    return e + Math.floor(Math.random() * (t - e + 1));
                                }
                                function F() {
                                    var n = L();
                                    return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function (e) {
                                        var t = (n + B(0, 16)) % 16 | 0;
                                        return n = Math.floor(n / 16), ('x' === e ? t : 3 & t | 8).toString(16);
                                    });
                                }
                                function U(e, t) {
                                    var n = 1 < arguments.length && t !== undefined ? arguments[1] : 0;
                                    return setTimeout(e, Number(n) || 0);
                                }
                                function H(e) {
                                    clearTimeout(e);
                                }
                                function q(e, t) {
                                    return e(t = { exports: {} }, t.exports), t.exports;
                                }
                                function $(e, t) {
                                    if (!e)
                                        return undefined;
                                    t = t || {};
                                    for (var a = {
                                                key: [
                                                    'source',
                                                    'protocol',
                                                    'authority',
                                                    'userInfo',
                                                    'user',
                                                    'password',
                                                    'host',
                                                    'port',
                                                    'relative',
                                                    'path',
                                                    'directory',
                                                    'file',
                                                    'query',
                                                    'anchor'
                                                ],
                                                q: {
                                                    name: 'queryKey',
                                                    parser: /(?:^|&)([^&=]*)=?([^&]*)/g
                                                },
                                                parser: {
                                                    strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                                                    loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
                                                }
                                            }, n = a.parser[t.strictMode ? 'strict' : 'loose'].exec(e), r = {}, i = 14; i--;)
                                        r[a.key[i]] = n[i] || '';
                                    return r[a.q.name] = {}, r[a.key[12]].replace(a.q.parser, function (e, t, n) {
                                        t && (r[a.q.name][t] = n);
                                    }), r;
                                }
                                function G(t, n) {
                                    t[ef] && (h(n[sf]) || (t[Ff] = n[sf]), v(function (e) {
                                        h(n[e]) || (t[e] = n[e]);
                                    }, Ih));
                                }
                                function Y(e) {
                                    var t = e.documentMode;
                                    return !t || 10 <= t;
                                }
                                function K(e) {
                                    var t = e.compatMode;
                                    return t && 'CSS1Compat' === t;
                                }
                                function Q(e) {
                                    return Ch.test(e);
                                }
                                function z(e) {
                                    if (Q(e))
                                        return e;
                                    var t = j(V('.', e)), n = t.length;
                                    return 3 <= n && wh.test(t[1]) ? t[2] + '.' + t[1] + '.' + t[0] : 1 === n ? t[0] : t[1] + '.' + t[0];
                                }
                                function W(e, t, n) {
                                    var a = '';
                                    e.location.protocol === Th || (a = z(e.location.hostname)), n[Cf] = a, n[ef] = K(t) && Y(t), G(n, e[Lf] || {});
                                }
                                function J(e) {
                                    W(window, document, e);
                                    var t = window.location.protocol === Th;
                                    (kh = bu({}, e))[pf] = e[pf] / 1000, kh[ff] = e[ff] / 1000, kh[Tf] = kh[yf] || t ? 'https:' : '';
                                }
                                function nt() {
                                    return kh;
                                }
                                function X(e) {
                                    try {
                                        return Ph(e);
                                    } catch (t) {
                                        return {};
                                    }
                                }
                                function Z(e) {
                                    try {
                                        return Dh(e);
                                    } catch (t) {
                                        return '';
                                    }
                                }
                                function ee(e) {
                                    try {
                                        return decodeURIComponent(e);
                                    } catch (t) {
                                        return e;
                                    }
                                }
                                function te(e) {
                                    try {
                                        return encodeURIComponent(e);
                                    } catch (t) {
                                        return e;
                                    }
                                }
                                function ne(e) {
                                    if (Ah[e])
                                        return Ah[e];
                                    Eh.href = e;
                                    var t = Ju(Eh.href);
                                    return t.queryKey = X(t.query), Ah[e] = t, Ah[e];
                                }
                                function ae(e, t, n) {
                                    return {
                                        name: e,
                                        value: t,
                                        expires: n
                                    };
                                }
                                function re(e) {
                                    var t = V('#', e);
                                    return P(t) || t.length < 3 ? null : isNaN(parseInt(t[2], 10)) ? null : ae(ee(t[0]), ee(t[1]), Number(t[2]));
                                }
                                function ie(e) {
                                    return E(e) ? [] : V('|', e);
                                }
                                function oe() {
                                    var e = M(re, ie(xh(Mh))), t = Math.ceil(L() / 1000), n = function n(e) {
                                            return d(e) && t <= e.expires;
                                        };
                                    return R(function (e, t) {
                                        return e[t.name] = t, e;
                                    }, {}, g(n, e));
                                }
                                function se(e) {
                                    var t = oe()[e];
                                    return d(t) ? t.value : '';
                                }
                                function ce(e) {
                                    return O('#', [
                                        te(e.name),
                                        te(e.value),
                                        e.expires
                                    ]);
                                }
                                function le(e) {
                                    return e.expires;
                                }
                                function ue(e) {
                                    var t = M(le, e);
                                    return Math.max.apply(null, t);
                                }
                                function de(e, t) {
                                    var n = I(e), a = Math.abs(1000 * ue(n) - L()), r = O('|', M(ce, n)), i = new Date(L() + a);
                                    Nh(Mh, r, {
                                        domain: t,
                                        expires: i
                                    });
                                }
                                function pe(e) {
                                    var t = e.name, n = e.value, a = e.expires, r = e.domain, i = oe();
                                    i[t] = ae(t, n, Math.ceil(a + L() / 1000)), de(i, r);
                                }
                                function fe(e) {
                                    return Lu(xh(e));
                                }
                                function he(e, t) {
                                    var n = X(e.location.search);
                                    return Lu(n[t]);
                                }
                                function ge(e, t) {
                                    var n = ne(e.referrer).queryKey;
                                    return !h(n) && Lu(n[t]);
                                }
                                function me(e, t, n) {
                                    return fe(n) || he(e, n) || ge(t, n);
                                }
                                function ve() {
                                    var e = nt()[Cf];
                                    Nh(Ld, Rd, { domain: e });
                                    var t = xh(Ld) === Rd;
                                    return Oh(Ld), t;
                                }
                                function be() {
                                    return me(window, document, Od);
                                }
                                function ye() {
                                    return nt()[ef] && ve() && !be();
                                }
                                function _e() {
                                    return me(window, document, Nd);
                                }
                                function Se() {
                                    return me(window, document, Md);
                                }
                                function Te(e, t) {
                                    var n = e.console;
                                    return !h(n) && c(n[t]);
                                }
                                function Ce(e, t) {
                                    var n = e.console;
                                    Te(e, 'warn') && n.warn.apply(n, [Lh].concat(t));
                                }
                                function we(e, t) {
                                    var n = e.console;
                                    Te(e, 'debug') && _e() && n.debug.apply(n, [Lh].concat(t));
                                }
                                function ke() {
                                    for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                                        t[n] = arguments[n];
                                    Ce(window, t);
                                }
                                function Ie() {
                                    for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                                        t[n] = arguments[n];
                                    we(window, t);
                                }
                                function Pe(n) {
                                    return R(function (e, t) {
                                        return e[t] = n[t], e;
                                    }, {}, Ih);
                                }
                                function De(e, t, n) {
                                    var a = e[Mf] || [];
                                    if (e[Mf] = a, n) {
                                        var r = a.push;
                                        a[cf] = Rh, a[xf] = Pe(t), a[Nf] = [], a[Of] = [], a.push = function i(e) {
                                            a[Of].push(bu({ timestamp: L() }, e)), r.call(this, e);
                                        };
                                    }
                                }
                                function Ee(e, t, n, a) {
                                    t === Of && e[Mf].push(n), a && t !== Of && e[Mf][t].push(bu({ timestamp: L() }, n));
                                }
                                function Ae() {
                                    De(window, nt(), _e());
                                }
                                function xe(e) {
                                    Ee(window, Of, e, _e());
                                }
                                function Ne(e) {
                                    Ee(window, Nf, e, _e());
                                }
                                function Oe() {
                                    return c(Vh);
                                }
                                function Me(e) {
                                    return new Vh(e);
                                }
                                function Le() {
                                    var e = document.createTextNode(''), t = function t() {
                                            e.textContent = 0 < e.textContent.length ? '' : 'a';
                                        }, n = [];
                                    return Me(function () {
                                        for (var e = n.length, t = 0; t < e; t += 1)
                                            n[t]();
                                        n.splice(0, e);
                                    }).observe(e, { characterData: !0 }), function (e) {
                                        n.push(e), t();
                                    };
                                }
                                function Re() {
                                    return function (e) {
                                        var t = jh('<script>');
                                        t.on('readystatechange', function () {
                                            t.on('readystatechange', null), t.remove(), t = null, e();
                                        }), jh(document.documentElement).append(t);
                                    };
                                }
                                function je() {
                                    Oe() ? Su._setImmediateFn(Le()) : -1 !== window.navigator.userAgent.indexOf('MSIE 10') && Su._setImmediateFn(Re());
                                }
                                function Ve(e) {
                                    return new Su(e);
                                }
                                function Be(e) {
                                    return Su.resolve(e);
                                }
                                function Fe(e) {
                                    return Su.reject(e);
                                }
                                function Ue(e) {
                                    return Cu(e) ? Su.race(e) : Fe(new TypeError(Bh));
                                }
                                function He(e) {
                                    return Cu(e) ? Su.all(e) : Fe(new TypeError(Bh));
                                }
                                function qe(e, n, a) {
                                    var r = -1;
                                    return Ue([
                                        e,
                                        Ve(function (e, t) {
                                            r = U(function () {
                                                return t(new Error(a));
                                            }, n);
                                        })
                                    ]).then(function (e) {
                                        return H(r), e;
                                    }, function (e) {
                                        throw H(r), e;
                                    });
                                }
                                function $e(e) {
                                    if (h(e[ih]))
                                        return !1;
                                    var t = e[ih];
                                    if (h(t[oh]))
                                        return !1;
                                    var n = t[oh];
                                    return c(n[ch]) && c(n[sh]);
                                }
                                function Ge(e, t) {
                                    return !!t && $e(e);
                                }
                                function Ye(e, t) {
                                    if (!$e(e))
                                        return !0;
                                    var n = e[ih][oh], a = (e[ih][oh][lh] || {})[t];
                                    return n[sh](a);
                                }
                                function Ke(e, t) {
                                    if (!$e(e))
                                        return Be(!0);
                                    var n = e[ih][oh], a = (e[ih][oh][lh] || {})[t];
                                    return Ve(function (e, t) {
                                        n[ch](function () {
                                            n[sh](a) ? e(!0) : t(fh);
                                        }, !0);
                                    });
                                }
                                function Qe() {
                                    var e = nt()[ph];
                                    return Ge(window, e);
                                }
                                function ze() {
                                    return Ye(window, uh);
                                }
                                function We() {
                                    return Ye(window, dh);
                                }
                                function Je() {
                                    return Ke(window, uh);
                                }
                                function Xe() {
                                    return X(window.location.search)[If];
                                }
                                function Ze(e, t) {
                                    pe({
                                        name: Ef,
                                        value: e,
                                        expires: t[ff],
                                        domain: t[Cf]
                                    });
                                }
                                function et() {
                                    if (Qe() && !ze())
                                        return Fh;
                                    var e = nt(), t = Xe();
                                    return Lu(t) ? Ze(t, e) : E(se(Ef)) && Ze(Fh, e), se(Ef);
                                }
                                function at(e) {
                                    var t = nt();
                                    pe({
                                        name: Pf,
                                        value: e,
                                        expires: t[pf],
                                        domain: t[Cf]
                                    });
                                }
                                function rt() {
                                    return se(Pf);
                                }
                                function it(e) {
                                    if (E(e))
                                        return '';
                                    var t = Uh.exec(e);
                                    return P(t) || 2 !== t.length ? '' : t[1];
                                }
                                function ot() {
                                    if (!nt()[mf])
                                        return '';
                                    var e = xh(Df);
                                    return E(e) ? '' : e;
                                }
                                function st(e) {
                                    var t = nt();
                                    if (t[mf]) {
                                        var n = t[Cf], a = new Date(L() + t[vf]), r = xh(Df), i = {
                                                domain: n,
                                                expires: a
                                            };
                                        if (Lu(r))
                                            Nh(Df, r, i);
                                        else {
                                            var o = it(e);
                                            E(o) || Nh(Df, o, i);
                                        }
                                    }
                                }
                                function ct(e, a) {
                                    function t(e, t) {
                                        var n = a.createEvent('CustomEvent');
                                        return t = t || {
                                            bubbles: !1,
                                            cancelable: !1,
                                            detail: undefined
                                        }, n.initCustomEvent(e, t.bubbles, t.cancelable, t.detail), n;
                                    }
                                    c(e.CustomEvent) || (t.prototype = e.Event.prototype, e.CustomEvent = t);
                                }
                                function lt(e, t) {
                                    var n = e(), a = t(), r = {};
                                    return r.sessionId = n, Lu(a) && (r.deviceId = a), r;
                                }
                                function ut(e, t, n, a) {
                                    var r = new e.CustomEvent(n, { detail: a });
                                    t.dispatchEvent(r);
                                }
                                function dt(e, t) {
                                    var n = t.mbox, a = t.error, r = t.url, i = t.analyticsDetails, o = t.responseTokens, s = t.execution, c = {
                                            type: e,
                                            tracking: lt(et, rt)
                                        };
                                    return h(n) || (c.mbox = n), h(a) || (c.error = a), h(r) || (c.url = r), P(i) || (c.analyticsDetails = i), P(o) || (c.responseTokens = o), P(s) || (c.execution = s), c;
                                }
                                function pt() {
                                    var e = dt(Hh, {});
                                    ut(window, document, Hh, e);
                                }
                                function ft(e) {
                                    var t = dt(qh, e);
                                    ut(window, document, qh, t);
                                }
                                function ht(e, t) {
                                    var n = dt($h, e);
                                    n.redirect = t, ut(window, document, $h, n);
                                }
                                function gt(e) {
                                    var t = dt(Gh, e);
                                    ut(window, document, Gh, t);
                                }
                                function mt(e) {
                                    var t = dt(Yh, e);
                                    ut(window, document, Yh, t);
                                }
                                function vt(e) {
                                    var t = dt(Kh, e);
                                    ut(window, document, Kh, t);
                                }
                                function bt(e) {
                                    var t = dt(Qh, e);
                                    ut(window, document, Qh, t);
                                }
                                function yt(e) {
                                    var t = dt(zh, e);
                                    ut(window, document, zh, t);
                                }
                                function _t(e) {
                                    var t = dt(Wh, e);
                                    ut(window, document, Wh, t);
                                }
                                function St(e) {
                                    return b(e) && 1 === e.nodeType && !N(e);
                                }
                                function Tt(e) {
                                    var t = e.charAt(0), n = e.charAt(1), a = e.charAt(2), r = { key: e };
                                    return r.val = '-' === n ? '' + t + n + '\\3' + a + ' ' : t + '\\3' + n + ' ', r;
                                }
                                function Ct(e) {
                                    var t = e.match(eg);
                                    return P(t) ? e : R(function (e, t) {
                                        return e.replace(t.key, t.val);
                                    }, e, M(Tt, t));
                                }
                                function wt(e) {
                                    for (var t, n, a, r, i = [], o = D(e), s = o.indexOf(Jh); -1 !== s;)
                                        t = D(o.substring(0, s)), r = (n = D(o.substring(s))).indexOf(Xh), a = D(n.substring(Zh, r)), s = (o = D(n.substring(r + 1))).indexOf(Jh), t && a && i.push({
                                            sel: t,
                                            eq: Number(a)
                                        });
                                    return o && i.push({ sel: o }), i;
                                }
                                function kt(e) {
                                    if (St(e))
                                        return jh(e);
                                    if (!y(e))
                                        return jh(e);
                                    var t = Ct(e);
                                    if (-1 === t.indexOf(Jh))
                                        return jh(t);
                                    var n = wt(t);
                                    return R(function (e, t) {
                                        var n = t.sel, a = t.eq;
                                        return e = e.find(n), A(a) && (e = e.eq(a)), e;
                                    }, jh(document), n);
                                }
                                function It(e) {
                                    return 0 < kt(e).length;
                                }
                                function Pt(e) {
                                    return jh('<' + Xd + '/>').append(e);
                                }
                                function Dt(e) {
                                    return jh(e);
                                }
                                function Et(e) {
                                    return kt(e).prev();
                                }
                                function At(e) {
                                    return kt(e).next();
                                }
                                function xt(e) {
                                    return kt(e).parent();
                                }
                                function Nt(e, t) {
                                    return kt(t).is(e);
                                }
                                function Ot(e, t) {
                                    return kt(t).find(e);
                                }
                                function Mt(e) {
                                    return kt(e).children();
                                }
                                function Lt() {
                                    window[ag] = window[ag] || {}, window[ag].querySelectorAll = kt;
                                }
                                function Rt(e) {
                                    if (Se()) {
                                        var t = e[Wf];
                                        window[ag][ig] = t;
                                    }
                                }
                                function jt() {
                                    document.addEventListener(Yd, function (e) {
                                        c(window[ag][rg]) && window[ag][rg](e);
                                    }, !0);
                                }
                                function Vt() {
                                    if (Se()) {
                                        Lt();
                                        var e = nt()[Sf], t = function t() {
                                                return jt();
                                            }, n = function n() {
                                                return ke(tg);
                                            };
                                        Ie(ng), Tu(e).then(t)['catch'](n);
                                    }
                                }
                                function Bt(e) {
                                    return parseInt(e, 10);
                                }
                                function Ft(e) {
                                    var t = Bt(e);
                                    return isNaN(t) ? null : t;
                                }
                                function Ut(e) {
                                    return V(pg, e);
                                }
                                function Ht(e) {
                                    var t = V(pg, e), n = Ft(t[0]);
                                    if (h(n))
                                        return null;
                                    var a = {};
                                    a.activityIndex = n;
                                    var r = Ft(t[1]);
                                    return h(r) || (a.experienceIndex = r), a;
                                }
                                function qt(e) {
                                    return g(fg, M(Ht, e));
                                }
                                function $t(e) {
                                    return Cu(e) ? qt(e) : qt([e]);
                                }
                                function Gt(e) {
                                    var t = X(e), n = t[sg];
                                    if (E(n))
                                        return null;
                                    var a = {};
                                    a.token = n;
                                    var r = t[lg];
                                    Lu(r) && r === Rd && (a.listedActivitiesOnly = !0);
                                    var i = t[ug];
                                    Lu(i) && (a.evaluateAsTrueAudienceIds = Ut(i));
                                    var o = t[dg];
                                    Lu(o) && (a.evaluateAsFalseAudienceIds = Ut(o));
                                    var s = t[cg];
                                    return P(s) || (a.previewIndexes = $t(s)), a;
                                }
                                function Yt(e) {
                                    var t = Gt(e.location.search);
                                    if (!h(t)) {
                                        var n = new Date(L() + 1860000);
                                        Nh(og, JSON.stringify(t), { expires: n });
                                    }
                                }
                                function Kt() {
                                    var e = xh(og);
                                    if (E(e))
                                        return {};
                                    try {
                                        return JSON.parse(e);
                                    } catch (t) {
                                        return {};
                                    }
                                }
                                function Qt(e) {
                                    var t = X(e)[gg];
                                    return E(t) ? null : { token: t };
                                }
                                function zt(e) {
                                    var t = Qt(e.location.search);
                                    if (!h(t)) {
                                        var n = new Date(L() + 1860000);
                                        Nh(hg, JSON.stringify(t), { expires: n });
                                    }
                                }
                                function Wt() {
                                    var e = xh(hg);
                                    if (E(e))
                                        return {};
                                    try {
                                        return JSON.parse(e);
                                    } catch (t) {
                                        return {};
                                    }
                                }
                                function Jt(e) {
                                    return kt(e).empty().remove();
                                }
                                function Xt(e, t) {
                                    return kt(t).after(e);
                                }
                                function Zt(e, t) {
                                    return kt(t).before(e);
                                }
                                function en(e, t) {
                                    return kt(t).append(e);
                                }
                                function tn(e, t) {
                                    return kt(t).prepend(e);
                                }
                                function nn(e, t) {
                                    return kt(t).html(e);
                                }
                                function an(e) {
                                    return kt(e).html();
                                }
                                function rn(e, t) {
                                    return kt(t).text(e);
                                }
                                function on(e, t) {
                                    return '<' + zd + ' ' + $d + '="' + e + '" ' + Gd + '="' + Jp + '">' + t + '</' + zd + '>';
                                }
                                function sn(e, t) {
                                    return on(mg + _(t), t + ' {' + e + '}');
                                }
                                function cn(e, t) {
                                    return on(yg, t + ' {' + e + '}');
                                }
                                function ln(e) {
                                    if (!0 === e[df] && !It(bg)) {
                                        var t = e[uf];
                                        en(on(vg, t), Kd);
                                    }
                                }
                                function un(e) {
                                    !0 === e[df] && It(bg) && Jt(bg);
                                }
                                function dn(e, t) {
                                    if (!P(t)) {
                                        var n = function n(e) {
                                                return !It('#' + (mg + _(e)));
                                            }, a = g(n, t);
                                        if (!P(a)) {
                                            var r = e[lf], i = function i(e) {
                                                    return sn(r, e);
                                                };
                                            en(O('\n', M(i, a)), Kd);
                                        }
                                    }
                                }
                                function pn(e, t) {
                                    P(t) || It('#' + yg) || en(cn(e[lf], O(', ', t)), Kd);
                                }
                                function fn() {
                                    ln(nt());
                                }
                                function hn() {
                                    un(nt());
                                }
                                function gn(e) {
                                    dn(nt(), e);
                                }
                                function mn(e) {
                                    pn(nt(), e);
                                }
                                function vn(e) {
                                    Jt('#' + (mg + _(e)));
                                }
                                function bn() {
                                    var e = '#' + yg;
                                    It(e) && Jt(e);
                                }
                                function yn(e) {
                                    return !h(e[$d]);
                                }
                                function _n(e) {
                                    return !h(e[Uf]);
                                }
                                function Sn(e) {
                                    switch (e) {
                                    case 0:
                                        return 'unknown';
                                    case 1:
                                        return 'authenticated';
                                    case 2:
                                        return 'logged_out';
                                    default:
                                        return 'unknown';
                                    }
                                }
                                function Tn(e) {
                                    return e[$f];
                                }
                                function Cn(e) {
                                    return yn(e) || _n(e);
                                }
                                function wn(e, r) {
                                    return R(function (e, t, n) {
                                        var a = {};
                                        return a[qf] = n, yn(t) && (a[$d] = t[$d]), _n(t) && (a[Hf] = Sn(t[Uf])), a[Xu] = r, Tn(t) && (a[$f] = !0), e.push(a), e;
                                    }, [], g(Cn, e));
                                }
                                function kn(e) {
                                    if (!e.nameSpaces && !e.dataSources)
                                        return wn(e, Eg);
                                    var t = [];
                                    return e.nameSpaces && t.push.apply(t, wn(e.nameSpaces, Dg)), e.dataSources && t.push.apply(t, wn(e.dataSources, Eg)), t;
                                }
                                function In(e) {
                                    if (h(e))
                                        return [];
                                    if (!c(e[Ig]))
                                        return [];
                                    var t = e[Ig](Pg);
                                    return d(t) ? kn(t) : [];
                                }
                                function Pn(e, t) {
                                    return h(e) ? null : c(e[kg]) ? e[kg](t) : null;
                                }
                                function Dn(e, t) {
                                    if (h(e))
                                        return null;
                                    var n = e[t];
                                    return h(n) ? null : n;
                                }
                                function En(e, t, n) {
                                    if (E(t))
                                        return null;
                                    if (h(e[Ng]))
                                        return null;
                                    if (!c(e[Ng][Og]))
                                        return null;
                                    var a = e[Ng][Og](t, { sdidParamExpiry: n });
                                    return d(a) && c(a[Mg]) && a[Mg]() ? a : null;
                                }
                                function An(e, t) {
                                    if (!c(e.getVisitorValues))
                                        return Be({});
                                    var n = [
                                        Cg,
                                        Sg,
                                        Tg
                                    ];
                                    return t && n.push(wg), Ve(function (t) {
                                        e.getVisitorValues(function (e) {
                                            return t(e);
                                        }, n);
                                    });
                                }
                                function xn(e) {
                                    return Ie(Rg, e), {};
                                }
                                function Nn(e, t, n) {
                                    return h(e) ? Be({}) : qe(An(e, n), t, Lg)['catch'](xn);
                                }
                                function On(e, t) {
                                    if (!c(e.getVisitorValues))
                                        return {};
                                    var n = [
                                        Cg,
                                        Sg,
                                        Tg
                                    ];
                                    t && n.push(wg);
                                    var a = {};
                                    return e.getVisitorValues(function (e) {
                                        return bu(a, e);
                                    }, n), a;
                                }
                                function Mn(e, t) {
                                    return h(e) ? {} : On(e, t);
                                }
                                function Ln() {
                                    var e = nt(), t = e[nf], n = e[_f];
                                    return En(window, t, n);
                                }
                                function Rn() {
                                    var e = Ln(), t = nt();
                                    return Nn(e, t[gf], t[bf]);
                                }
                                function jn() {
                                    return Mn(Ln(), nt()[bf]);
                                }
                                function Vn() {
                                    return In(Ln());
                                }
                                function Bn(e) {
                                    return Pn(Ln(), e);
                                }
                                function Fn(e) {
                                    return Dn(Ln(), e);
                                }
                                function Un(e, t) {
                                    jg[e] = t;
                                }
                                function Hn(e) {
                                    return jg[e];
                                }
                                function qn(e) {
                                    var t = e[Lf];
                                    if (h(t))
                                        return !1;
                                    var n = t[jf];
                                    return !(!Cu(n) || P(n));
                                }
                                function $n(e) {
                                    var t = e[Up];
                                    if (!y(t) || P(t))
                                        return !1;
                                    var n = e[cf];
                                    if (!y(n) || P(n))
                                        return !1;
                                    var a = e[rf];
                                    return !(!h(a) && !A(a) || !c(e[zp]));
                                }
                                function Gn(e) {
                                    return Ve(function (n, a) {
                                        e(function (e, t) {
                                            h(e) ? n(t) : a(e);
                                        });
                                    });
                                }
                                function Yn(e, t, n, a, r, i) {
                                    var o = {};
                                    o[e] = t, o[n] = a, o[r] = i;
                                    var s = {};
                                    return s[Rf] = o, s;
                                }
                                function Kn(e) {
                                    var n = e[Up], a = e[cf], t = e[rf] || Fg;
                                    return qe(Gn(e[zp]), t, Bg).then(function (e) {
                                        var t = Yn(Up, n, cf, a, qp, e);
                                        return Ie(Vg, Rp, t), Ne(t), e;
                                    })['catch'](function (e) {
                                        var t = Yn(Up, n, cf, a, Np, e);
                                        return Ie(Vg, Np, t), Ne(t), {};
                                    });
                                }
                                function Qn(e) {
                                    var t = R(function (e, t) {
                                        return bu(e, t);
                                    }, {}, e);
                                    return Un(jf, t), t;
                                }
                                function zn(e) {
                                    return qn(e) ? He(M(Kn, g($n, e[Lf][jf]))).then(Qn) : Be({});
                                }
                                function Wn() {
                                    var e = Hn(jf);
                                    return h(e) ? {} : e;
                                }
                                function Jn() {
                                    return zn(window);
                                }
                                function Xn() {
                                    return Wn();
                                }
                                function Zn(e) {
                                    var t = X(e.location.search)[Ug];
                                    return E(t) ? null : t;
                                }
                                function ea() {
                                    var e = xh(Hg);
                                    return E(e) ? null : e;
                                }
                                function ta() {
                                    var e = Zn(window), t = ea();
                                    return e || t;
                                }
                                function na(e) {
                                    return !P(e) && 2 === e.length && Lu(e[0]);
                                }
                                function aa(e) {
                                    var t = e.indexOf('=');
                                    return -1 === t ? [] : [
                                        e.substr(0, t),
                                        e.substr(t + 1)
                                    ];
                                }
                                function ra(e, n, a, r) {
                                    v(function (e, t) {
                                        d(e) ? (n.push(t), ra(e, n, a, r), n.pop()) : P(n) ? a[r(t)] = e : a[r(O('.', n.concat(t)))] = e;
                                    }, e);
                                }
                                function ia(e) {
                                    return g(function (e, t) {
                                        return Lu(t);
                                    }, X(e));
                                }
                                function oa(e) {
                                    return R(function (e, t) {
                                        return e[ee(D(t[0]))] = ee(D(t[1])), e;
                                    }, {}, g(na, R(function (e, t) {
                                        return e.push(aa(t)), e;
                                    }, [], g(Lu, e))));
                                }
                                function sa(e, t) {
                                    var n = {};
                                    return h(t) ? ra(e, [], n, o) : ra(e, [], n, t), n;
                                }
                                function ca(e) {
                                    if (!c(e))
                                        return {};
                                    var t = null;
                                    try {
                                        t = e();
                                    } catch (n) {
                                        return {};
                                    }
                                    return h(t) ? {} : Cu(t) ? oa(t) : y(t) && Lu(t) ? ia(t) : d(t) ? sa(t) : {};
                                }
                                function la(e) {
                                    return bu({}, e, ca(window.targetPageParamsAll));
                                }
                                function ua(e) {
                                    return bu({}, e, ca(window.targetPageParams));
                                }
                                function da(e) {
                                    var t = nt(), n = t[of], a = t[wf], r = t[kf];
                                    return n !== e ? la(a || {}) : bu(la(a || {}), ua(r || {}));
                                }
                                function pa() {
                                    var e = document.createElement('canvas'), t = e.getContext('webgl') || e.getContext('experimental-webgl');
                                    if (h(t))
                                        return null;
                                    var n = t.getExtension('WEBGL_debug_renderer_info');
                                    if (h(n))
                                        return null;
                                    var a = t.getParameter(n.UNMASKED_RENDERER_WEBGL);
                                    return h(a) ? null : a;
                                }
                                function fa() {
                                    var e = window.devicePixelRatio;
                                    if (!h(e))
                                        return e;
                                    e = 1;
                                    var t = window.screen, n = t.systemXDPI, a = t.logicalXDPI;
                                    return !h(n) && !h(a) && a < n && (e = n / a), e;
                                }
                                function ha() {
                                    var e = window.screen, t = e.orientation, n = e.width, a = e.height;
                                    if (h(t))
                                        return a < n ? 'landscape' : 'portrait';
                                    if (h(t.type))
                                        return null;
                                    var r = V('-', t.type);
                                    if (P(r))
                                        return null;
                                    var i = r[0];
                                    return h(i) ? null : i;
                                }
                                function ga() {
                                    return qg;
                                }
                                function ma(e) {
                                    return e === Gg;
                                }
                                function va(e) {
                                    return -1 !== e.indexOf($g);
                                }
                                function ba(e) {
                                    return e === Yg;
                                }
                                function ya(e) {
                                    return e === Kg;
                                }
                                function _a(e) {
                                    return e === Qg;
                                }
                                function Sa(e) {
                                    return e === zg;
                                }
                                function Ta(e) {
                                    return e === Wg;
                                }
                                function Ca(e) {
                                    return e === Jg;
                                }
                                function wa(e) {
                                    return va(e) || ma(e) || ba(e) || ya(e) || _a(e) || Sa(e) || Ta(e) || Ca(e);
                                }
                                function ka(e) {
                                    return e.substring($g.length);
                                }
                                function Ia(e) {
                                    return e[Gg];
                                }
                                function Pa(e) {
                                    return e[Yg];
                                }
                                function Da(e) {
                                    return e[Kg];
                                }
                                function Ea(e) {
                                    return e[Qg];
                                }
                                function Aa(e) {
                                    var t = M(D, V(',', e[zg]));
                                    return g(Lu, t);
                                }
                                function xa(e) {
                                    return e[Wg];
                                }
                                function Na(e) {
                                    return e[Jg];
                                }
                                function Oa(e) {
                                    return R(function (e, t, n) {
                                        return wa(n) || (e[n] = h(t) ? '' : t), e;
                                    }, {}, e);
                                }
                                function Ma(e) {
                                    return R(function (e, t, n) {
                                        if (!va(n))
                                            return e;
                                        var a = ka(n);
                                        return E(a) || (e[a] = h(t) ? '' : t), e;
                                    }, {}, e);
                                }
                                function La(r, i, o) {
                                    return r.onload = function () {
                                        var e = 1223 === r.status ? 204 : r.status;
                                        if (e < 100 || 599 < e)
                                            o(new Error(Zg));
                                        else {
                                            var t;
                                            try {
                                                t = JSON.parse(r.responseText);
                                            } catch (a) {
                                                return void o(new Error(tm));
                                            }
                                            var n = r.getAllResponseHeaders();
                                            i({
                                                status: e,
                                                headers: n,
                                                response: t
                                            });
                                        }
                                    }, r;
                                }
                                function Ra(e, t) {
                                    return e.onerror = function () {
                                        t(new Error(Zg));
                                    }, e;
                                }
                                function ja(e, t, n) {
                                    return e.timeout = t, e.ontimeout = function () {
                                        n(new Error(em));
                                    }, e;
                                }
                                function Va(n, e) {
                                    return v(function (e, t) {
                                        Cu(e) && v(function (e) {
                                            n.setRequestHeader(t, e);
                                        }, e);
                                    }, 1 < arguments.length && e !== undefined ? arguments[1] : {}), n;
                                }
                                function Ba(e) {
                                    var a = e.url, r = e.headers, i = e.body, o = e.timeout, s = e.async;
                                    return Ve(function (e, t) {
                                        var n = new window.XMLHttpRequest();
                                        (n = Ra(n = La(n, e, t), t)).open(Xg, a, s), n.withCredentials = !0, n = Va(n, r), s && (n = ja(n, o, t)), n.send(JSON.stringify(i));
                                    }).then(function (e) {
                                        var t = e.response, n = t.status, a = t.message;
                                        if (!h(n) && !h(a))
                                            throw new Error(a);
                                        return t;
                                    });
                                }
                                function Fa(e) {
                                    if (e[wg])
                                        throw new Error(_g);
                                    return e;
                                }
                                function Ua() {
                                    var e = Rn(), t = Jn();
                                    return He([
                                        e.then(Fa),
                                        t
                                    ]);
                                }
                                function Ha() {
                                    return [
                                        jn(),
                                        Xn()
                                    ];
                                }
                                function qa(e) {
                                    var t = nt()[of];
                                    return bu({}, e, da(t));
                                }
                                function $a() {
                                    return -new Date().getTimezoneOffset();
                                }
                                function Ga() {
                                    var e = window.screen;
                                    return {
                                        width: e.width,
                                        height: e.height,
                                        orientation: ha(),
                                        colorDepth: e.colorDepth,
                                        pixelRatio: fa()
                                    };
                                }
                                function Ya() {
                                    var e = document.documentElement;
                                    return {
                                        width: e.clientWidth,
                                        height: e.clientHeight
                                    };
                                }
                                function Ka() {
                                    return {
                                        host: window.location.hostname,
                                        webGLRenderer: ga()
                                    };
                                }
                                function Qa() {
                                    return {
                                        url: window.location.href,
                                        referringUrl: document.referrer
                                    };
                                }
                                function za(e) {
                                    if (!h(e) && e.channel === Sh)
                                        return e;
                                    var t = (e || {}).beacon;
                                    return {
                                        userAgent: window.navigator.userAgent,
                                        timeOffsetInMinutes: $a(),
                                        channel: Sh,
                                        screen: Ga(),
                                        window: Ya(),
                                        browser: Ka(),
                                        address: Qa(),
                                        geo: e && e.geo,
                                        beacon: t
                                    };
                                }
                                function Wa(e, t) {
                                    if (!h(e))
                                        return e;
                                    var n = {};
                                    if (P(t))
                                        return n;
                                    var a = t[Tg], r = parseInt(a, 10);
                                    isNaN(r) || (n.locationHint = r);
                                    var i = t[Sg];
                                    return Lu(i) && (n.blob = i), n;
                                }
                                function Ja(e) {
                                    var t = e.id, n = e.integrationCode, a = e.authenticatedState, r = e.type, i = e.primary, o = {};
                                    return Lu(t) && (o.id = t), Lu(n) && (o.integrationCode = n), Lu(a) && (o.authenticatedState = a), Lu(r) && (o.type = r), i && (o.primary = i), o;
                                }
                                function Xa(e) {
                                    return M(Ja, e);
                                }
                                function Za(e, t, n, a, r) {
                                    var i = {};
                                    Lu(t) && (i.tntId = t), Lu(n) && (i.thirdPartyId = n), Lu(e.thirdPartyId) && (i.thirdPartyId = e.thirdPartyId);
                                    var o = a[Cg];
                                    return Lu(o) && (i.marketingCloudVisitorId = o), Lu(e.marketingCloudVisitorId) && (i.marketingCloudVisitorId = e.marketingCloudVisitorId), P(e.customerIds) ? P(r) || (i.customerIds = Xa(r)) : i.customerIds = e.customerIds, i;
                                }
                                function er(e, t) {
                                    var n = {}, a = Wa(e.audienceManager, t);
                                    return P(a) || (n.audienceManager = a), P(e.analytics) || (n.analytics = e.analytics), n;
                                }
                                function tr(e, t) {
                                    if (!h(e) && Lu(e.token))
                                        return e;
                                    var n = {}, a = Pa(t);
                                    return Lu(a) && (n.token = a), n;
                                }
                                function nr(e) {
                                    if (!h(e) && Lu(e.authorizationToken))
                                        return e;
                                    var t = {}, n = ta();
                                    return Lu(n) && (t.authorizationToken = n), t;
                                }
                                function ar(e) {
                                    return h(e) ? Wt() : e;
                                }
                                function rr(e) {
                                    return h(e) ? Kt() : e;
                                }
                                function ir(e) {
                                    var t = {}, n = Da(e);
                                    h(n) || (t.id = n);
                                    var a = Ea(e), r = parseFloat(a);
                                    isNaN(r) || (t.total = r);
                                    var i = Aa(e);
                                    return P(i) || (t.purchasedProductIds = i), t;
                                }
                                function or(e) {
                                    var t = {}, n = xa(e);
                                    h(n) || (t.id = n);
                                    var a = Na(e);
                                    return h(a) || (t.categoryId = a), t;
                                }
                                function sr(e, t) {
                                    var n = {}, a = bu({}, Oa(t), e.parameters || {}), r = bu({}, Ma(t), e.profileParameters || {}), i = bu({}, ir(t), e.order || {}), o = bu({}, or(t), e.product || {});
                                    return P(a) || (n.parameters = a), P(r) || (n.profileParameters = r), P(i) || (n.order = i), P(o) || (n.product = o), n;
                                }
                                function cr(e, t, n) {
                                    var a = 2 < arguments.length && n !== undefined ? arguments[2] : {}, r = nt()[of], i = e.index, o = e.name, s = e.address, c = sr(e, bu({}, o === r ? t : a, da(o)));
                                    return h(i) || (c.index = i), Lu(o) && (c.name = o), P(s) || (c.address = s), c;
                                }
                                function lr(e, t) {
                                    var n = e.name, a = e.address, r = sr(e, t);
                                    return Lu(n) && (r.name = n), P(a) || (r.address = a), r;
                                }
                                function ur(e, t, n) {
                                    var a = e.execute, r = void 0 === a ? {} : a, i = {};
                                    if (P(r))
                                        return i;
                                    var o = r.pageLoad;
                                    h(o) || (i.pageLoad = sr(o, t));
                                    var s = r.mboxes;
                                    if (!h(s) && Cu(s) && !P(s)) {
                                        var c = g(rm, M(function (e) {
                                            return cr(e, t, n);
                                        }, s));
                                        P(c) || (i.mboxes = c);
                                    }
                                    return i;
                                }
                                function dr(e, t, n) {
                                    var a = e.prefetch, r = void 0 === a ? {} : a, i = {};
                                    if (P(r))
                                        return i;
                                    var o = r.mboxes;
                                    h(o) || !Cu(o) || P(o) || (i.mboxes = M(function (e) {
                                        return cr(e, t, n);
                                    }, o));
                                    var s = r.views;
                                    return h(s) || !Cu(s) || P(s) || (i.views = M(function (e) {
                                        return lr(e, t);
                                    }, s)), i;
                                }
                                function pr(e, t) {
                                    if (Qe() && !We())
                                        return null;
                                    var n = nt(), a = Bn(e), r = Fn(Ag), i = Fn(xg), o = t.experienceCloud, s = (void 0 === o ? {} : o).analytics, c = void 0 === s ? {} : s, l = c.logging, u = c.supplementalDataId, d = c.trackingServer, p = c.trackingServerSecure, f = {};
                                    return h(l) ? f.logging = n[hh] : f.logging = l, h(u) || (f.supplementalDataId = u), Lu(a) && (f.supplementalDataId = a), h(d) || (f.trackingServer = d), Lu(r) && (f.trackingServer = r), h(p) || (f.trackingServerSecure = p), Lu(i) && (f.trackingServerSecure = i), P(f) ? null : f;
                                }
                                function fr(e, t, n) {
                                    var a = qa(n), r = rt(), i = Ia(a), o = Vn(), s = Za(e.id || {}, r, i, t, o), c = tr(e.property, a), l = er(e.experienceCloud || {}, t), u = nr(e.trace), d = ar(e.preview), p = rr(e.qaMode), f = ur(e, a, n), h = dr(e, a, n), g = e.notifications, m = {};
                                    return m.requestId = F(), m.context = za(e.context), P(s) || (m.id = s), P(c) || (m.property = c), P(u) || (m.trace = u), P(l) || (m.experienceCloud = l), P(d) || (m.preview = d), P(p) || (m.qaMode = p), P(f) || (m.execute = f), P(h) || (m.prefetch = h), P(g) || (m.notifications = g), m;
                                }
                                function hr(e, t, n) {
                                    var a = n[0], r = n[1];
                                    return fr(e, a, bu({}, r, t));
                                }
                                function gr(t, n) {
                                    return Ua().then(function (e) {
                                        return hr(t, n, e);
                                    });
                                }
                                function mr(e, t) {
                                    return hr(e, t, Ha());
                                }
                                function vr(e, t) {
                                    return A(t) ? t < 0 ? e[rf] : t : e[rf];
                                }
                                function br(e) {
                                    var t = e[af];
                                    if (!e[mf])
                                        return t;
                                    var n = ot();
                                    return E(n) ? t : '' + nm + n + am;
                                }
                                function yr(e) {
                                    return e[Tf] + '//' + br(e) + e[Vf] + '?' + Z({
                                        client: e[tf],
                                        sessionId: et(),
                                        version: e[cf]
                                    });
                                }
                                function _r(e, t) {
                                    var n = nt();
                                    return Ba({
                                        url: yr(n),
                                        headers: s({}, Xf, [Zf]),
                                        body: e,
                                        timeout: vr(n, t),
                                        async: !0
                                    }).then(function (e) {
                                        return bu(e, { decisioningMethod: Ku.SERVER_SIDE });
                                    });
                                }
                                function Sr(e, t, n) {
                                    return Ie(Qp, t), Ne({ request: t }), _r(t, n).then(function (e) {
                                        return Ie(Kp, e), Ne({ response: e }), {
                                            request: t,
                                            response: e
                                        };
                                    });
                                }
                                function Tr(e, t) {
                                    return {
                                        status: Rp,
                                        type: e,
                                        data: t
                                    };
                                }
                                function Cr(e, t) {
                                    return {
                                        status: Np,
                                        type: e,
                                        data: t
                                    };
                                }
                                function wr(e) {
                                    return d(e);
                                }
                                function kr(e) {
                                    return !!wr(e) && Lu(e.eventToken);
                                }
                                function Ir(e) {
                                    return !P(e) && !E(e.type) && Lu(e.eventToken);
                                }
                                function Pr(e) {
                                    return !!Ir(e) && Lu(e.selector);
                                }
                                function Dr(e) {
                                    var t = e.id;
                                    return d(t) && Lu(t.tntId);
                                }
                                function Er(e) {
                                    var t = e.response;
                                    return Dr(t) && at(t.id.tntId), e;
                                }
                                function Ar(e) {
                                    var t = e.response;
                                    return Dr(t) && st(t.id.tntId), st(null), e;
                                }
                                function xr(e) {
                                    var t = (0 < arguments.length && e !== undefined ? arguments[0] : {}).trace;
                                    P(t) || xe(t);
                                }
                                function Nr(e) {
                                    var t = e.response, n = t.execute, a = void 0 === n ? {} : n, r = t.prefetch, i = void 0 === r ? {} : r, o = a.pageLoad, s = void 0 === o ? {} : o, c = a.mboxes, l = void 0 === c ? [] : c, u = i.mboxes, d = void 0 === u ? [] : u, p = i.views, f = void 0 === p ? [] : p;
                                    return xr(s), v(xr, l), v(xr, d), v(xr, f), e;
                                }
                                function Or(e) {
                                    var t = e.queryKey, n = t[Im];
                                    if (!y(n))
                                        return t;
                                    if (E(n))
                                        return t;
                                    var a = Math.round(L() / 1000);
                                    return t[Im] = n.replace(/\|TS=\d+/, '|TS=' + a), t;
                                }
                                function Mr(e) {
                                    return e.queryKey;
                                }
                                function Lr(e, t, n) {
                                    var a = ne(e), r = a.protocol, i = a.host, o = a.path, s = '' === a.port ? '' : ':' + a.port, c = E(a.anchor) ? '' : '#' + a.anchor, l = n(a), u = Z(bu({}, l, t));
                                    return r + '://' + i + s + o + (E(u) ? '' : '?' + u) + c;
                                }
                                function Rr(e, t) {
                                    return Lr(e, t, Or);
                                }
                                function jr(e, t) {
                                    return Lr(e, t, Mr);
                                }
                                function Vr(e) {
                                    var t = e.content;
                                    if (E(t))
                                        return Ie(Cp, e), null;
                                    var n = bu({}, e);
                                    return n.content = Rr(t, {}), n;
                                }
                                function Br(e) {
                                    throw new Error(e);
                                }
                                function Fr(e) {
                                    var t = e[Nm] || Am, n = e[Om] || Br(Em), a = e[Mm] || {}, r = e[Lm] || null, i = e[Rm] || !1, o = e[jm] || 3000, s = !!h(e[Vm]) || !0 === e[Vm], c = {};
                                    return c[Nm] = t, c[Om] = n, c[Mm] = a, c[Lm] = r, c[Rm] = i, c[jm] = o, c[Vm] = s, c;
                                }
                                function Ur(a, r, i) {
                                    return a.onload = function () {
                                        var e = 1223 === a.status ? 204 : a.status;
                                        if (e < 100 || 599 < e)
                                            i(new Error(Pm));
                                        else {
                                            var t = a.responseText, n = a.getAllResponseHeaders();
                                            r({
                                                status: e,
                                                headers: n,
                                                response: t
                                            });
                                        }
                                    }, a;
                                }
                                function Hr(e, t) {
                                    return e.onerror = function () {
                                        t(new Error(Pm));
                                    }, e;
                                }
                                function qr(e, t, n) {
                                    return e.timeout = t, e.ontimeout = function () {
                                        n(new Error(Dm));
                                    }, e;
                                }
                                function $r(e, t) {
                                    return !0 === t && (e.withCredentials = t), e;
                                }
                                function Gr(n, e) {
                                    return v(function (e, t) {
                                        v(function (e) {
                                            return n.setRequestHeader(t, e);
                                        }, e);
                                    }, e), n;
                                }
                                function Yr(a, e) {
                                    var t = Fr(e), r = t[Nm], i = t[Om], o = t[Mm], s = t[Lm], c = t[Rm], l = t[jm], u = t[Vm];
                                    return Ve(function (e, t) {
                                        var n = new a.XMLHttpRequest();
                                        (n = Hr(n = Ur(n, e, t), t)).open(r, i, u), n = Gr(n = $r(n, c), o), u && (n = qr(n, l, t)), n.send(s);
                                    });
                                }
                                function Kr(e) {
                                    return Yr(window, e);
                                }
                                function Qr(e, t, n) {
                                    var a = {};
                                    return a[Nm] = Am, a[Om] = jr(e, t), a[jm] = n, a;
                                }
                                function zr(e) {
                                    return 200 <= e && e < 300 || 304 === e;
                                }
                                function Wr(e) {
                                    if (!zr(e.status))
                                        return null;
                                    var t = e.response;
                                    if (E(t))
                                        return null;
                                    var n = {};
                                    return n.type = Fd, n.content = t, n;
                                }
                                function Jr(e) {
                                    return Kr(Qr(e.content, {}, nt()[jm])).then(Wr)['catch'](function () {
                                        return null;
                                    });
                                }
                                function Xr(e) {
                                    var t = e[sd];
                                    if (E(t))
                                        return '';
                                    var n = Bm.exec(t);
                                    return P(n) || 2 !== n.length ? '' : n[1];
                                }
                                function Zr(e, t) {
                                    var n = document.createElement(Xd);
                                    n.innerHTML = t;
                                    var a = n.firstElementChild;
                                    return h(a) ? t : (a.id = e, a.outerHTML);
                                }
                                function ei(e) {
                                    var t = e[Zu], n = Xr(e);
                                    if (E(n) || E(t))
                                        return e;
                                    var a = e[sd];
                                    return e[sd] = a.replace(Fm, ''), e[Zu] = Zr(n, t), e;
                                }
                                function ti(e) {
                                    return !h(e.selector);
                                }
                                function ni(e) {
                                    if (!ti(e))
                                        return null;
                                    var t = ei(e);
                                    return y(t[Zu]) ? t : (Ie(vp, t), null);
                                }
                                function ai(e) {
                                    if (!ti(e))
                                        return null;
                                    var t = ei(e);
                                    return y(t[Zu]) ? t : (Ie(vp, t), null);
                                }
                                function ri(e) {
                                    if (!ti(e))
                                        return null;
                                    var t = ei(e);
                                    return y(t[Zu]) ? t : (Ie(vp, t), null);
                                }
                                function ii(e) {
                                    if (!ti(e))
                                        return null;
                                    var t = ei(e);
                                    return y(t[Zu]) ? t : (Ie(vp, t), null);
                                }
                                function oi(e) {
                                    if (!ti(e))
                                        return null;
                                    var t = ei(e);
                                    return y(t[Zu]) ? t : (Ie(vp, t), null);
                                }
                                function si(e) {
                                    if (!ti(e))
                                        return null;
                                    var t = ei(e);
                                    return y(t[Zu]) ? t : (Ie(vp, t), null);
                                }
                                function ci(e) {
                                    if (!ti(e))
                                        return null;
                                    var t = ei(e);
                                    return y(t[Zu]) ? t : (Ie(vp, t), null);
                                }
                                function li(e) {
                                    return ti(e) ? y(e[Zu]) ? e : (Ie(vp, e), null) : null;
                                }
                                function ui(e) {
                                    return ti(e) ? d(e[Zu]) ? e : (Ie(bp, e), null) : null;
                                }
                                function di(e) {
                                    return ti(e) ? y(e[Zu]) ? e : (Ie(wp, e), null) : null;
                                }
                                function pi(e) {
                                    return ti(e) ? d(e[Zu]) ? e : (Ie(yp, e), null) : null;
                                }
                                function fi(e) {
                                    return ti(e) ? d(e[Zu]) ? e : (Ie(_p, e), null) : null;
                                }
                                function hi(e) {
                                    return ti(e) ? d(e[Zu]) ? e : (Ie(Sp, e), null) : null;
                                }
                                function gi(e) {
                                    return ti(e) ? e : null;
                                }
                                function mi(e) {
                                    return ti(e) ? d(e[Zu]) ? e : (Ie(Tp, e), null) : null;
                                }
                                function vi(e) {
                                    var t = e.content;
                                    return E(t) ? (Ie(Cp, e), null) : (e.content = Rr(t, {}), e);
                                }
                                function bi(e) {
                                    var t = e[Xu];
                                    if (E(t))
                                        return null;
                                    switch (t) {
                                    case ld:
                                        return ni(e);
                                    case dd:
                                        return ai(e);
                                    case Id:
                                        return ri(e);
                                    case Dd:
                                        return ii(e);
                                    case Ad:
                                        return oi(e);
                                    case wd:
                                        return si(e);
                                    case kd:
                                        return ci(e);
                                    case _d:
                                        return li(e);
                                    case fd:
                                        return ui(e);
                                    case hd:
                                        return di(e);
                                    case gd:
                                        return pi(e);
                                    case vd:
                                        return fi(e);
                                    case bd:
                                        return hi(e);
                                    case yd:
                                        return gi(e);
                                    case md:
                                        return mi(e);
                                    case Sd:
                                        return vi(e);
                                    default:
                                        return null;
                                    }
                                }
                                function yi(e) {
                                    var t = e[Zu];
                                    if (!Cu(t))
                                        return null;
                                    if (P(t))
                                        return null;
                                    var n = g(Um, M(bi, t));
                                    if (P(n))
                                        return null;
                                    var a = bu({}, e);
                                    return a.content = n, a;
                                }
                                function _i(e) {
                                    var t = (0 < arguments.length && e !== undefined ? arguments[0] : {}).options;
                                    return Cu(t) ? P(t) ? [] : fm(M(vm, t)) : [];
                                }
                                function Si(e) {
                                    var t = 0 < arguments.length && e !== undefined ? arguments[0] : {}, n = t.execute, a = void 0 === n ? {} : n, r = t.prefetch, i = void 0 === r ? {} : r, o = a.pageLoad, s = void 0 === o ? {} : o, c = a.mboxes, l = void 0 === c ? [] : c, u = i.mboxes, d = void 0 === u ? [] : u, p = i.views, f = void 0 === p ? [] : p;
                                    return m([
                                        _i(s),
                                        m(M(_i, l)),
                                        m(M(_i, d)),
                                        m(M(_i, f))
                                    ]);
                                }
                                function Ti(e) {
                                    var t = (0 < arguments.length && e !== undefined ? arguments[0] : {}).execute, n = void 0 === t ? {} : t, a = n.pageLoad, r = void 0 === a ? {} : a, i = n.mboxes, o = void 0 === i ? [] : i, s = m([
                                            gm(r) || [],
                                            m(fm(M(gm, o)))
                                        ]), c = m(M(mm, g(dm, s))), l = g(pm, s), u = g(pm, c), d = l.concat(u), p = {};
                                    if (P(d))
                                        return p;
                                    var f = d[0].content;
                                    return E(f) || (p.url = f), p;
                                }
                                function Ci(e) {
                                    var t = (0 < arguments.length && e !== undefined ? arguments[0] : {}).analytics;
                                    return P(t) ? [] : [t];
                                }
                                function wi(e) {
                                    var t = 0 < arguments.length && e !== undefined ? arguments[0] : {}, n = t.execute, a = void 0 === n ? {} : n, r = t.prefetch, i = void 0 === r ? {} : r, o = a.pageLoad, s = void 0 === o ? {} : o, c = a.mboxes, l = void 0 === c ? [] : c, u = i.mboxes, d = void 0 === u ? [] : u, p = i.views, f = void 0 === p ? [] : p;
                                    return m([
                                        Ci(s),
                                        m(M(Ci, l)),
                                        m(M(Ci, d)),
                                        m(M(Ci, f))
                                    ]);
                                }
                                function ki(e, t) {
                                    e.parameters = t.parameters, e.profileParameters = t.profileParameters, e.order = t.order, e.product = t.product;
                                }
                                function Ii(e, t) {
                                    var n = t[0], a = t[1], r = !P(n), i = !P(a);
                                    return (r || i) && (r && (e.options = n), i && (e.metrics = a)), e;
                                }
                                function Pi(e) {
                                    switch (e.type) {
                                    case Sd:
                                        return Be(Vr(e));
                                    case Ud:
                                        return Jr(e);
                                    case $p:
                                        return Be(yi(e));
                                    default:
                                        return Be(e);
                                    }
                                }
                                function Di(e, t) {
                                    if (!Cu(e))
                                        return Be([]);
                                    if (P(e))
                                        return Be([]);
                                    var n = g(t, e);
                                    return P(n) ? Be([]) : He(M(function (e) {
                                        return Pi(e);
                                    }, n)).then(fm);
                                }
                                function Ei(e, t) {
                                    return Cu(e) ? P(e) ? Be([]) : Be(g(t, e)) : Be([]);
                                }
                                function Ai(e) {
                                    var t = e.response.execute;
                                    if (!d(t))
                                        return Be(null);
                                    var n = t.pageLoad;
                                    if (!d(n))
                                        return Be(null);
                                    var a = n.analytics, r = n.options, i = n.metrics, o = { analytics: a };
                                    return He([
                                        Di(r, wr),
                                        Ei(i, Pr)
                                    ]).then(function (e) {
                                        return Ii(o, e);
                                    });
                                }
                                function xi(e) {
                                    var t = e.name, n = e.analytics, a = e.options, r = e.metrics, i = {
                                            name: t,
                                            analytics: n
                                        };
                                    return He([
                                        Di(a, wr),
                                        Ei(r, Ir)
                                    ]).then(function (e) {
                                        return Ii(i, e);
                                    });
                                }
                                function Ni(e) {
                                    var t = e.response.execute;
                                    if (!d(t))
                                        return Be([]);
                                    var n = t.mboxes;
                                    return !Cu(n) || P(n) ? Be([]) : He(M(xi, g(_m, n))).then(fm);
                                }
                                function Oi(e, t, n) {
                                    return e.index === t && e.name === n;
                                }
                                function Mi(e, t, n) {
                                    var a = e.prefetch, r = (void 0 === a ? {} : a).mboxes, i = void 0 === r ? [] : r;
                                    return P(i) ? null : p(g(function (e) {
                                        return Oi(e, t, n);
                                    }, i));
                                }
                                function Li(e, t) {
                                    var n = t.index, a = t.name, r = t.state, i = t.analytics, o = t.options, s = t.metrics, c = Mi(e, n, a), l = {
                                            name: a,
                                            state: r,
                                            analytics: i
                                        };
                                    return h(c) || ki(l, c), He([
                                        Di(o, kr),
                                        Ei(s, Ir)
                                    ]).then(function (e) {
                                        return Ii(l, e);
                                    });
                                }
                                function Ri(e) {
                                    var t = e.request, n = e.response.prefetch;
                                    if (!d(n))
                                        return Be([]);
                                    var a = n.mboxes;
                                    if (!Cu(a) || P(a))
                                        return Be([]);
                                    var r = g(Sm, a), i = function i(e) {
                                            return Li(t, e);
                                        };
                                    return He(M(i, r)).then(fm);
                                }
                                function ji(e) {
                                    var t = e.prefetch, n = (void 0 === t ? {} : t).views, a = void 0 === n ? [] : n;
                                    return P(a) ? null : a[0];
                                }
                                function Vi(e, t) {
                                    var n = t.name, a = t.state, r = t.analytics, i = t.options, o = t.metrics, s = ji(e), c = {
                                            name: n.toLowerCase(),
                                            state: a,
                                            analytics: r
                                        };
                                    return h(s) || ki(c, s), He([
                                        Di(i, kr),
                                        Ei(o, Pr)
                                    ]).then(function (e) {
                                        return Ii(c, e);
                                    });
                                }
                                function Bi(e) {
                                    var t = e.request, n = e.response.prefetch;
                                    if (!d(n))
                                        return Be([]);
                                    var a = n.views;
                                    if (!Cu(a) || P(a))
                                        return Be([]);
                                    var r = g(Tm, a), i = function i(e) {
                                            return Vi(t, e);
                                        };
                                    return He(M(i, r)).then(fm);
                                }
                                function Fi(e) {
                                    var t = e.response.prefetch;
                                    return d(t) ? Ei(t.metrics, Pr) : Be([]);
                                }
                                function Ui(e) {
                                    var t = e.response, n = t.remoteMboxes, a = t.remoteViews, r = t.decisioningMethod, i = {};
                                    return d(n) && (i.remoteMboxes = n), d(a) && (i.remoteViews = a), y(r) && (i.decisioningMethod = r), Be(i);
                                }
                                function Hi(e) {
                                    var t = e[0], n = e[1], a = e[2], r = e[3], i = e[4], o = e[5], s = {}, c = {};
                                    d(t) && (c.pageLoad = t), P(n) || (c.mboxes = n);
                                    var l = {};
                                    return P(a) || (l.mboxes = a), P(r) || (l.views = r), P(i) || (l.metrics = i), P(c) || (s.execute = c), P(l) || (s.prefetch = l), P(o) || (s.meta = o), s;
                                }
                                function qi(e) {
                                    var t = f([
                                        Nr,
                                        Er,
                                        Ar
                                    ])(e);
                                    return He([
                                        Ai(t),
                                        Ni(t),
                                        Ri(t),
                                        Bi(t),
                                        Fi(t),
                                        Ui(t)
                                    ]).then(Hi);
                                }
                                function $i(e) {
                                    return !P(Ti(e));
                                }
                                function Gi(e) {
                                    var t = Si(e), n = {};
                                    return P(t) || (n.responseTokens = t), n;
                                }
                                function Yi(e) {
                                    var t = Gi(e), n = wi(e);
                                    return P(n) || (t.analyticsDetails = n), Ie(hp, e), ht(t, $i(e)), Be(e);
                                }
                                function Ki(e, t) {
                                    var n = Gi(t);
                                    return n.mbox = e, Ie(hp, t), ht(n, $i(t)), Be(t);
                                }
                                function Qi(e) {
                                    return ke(fp, e), gt({ error: e }), Fe(e);
                                }
                                function zi(e, t) {
                                    return ke(fp, t), gt({
                                        mbox: e,
                                        error: t
                                    }), Fe(t);
                                }
                                function Wi(t) {
                                    var e = nt()[of], n = t.mbox, a = t.timeout, r = d(t.params) ? t.params : {}, i = function i(e) {
                                            return Ki(n, e);
                                        }, o = function o(e) {
                                            return zi(n, e);
                                        }, s = {}, c = {};
                                    n === e ? c.pageLoad = {} : c.mboxes = [{
                                            index: 0,
                                            name: n
                                        }], s.execute = c;
                                    var l = pr(n, s);
                                    if (!P(l)) {
                                        var u = {};
                                        u.analytics = l, s.experienceCloud = u;
                                    }
                                    return ft({ mbox: n }), gr(s, r).then(function (e) {
                                        return Sr(t, e, a);
                                    }).then(qi).then(i)['catch'](o);
                                }
                                function Ji(t) {
                                    var e = nt()[of], n = t.consumerId, a = void 0 === n ? e : n, r = t.request, i = t.timeout, o = pr(a, r), s = function s(e) {
                                            return Yi(e);
                                        }, c = function c(e) {
                                            return Qi(e);
                                        };
                                    if (!P(o)) {
                                        var l = r.experienceCloud || {};
                                        l.analytics = o, r.experienceCloud = l;
                                    }
                                    return ft({}), gr(r, {}).then(function (e) {
                                        return Sr(t, e, i);
                                    }).then(qi).then(s)['catch'](c);
                                }
                                function Xi(e, t) {
                                    return kt(t).addClass(e);
                                }
                                function Zi(e, t) {
                                    return kt(t).css(e);
                                }
                                function eo(e, t) {
                                    return kt(t).attr(e);
                                }
                                function to(e, t, n) {
                                    return kt(n).attr(e, t);
                                }
                                function no(e, t) {
                                    return kt(t).removeAttr(e);
                                }
                                function ao(e, t, n) {
                                    var a = eo(e, n);
                                    Lu(a) && (no(e, n), to(t, a, n));
                                }
                                function ro(e, t) {
                                    return Lu(eo(e, t));
                                }
                                function io(e) {
                                    return new Error('Could not find: ' + e);
                                }
                                function oo(a, r, i) {
                                    return Ve(function (t, e) {
                                        var n = Me(function () {
                                            var e = i(a);
                                            P(e) || (n.disconnect(), t(e));
                                        });
                                        U(function () {
                                            n.disconnect(), e(io(a));
                                        }, r), n.observe(document, {
                                            childList: !0,
                                            subtree: !0
                                        });
                                    });
                                }
                                function so() {
                                    return document[Hm] === qm;
                                }
                                function co(a, r, i) {
                                    return Ve(function (t, e) {
                                        function n() {
                                            var e = i(a);
                                            P(e) ? window.requestAnimationFrame(n) : t(e);
                                        }
                                        n(), U(function () {
                                            e(io(a));
                                        }, r);
                                    });
                                }
                                function lo(a, r, i) {
                                    return Ve(function (t, e) {
                                        function n() {
                                            var e = i(a);
                                            P(e) ? U(n, $m) : t(e);
                                        }
                                        n(), U(function () {
                                            e(io(a));
                                        }, r);
                                    });
                                }
                                function uo(e, t, n) {
                                    var a = 1 < arguments.length && t !== undefined ? arguments[1] : nt()[hf], r = 2 < arguments.length && n !== undefined ? arguments[2] : kt, i = r(e);
                                    return P(i) ? Oe() ? oo(e, a, r) : so() ? co(e, a, r) : lo(e, a, r) : Be(i);
                                }
                                function po(e) {
                                    return eo(Vd, e);
                                }
                                function fo(e) {
                                    return ro(Vd, e);
                                }
                                function ho(e) {
                                    return v(function (e) {
                                        return ao(qd, Vd, e);
                                    }, I(Ot(Jd, e))), e;
                                }
                                function go(e) {
                                    return v(function (e) {
                                        return ao(Vd, qd, e);
                                    }, I(Ot(Jd, e))), e;
                                }
                                function mo(e) {
                                    return Ie(Ip, e), eo(qd, to(qd, e, Dt('<' + Jd + '/>')));
                                }
                                function vo(e) {
                                    var t = g(fo, I(Ot(Jd, e)));
                                    return P(t) || v(mo, M(po, t)), e;
                                }
                                function bo(e) {
                                    return f([
                                        ho,
                                        vo,
                                        go
                                    ])(e);
                                }
                                function yo(e) {
                                    var t = eo(qd, e);
                                    return Lu(t) ? t : null;
                                }
                                function _o(e) {
                                    return g(Lu, M(yo, I(Ot(Hd, e))));
                                }
                                function So(e) {
                                    return R(function (e, t) {
                                        return e.then(function () {
                                            return Ie(xp, t), Ne({ remoteScript: t }), Tu(t);
                                        });
                                    }, Be(), e);
                                }
                                function To(e) {
                                    return e;
                                }
                                function Co(e, t) {
                                    return ke(pp, t), Ne({
                                        action: e,
                                        error: t
                                    }), e;
                                }
                                function wo(e, t) {
                                    var n, a = kt(t[sd]), r = bo(Pt(t[Zu])), i = _o(r);
                                    try {
                                        n = Be(e(a, r));
                                    } catch (o) {
                                        return Fe(Co(t, o));
                                    }
                                    return P(i) ? n.then(function () {
                                        return To(t);
                                    })['catch'](function (e) {
                                        return Co(t, e);
                                    }) : n.then(function () {
                                        return So(i);
                                    }).then(function () {
                                        return To(t);
                                    })['catch'](function (e) {
                                        return Co(t, e);
                                    });
                                }
                                function ko(e) {
                                    var t = Pt(e);
                                    return O('', R(function (e, t) {
                                        return e.push(an(Pt(t))), e;
                                    }, [], I(Ot(Gm, t))));
                                }
                                function Io(e) {
                                    var t = bu({}, e), n = t[Zu];
                                    if (E(n))
                                        return t;
                                    var a = kt(t[sd]);
                                    return Nt(Kd, a) && (t[Xu] = Id, t[Zu] = ko(n)), t;
                                }
                                function Po(e) {
                                    return e.indexOf('px') === e.length - 2 ? e : e + 'px';
                                }
                                function Do(e, t) {
                                    return nn(an(t), e);
                                }
                                function Eo(e) {
                                    return Ie(mp, e), wo(Do, e);
                                }
                                function Ao(e) {
                                    var t = kt(e[sd]), n = e[Zu];
                                    return Ie(mp, e), Ne({ action: e }), rn(n, t), Be(e);
                                }
                                function xo(e, t) {
                                    return en(an(t), e);
                                }
                                function No(e) {
                                    return Ie(mp, e), wo(xo, e);
                                }
                                function Oo(e, t) {
                                    return tn(an(t), e);
                                }
                                function Mo(e) {
                                    return Ie(mp, e), wo(Oo, e);
                                }
                                function Lo(e, t) {
                                    var n = xt(e);
                                    return Jt(Zt(an(t), e)), n;
                                }
                                function Ro(e) {
                                    return Ie(mp, e), wo(Lo, e);
                                }
                                function jo(e, t) {
                                    return Et(Zt(an(t), e));
                                }
                                function Vo(e) {
                                    return Ie(mp, e), wo(jo, e);
                                }
                                function Bo(e, t) {
                                    return At(Xt(an(t), e));
                                }
                                function Fo(e) {
                                    return Ie(mp, e), wo(Bo, e);
                                }
                                function Uo(e, t) {
                                    return xt(Zt(an(t), e));
                                }
                                function Ho(e) {
                                    return Ie(mp, e), wo(Uo, e);
                                }
                                function qo(e) {
                                    var t = e[Zu], n = kt(e[sd]);
                                    return Ie(mp, e), Ne({ action: e }), no(qd, n), to(qd, mo(t), n), Be(e);
                                }
                                function $o(e) {
                                    var t = e[Zu], n = kt(e[sd]);
                                    return Ie(mp, e), Ne({ action: e }), v(function (e, t) {
                                        return to(t, e, n);
                                    }, t), Be(e);
                                }
                                function Go(e, t, a) {
                                    v(function (n) {
                                        v(function (e, t) {
                                            return n.style.setProperty(t, e, a);
                                        }, t);
                                    }, I(e));
                                }
                                function Yo(e) {
                                    var t = kt(e[sd]), n = e[Zu], a = n[od];
                                    return Ie(mp, e), Ne({ action: e }), E(a) ? Zi(n, t) : Go(t, n, a), Be(e);
                                }
                                function Ko(e) {
                                    var t = kt(e[sd]), n = e[Zu];
                                    return n[td] = Po(n[td]), n[ed] = Po(n[ed]), Ie(mp, e), Ne({ action: e }), Zi(n, t), Be(e);
                                }
                                function Qo(e) {
                                    var t = kt(e[sd]), n = e[Zu];
                                    return n[nd] = Po(n[nd]), n[ad] = Po(n[ad]), Ie(mp, e), Ne({ action: e }), Zi(n, t), Be(e);
                                }
                                function zo(e) {
                                    var t = kt(e[sd]);
                                    return Ie(mp, e), Ne({ action: e }), Jt(t), Be(e);
                                }
                                function Wo(e) {
                                    var t = kt(e[sd]), n = e[Zu], a = n[rd], r = n[id], i = I(Mt(t)), o = i[a], s = i[r];
                                    return It(o) && It(s) ? (Ie(mp, e), Ne({ action: e }), a < r ? Xt(o, s) : Zt(o, s), Be(e)) : (Ie(kp, e), Fe(e));
                                }
                                function Jo(e) {
                                    var t = Io(e);
                                    switch (t[Xu]) {
                                    case ld:
                                        return Eo(t);
                                    case dd:
                                        return Ao(t);
                                    case Id:
                                        return No(t);
                                    case Dd:
                                        return Mo(t);
                                    case Ad:
                                        return Ro(t);
                                    case wd:
                                        return Vo(t);
                                    case kd:
                                        return Fo(t);
                                    case _d:
                                        return Ho(t);
                                    case fd:
                                        return $o(t);
                                    case hd:
                                        return qo(t);
                                    case gd:
                                        return Yo(t);
                                    case vd:
                                        return Ko(t);
                                    case bd:
                                        return Qo(t);
                                    case yd:
                                        return zo(t);
                                    case md:
                                        return Wo(t);
                                    default:
                                        return Be(t);
                                    }
                                }
                                function Xo(e) {
                                    return e[Xu] === Td || e[Xu] === Cd;
                                }
                                function Zo(e) {
                                    var t = e[sd];
                                    return Lu(t) || St(t);
                                }
                                function es(e) {
                                    var t = e.key;
                                    if (!E(t) && Zo(e)) {
                                        var n = e[sd];
                                        to(Ym, t, n);
                                    }
                                }
                                function ts(e) {
                                    var t = e[cd];
                                    E(t) || vn(t);
                                }
                                function ns(e) {
                                    if (Zo(e)) {
                                        var t = e[sd];
                                        Xo(e) ? Xi(Zp, t) : (Xi(Xp, t), ts(e));
                                    } else
                                        ts(e);
                                }
                                function as(e) {
                                    v(ns, e);
                                }
                                function rs(e) {
                                    var t = e.key;
                                    if (E(t))
                                        return !0;
                                    if (e[Xu] === _d)
                                        return e[Gf];
                                    var n = e[sd], a = eo(Ym, n);
                                    return a !== t || a === t && !e[Gf];
                                }
                                function is(n) {
                                    return rs(n) ? Jo(n).then(function () {
                                        return Ie(gp, n), Ne({ action: n }), es(n), ns(n), n;
                                    })['catch'](function (e) {
                                        ke(pp, e), Ne({
                                            action: n,
                                            error: e
                                        }), ns(n);
                                        var t = bu({}, n);
                                        return t[Np] = !0, t;
                                    }) : (ns(n), n);
                                }
                                function os(e) {
                                    var t = g(function (e) {
                                        return !0 === e[Np];
                                    }, e);
                                    return P(t) ? Be() : (as(t), Fe(e));
                                }
                                function ss(t) {
                                    return uo(t[sd]).then(function () {
                                        return t;
                                    })['catch'](function () {
                                        var e = bu({}, t);
                                        return e[Np] = !0, e;
                                    });
                                }
                                function cs(e) {
                                    return ss(e).then(is);
                                }
                                function ls(e) {
                                    return He(M(cs, e)).then(os);
                                }
                                function us(e, t, n) {
                                    return kt(n).on(e, t);
                                }
                                function ds(e, t, n) {
                                    return kt(n).off(e, t);
                                }
                                function ps(e) {
                                    return uo(e[sd]).then(function () {
                                        return Ne({ metric: e }), bu({ found: !0 }, e);
                                    })['catch'](function () {
                                        return ke(Km, e), Ne({
                                            metric: e,
                                            message: Km
                                        }), e;
                                    });
                                }
                                function fs(e) {
                                    var t = e.name, n = Hn(Kf) || {};
                                    n[t] = e, Un(Kf, n);
                                }
                                function hs(e, t) {
                                    var n = 1 < arguments.length && t !== undefined ? arguments[1] : {}, a = n.page, r = void 0 === a || a, i = (Hn(Kf) || {})[e];
                                    if (h(i))
                                        return i;
                                    var o = n.impressionId;
                                    return h(o) ? i : bu({
                                        page: r,
                                        impressionId: o
                                    }, i);
                                }
                                function gs(e) {
                                    v(fs, e);
                                }
                                function ms(e, t, n) {
                                    return e[Qm][zm](t, n);
                                }
                                function vs(e, t, n) {
                                    var a = {};
                                    a[Xf] = [Zf];
                                    var r = {};
                                    r[Nm] = xm, r[Om] = t, r[Lm] = n, r[Rm] = !0, r[Vm] = !1, r[Mm] = a;
                                    try {
                                        e(r);
                                    } catch (i) {
                                        return !1;
                                    }
                                    return !0;
                                }
                                function bs(e) {
                                    return Qm in e && zm in e[Qm];
                                }
                                function ys(e, t) {
                                    return bs(window) ? ms(window, e, t) : vs(Kr, e, t);
                                }
                                function _s(e) {
                                    var t = pr(e, {}), n = { context: { beacon: !0 } };
                                    if (!P(t)) {
                                        var a = {};
                                        a.analytics = t, n.experienceCloud = a;
                                    }
                                    return n;
                                }
                                function Ss(e, t, n) {
                                    var a = mr(_s(e), t);
                                    return a.notifications = n, a;
                                }
                                function Ts(e, t, n) {
                                    return gr(_s(e), t).then(function (e) {
                                        return e.notifications = n, e;
                                    });
                                }
                                function Cs(e, t, n) {
                                    var a = {
                                        id: F(),
                                        type: t,
                                        timestamp: L(),
                                        parameters: e.parameters,
                                        profileParameters: e.profileParameters,
                                        order: e.order,
                                        product: e.product
                                    };
                                    return P(n) || (a.tokens = n), a;
                                }
                                function ws(e, t, n) {
                                    var a = e.name, r = e.state, i = Cs(e, t, n);
                                    return i.mbox = {
                                        name: a,
                                        state: r
                                    }, i;
                                }
                                function ks(e, t, n) {
                                    var a = e.name, r = e.state, i = Cs(e, t, n);
                                    return i.view = {
                                        name: a,
                                        state: r
                                    }, i;
                                }
                                function Is(e) {
                                    var t = yr(nt());
                                    return ys(t, JSON.stringify(e)) ? (Ie(Wm, t, e), !0) : (ke(Jm, t, e), !1);
                                }
                                function Ps(e, t, n) {
                                    var a = da(nt()[of]), r = Cs(sr({}, a), t, [n]), i = Ss(F(), a, [r]);
                                    Ie(tv, e, r), Ne({
                                        source: e,
                                        event: t,
                                        request: i
                                    }), Is(i);
                                }
                                function Ds(e, t, n) {
                                    var a = da(e), r = Cs(sr({}, a), t, [n]);
                                    r.mbox = { name: e };
                                    var i = Ss(F(), a, [r]);
                                    Ie(nv, e, r), Ne({
                                        mbox: e,
                                        event: t,
                                        request: i
                                    }), Is(i);
                                }
                                function Es(e) {
                                    var t = nt()[of], i = [], o = Jf;
                                    if (v(function (e) {
                                            var t = e.mbox, n = e.data;
                                            if (!h(n)) {
                                                var a = n.eventTokens, r = void 0 === a ? [] : a;
                                                P(r) || i.push(ws(t, o, r));
                                            }
                                        }, e), !P(i)) {
                                        var n = Ss(t, {}, i);
                                        Ie(ev, i), Ne({
                                            source: rv,
                                            event: iv,
                                            request: n
                                        }), Is(n);
                                    }
                                }
                                function As(e, t, n) {
                                    var a = da(nt()[of]), r = Cs(sr({}, a), t, [n]);
                                    r.view = { name: e };
                                    var i = Ss(F(), a, [r]);
                                    Ie(av, e, r), Ne({
                                        view: e,
                                        event: t,
                                        request: i
                                    }), Is(i);
                                }
                                function xs(e) {
                                    var t = e.viewName, n = e.impressionId, a = da(nt()[of]), r = Cs(sr({}, a), Jf, []);
                                    r.view = { name: t }, Ie(Xm, t), Ts(t, a, [r]).then(function (e) {
                                        e.impressionId = n, Ne({
                                            view: t,
                                            event: ov,
                                            request: e
                                        }), Is(e);
                                    });
                                }
                                function Ns(e) {
                                    if (!h(e)) {
                                        var t = e.view, n = e.data, a = (void 0 === n ? {} : n).eventTokens, r = void 0 === a ? [] : a;
                                        if (!P(r)) {
                                            var i = t.name, o = t.impressionId, s = hs(i);
                                            if (!h(s)) {
                                                var c = Ss(i, {}, [ks(s, Jf, r)]);
                                                c.impressionId = o, Ie(Zm, i, r), Ne({
                                                    view: i,
                                                    event: iv,
                                                    request: c
                                                }), Is(c);
                                            }
                                        }
                                    }
                                }
                                function Os(e, t) {
                                    e === Yd && Xi(Zp, t);
                                }
                                function Ms(e, t) {
                                    return !h(sv[e]) && !h(sv[e][t]);
                                }
                                function Ls(e, a, r) {
                                    if (h(sv[e])) {
                                        var t = u(sv);
                                        P(t) || v(function (n) {
                                            v(function (e) {
                                                var t = sv[n][e];
                                                ds(a, t, r);
                                            }, u(sv[n])), delete sv[n];
                                        }, t);
                                    }
                                }
                                function Rs(e, t, n) {
                                    sv[e] = sv[e] || {}, sv[e][t] = n;
                                }
                                function js(e, t, n, a) {
                                    var r = n.type, i = n.selector, o = n.eventToken, s = _(r + ':' + i + ':' + o), c = function c() {
                                            return a(e, r, o);
                                        };
                                    Os(r, i), t ? Ms(e, s) || (Ls(e, r, i), Rs(e, s, c), us(r, c, i)) : us(r, c, i);
                                }
                                function Vs(t, n, e, a) {
                                    return He(M(ps, e)).then(function (e) {
                                        return v(function (e) {
                                            return js(t, n, e, a);
                                        }, g(function (e) {
                                            return e.found;
                                        }, e)), dv();
                                    })['catch'](pv);
                                }
                                function Bs(e) {
                                    return Vs(e.name, !1, uv(e), Ds);
                                }
                                function Fs(e) {
                                    return Vs(e.name, !0, uv(e), As);
                                }
                                function Us(e) {
                                    return Vs(cv, !1, uv(e), Ps);
                                }
                                function Hs(e) {
                                    return Vs(lv, !1, uv(e), Ps);
                                }
                                function qs(e) {
                                    var t = M(hv, e);
                                    gn(hm(t));
                                }
                                function $s(e) {
                                    var t = M(hv, e);
                                    mn(fm(t));
                                }
                                function Gs(e) {
                                    var t = g(dm, gm(e));
                                    return m(M(fv, t));
                                }
                                function Ys(e) {
                                    return d(e) && e.type !== pd;
                                }
                                function Ks(e, t, n) {
                                    return M(function (e) {
                                        return bu({
                                            key: t,
                                            page: n
                                        }, e);
                                    }, g(Ys, e));
                                }
                                function Qs(e, t, n) {
                                    var a = e.eventToken;
                                    return ls(Ks(e.content, t, n)).then(function () {
                                        return gv(a);
                                    })['catch'](mv);
                                }
                                function zs(e) {
                                    return d(e) && e.type !== Bd;
                                }
                                function Ws(e, t) {
                                    return M(e, g(zs, gm(t)));
                                }
                                function Js(e, t, n) {
                                    var a = s({ status: Rp }, e, t), r = M(wm, g(um, n)), i = {};
                                    return P(r) || (a.status = Np, i.errors = r), P(i) || (a.data = i), a;
                                }
                                function Xs(e, t, n) {
                                    var a = s({ status: Rp }, e, t), r = M(wm, g(um, n)), i = M(wm, g(vv, n)), o = {};
                                    return P(r) || (a.status = Np, o.errors = r), P(i) || (o.eventTokens = i), P(o) || (a.data = o), a;
                                }
                                function Zs(t, e, n) {
                                    var a = function a(e) {
                                        return Qs(e, !0);
                                    };
                                    return He(Ws(a, t)).then(e).then(function (e) {
                                        return n(t), e;
                                    });
                                }
                                function ec(t, n, a, r) {
                                    var i = n.name, o = function o(e) {
                                            return Qs(e, i, a);
                                        };
                                    return He(Ws(o, n)).then(function (e) {
                                        return Xs(t, n, e);
                                    }).then(function (e) {
                                        return r(n), e;
                                    });
                                }
                                function tc(t) {
                                    var n = function n(e) {
                                        return Js(Bp, t, e);
                                    };
                                    return Zs(t, n, Bs);
                                }
                                function nc(e) {
                                    return ec(Bp, e, !0, Bs);
                                }
                                function ac(e) {
                                    qs(Gs(e));
                                }
                                function rc(e, t) {
                                    if (!(1 < arguments.length && t !== undefined && arguments[1])) {
                                        var n = e.execute, a = (void 0 === n ? {} : n).pageLoad, r = void 0 === a ? {} : a;
                                        P(r) || ac(r);
                                    }
                                }
                                function ic(e) {
                                    var t = e.prefetch, n = (void 0 === t ? {} : t).views, a = void 0 === n ? [] : n;
                                    P(a) || $s(m(M(Gs, a)));
                                }
                                function oc(e) {
                                    qs(Gs(e)), bn();
                                }
                                function sc(t) {
                                    var n = function n(e) {
                                        return Js(Wp, t, e);
                                    };
                                    return Zs(t, n, Us);
                                }
                                function cc(e) {
                                    return He(M(tc, e));
                                }
                                function lc(e) {
                                    return He(M(nc, e));
                                }
                                function uc(e) {
                                    return He([Hs(e)]).then(Js);
                                }
                                function dc(e) {
                                    var t = e.page;
                                    return ec(Yf, e, t, Fs);
                                }
                                function pc() {
                                }
                                function fc() {
                                    return new bv();
                                }
                                function hc(e, t, n) {
                                    e.emit(t, n);
                                }
                                function gc(e, t, n) {
                                    e.on(t, n);
                                }
                                function mc(e, t) {
                                    hc(_v, e, t);
                                }
                                function vc(e, t) {
                                    gc(_v, e, t);
                                }
                                function bc(e) {
                                    return {
                                        type: Sd,
                                        content: e.url
                                    };
                                }
                                function yc(e) {
                                    var t = {};
                                    return t.type = ld, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function _c(e) {
                                    var t = {};
                                    return t.type = dd, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Sc(e) {
                                    var t = {};
                                    return t.type = Id, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Tc(e) {
                                    var t = {};
                                    return t.type = Dd, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Cc(e) {
                                    var t = {};
                                    return t.type = Ad, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function wc(e) {
                                    var t = {};
                                    return t.type = wd, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function kc(e) {
                                    var t = {};
                                    return t.type = kd, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Ic(e) {
                                    var t = {};
                                    return t.type = _d, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Pc(e) {
                                    var t = {};
                                    if (t.selector = e.selector, t.cssSelector = e.cssSelector, e.attribute === qd)
                                        return t.type = hd, t.content = e.value, t;
                                    t.type = fd;
                                    var n = {};
                                    return n[e.attribute] = e.value, t.content = n, t;
                                }
                                function Dc(e) {
                                    var t = e.style, n = void 0 === t ? {} : t, a = {};
                                    return a.selector = e.selector, a.cssSelector = e.cssSelector, h(n.left) || h(n.top) ? h(n.width) || h(n.height) ? a.type = gd : a.type = vd : a.type = bd, a.content = n, a;
                                }
                                function Ec(e) {
                                    var t = {};
                                    return t.type = yd, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Ac(e) {
                                    var t = {};
                                    t.from = e.from, t.to = e.to;
                                    var n = {};
                                    return n.type = md, n.selector = e.selector, n.cssSelector = e.cssSelector, n.content = t, n;
                                }
                                function xc(e) {
                                    return Lu(e.selector) && Lu(e.cssSelector);
                                }
                                function Nc(e) {
                                    var t = {};
                                    if (P(e))
                                        return t;
                                    var n = [], a = [], r = [];
                                    v(function (e) {
                                        switch (e.action) {
                                        case ud:
                                            xc(e) ? r.push(yc(e)) : n.push({
                                                type: Fd,
                                                content: e.content
                                            });
                                            break;
                                        case pd:
                                            P(e.content) || v(function (e) {
                                                return n.push({
                                                    type: Bd,
                                                    content: e
                                                });
                                            }, e.content);
                                            break;
                                        case dd:
                                            r.push(_c(e));
                                            break;
                                        case Pd:
                                            r.push(Sc(e));
                                            break;
                                        case Ed:
                                            r.push(Tc(e));
                                            break;
                                        case xd:
                                            r.push(Cc(e));
                                            break;
                                        case wd:
                                            r.push(wc(e));
                                            break;
                                        case kd:
                                            r.push(kc(e));
                                            break;
                                        case _d:
                                            r.push(Ic(e));
                                            break;
                                        case fd:
                                            r.push(Pc(e));
                                            break;
                                        case gd:
                                            r.push(Dc(e));
                                            break;
                                        case yd:
                                            r.push(Ec(e));
                                            break;
                                        case md:
                                            r.push(Ac(e));
                                            break;
                                        case Sd:
                                            n.push(bc(e));
                                            break;
                                        case Td:
                                            a.push({
                                                type: Yd,
                                                selector: e.selector,
                                                eventToken: e.clickTrackId
                                            });
                                        }
                                    }, e);
                                    var i = {};
                                    if (!P(r) && n.push({
                                            type: $p,
                                            content: r
                                        }), !P(n) && (i.options = n), !P(a) && (i.metrics = a), P(i))
                                        return t;
                                    var o = {};
                                    return o.pageLoad = i, t.execute = o, t;
                                }
                                function Oc(e, t) {
                                    var n = {};
                                    if (P(t))
                                        return n;
                                    var a = [], r = [];
                                    v(function (e) {
                                        switch (e.action) {
                                        case ud:
                                            a.push({
                                                type: Fd,
                                                content: e.content
                                            });
                                            break;
                                        case pd:
                                            P(e.content) || v(function (e) {
                                                return a.push({
                                                    type: Bd,
                                                    content: e
                                                });
                                            }, e.content);
                                            break;
                                        case Sd:
                                            a.push(bc(e));
                                            break;
                                        case Cd:
                                            r.push({
                                                type: Yd,
                                                eventToken: e.clickTrackId
                                            });
                                        }
                                    }, t);
                                    var i = { name: e };
                                    if (!P(a) && (i.options = a), !P(r) && (i.metrics = r), P(i))
                                        return n;
                                    var o = {}, s = [i];
                                    return o.mboxes = s, n.execute = o, n;
                                }
                                function Mc(e, t, n) {
                                    return n ? Nc(t) : Oc(e, t);
                                }
                                function Lc(e) {
                                    var t = e.status, n = e.data, a = {
                                            status: t,
                                            pageLoad: !0
                                        };
                                    return h(n) || (a.data = n), a;
                                }
                                function Rc(e) {
                                    var t = e.status, n = e.mbox, a = e.data, r = {
                                            status: t,
                                            mbox: n.name
                                        };
                                    return h(a) || (r.data = a), r;
                                }
                                function jc(e) {
                                    var t = e.status, n = e.view, a = e.data, r = {
                                            status: t,
                                            view: n.name
                                        };
                                    return h(a) || (r.data = a), r;
                                }
                                function Vc(e) {
                                    var t = e.status, n = e.data, a = {
                                            status: t,
                                            prefetchMetrics: !0
                                        };
                                    return h(n) || (a.data = n), a;
                                }
                                function Bc(e) {
                                    if (h(e))
                                        return [null];
                                    var t = M(Lc, [e]);
                                    return kv(t) && ke(Sv, e), t;
                                }
                                function Fc(e) {
                                    if (h(e))
                                        return [null];
                                    var t = M(Rc, e);
                                    return kv(t) && ke(Tv, e), t;
                                }
                                function Uc(e, t) {
                                    var n = 1 < arguments.length && t !== undefined ? arguments[1] : Es;
                                    if (h(e))
                                        return [null];
                                    var a = M(Rc, e);
                                    return kv(a) && ke(Tv, e), n(e), a;
                                }
                                function Hc(e, t) {
                                    var n = 1 < arguments.length && t !== undefined ? arguments[1] : Ns;
                                    if (h(e))
                                        return [null];
                                    var a = M(jc, [e]);
                                    return kv(a) && ke(Cv, e), e.view.page && n(e), a;
                                }
                                function qc(e) {
                                    if (h(e))
                                        return [null];
                                    var t = M(Vc, [e]);
                                    return kv(t) && ke(wv, e), t;
                                }
                                function $c(e) {
                                    var t = m([
                                            Bc(e[0]),
                                            Fc(e[1]),
                                            Uc(e[2]),
                                            qc(e[3])
                                        ]), n = g(sm, t), a = g(um, n);
                                    return P(a) ? Be(n) : Fe(a);
                                }
                                function Gc(e) {
                                    return Fe(e);
                                }
                                function Yc(a, e) {
                                    if (!P(e)) {
                                        var t = e.options;
                                        P(t) || v(function (e) {
                                            if (e.type === Fd) {
                                                var t = ld, n = e.content;
                                                e.type = $p, e.content = [{
                                                        type: t,
                                                        selector: a,
                                                        content: n
                                                    }];
                                            }
                                        }, t);
                                    }
                                }
                                function Kc(t, e) {
                                    var n = e.metrics;
                                    if (!P(n)) {
                                        var a = e.name;
                                        v(function (e) {
                                            e.name = a, e.selector = e.selector || t;
                                        }, n);
                                    }
                                }
                                function Qc(t, e) {
                                    var n = bu({}, e), a = n.execute, r = void 0 === a ? {} : a, i = n.prefetch, o = void 0 === i ? {} : i, s = r.pageLoad, c = void 0 === s ? {} : s, l = r.mboxes, u = void 0 === l ? [] : l, d = o.mboxes, p = void 0 === d ? [] : d;
                                    return Yc(t, c), v(function (e) {
                                        return Yc(t, e);
                                    }, u), v(function (e) {
                                        return Kc(t, e);
                                    }, u), v(function (e) {
                                        return Yc(t, e);
                                    }, p), v(function (e) {
                                        return Kc(t, e);
                                    }, p), n;
                                }
                                function zc(e) {
                                    var t = e.prefetch, n = (void 0 === t ? {} : t).views, a = void 0 === n ? [] : n;
                                    P(a) || gs(a);
                                }
                                function Wc(e) {
                                    var t = [], n = e.execute, a = void 0 === n ? {} : n, r = a.pageLoad, i = void 0 === r ? {} : r, o = a.mboxes, s = void 0 === o ? [] : o;
                                    P(i) ? t.push(Be(null)) : t.push(sc(i)), P(s) ? t.push(Be(null)) : t.push(cc(s));
                                    var c = e.prefetch, l = void 0 === c ? {} : c, u = l.mboxes, d = void 0 === u ? [] : u, p = l.metrics, f = void 0 === p ? [] : p;
                                    return P(d) ? t.push(Be(null)) : t.push(lc(d)), Cu(f) && !P(f) ? t.push(uc(l)) : t.push(Be(null)), hn(), He(t).then($c)['catch'](Gc);
                                }
                                function Jc(e, t) {
                                    U(function () {
                                        return e.location.replace(t);
                                    });
                                }
                                function Xc(e) {
                                    return Lu(e) ? e : St(e) ? e : Kd;
                                }
                                function Zc(e) {
                                    Xi(Xp, e);
                                }
                                function el(e) {
                                    var t = e.mbox, n = e.selector, a = e.offer, r = nt(), i = t === r[of];
                                    if (P(a))
                                        return Ie(Ep), Zc(n), hn(), void yt({ mbox: t });
                                    var o = Qc(n, Mc(t, a, i)), s = Ti(o);
                                    if (!P(s)) {
                                        var c = s.url;
                                        return Ie(Ap, s), _t({ url: c }), void Jc(window, c);
                                    }
                                    mt({ mbox: t }), rc(o), Wc(o).then(function (e) {
                                        P(e) || vt({
                                            mbox: t,
                                            execution: e
                                        });
                                    })['catch'](function (e) {
                                        return bt({ error: e });
                                    });
                                }
                                function tl(e, t) {
                                    var n = 1 < arguments.length && t !== undefined && arguments[1], a = e.selector, r = e.response;
                                    if (P(r))
                                        return Ie(Ep), Zc(a), hn(), yt({}), mc(yh), Be();
                                    var i = Qc(a, r), o = Ti(i);
                                    if (P(o))
                                        return mt({}), zc(i), mc(bh), rc(i, n), Wc(i).then(function (e) {
                                            P(e) || vt({ execution: e });
                                        })['catch'](function (e) {
                                            return bt({ error: e });
                                        });
                                    var s = o.url;
                                    return Ie(Ap, o), _t({ url: s }), mc(_h), Jc(window, s), Be();
                                }
                                function nl(e) {
                                    var t = e[gh];
                                    if (P(t))
                                        return !1;
                                    var n = t.request, a = t.response;
                                    return !P(n) && !P(a);
                                }
                                function al(e) {
                                    return e[gh];
                                }
                                function rl(e) {
                                    ke(Iv, th, e), Ne({
                                        source: Iv,
                                        error: e
                                    }), hn();
                                }
                                function il(e, t) {
                                    var n = 1 < arguments.length && t !== undefined && arguments[1], a = {
                                            selector: Kd,
                                            response: e
                                        };
                                    Ie(Iv, Kp, e), Ne({
                                        source: Iv,
                                        response: e
                                    }), tl(a, n)['catch'](rl);
                                }
                                function ol(e, t) {
                                    var n = bu({}, t), a = n.execute, r = n.prefetch, i = e[Ff], o = e[Bf];
                                    return a && (n.execute.mboxes = null), a && !i && (n.execute.pageLoad = null), r && (n.prefetch.mboxes = null), r && !o && (n.prefetch.views = null), n;
                                }
                                function sl(e) {
                                    var t = al(e), n = t.request, a = t.response, r = !0;
                                    Ie(Iv, rh), Ne({
                                        source: Iv,
                                        serverState: t
                                    });
                                    var i = ol(e, a);
                                    rc(i), ic(i), qi({
                                        request: n,
                                        response: i
                                    }).then(function (e) {
                                        return il(e, r);
                                    })['catch'](rl);
                                }
                                function cl() {
                                    if (!ye())
                                        return ke(Iv, Zd), void Ne({
                                            source: Iv,
                                            error: Zd
                                        });
                                    var e = nt();
                                    if (nl(e))
                                        sl(e);
                                    else {
                                        var t = e[Ff], n = e[Bf];
                                        if (!t && !n)
                                            return Ie(Iv, ah), void Ne({
                                                source: Iv,
                                                error: ah
                                            });
                                        fn();
                                        var a = {};
                                        if (t) {
                                            var r = { pageLoad: {} };
                                            a.execute = r;
                                        }
                                        if (n) {
                                            var i = { views: [{}] };
                                            a.prefetch = i;
                                        }
                                        var o = e[rf];
                                        Ie(Iv, Qp, a), Ne({
                                            source: Iv,
                                            request: a
                                        });
                                        var s = {
                                            request: a,
                                            timeout: o
                                        };
                                        Qe() && !ze() ? Je().then(function () {
                                            Ji(s).then(il)['catch'](rl);
                                        })['catch'](rl) : Ji(s).then(il)['catch'](rl);
                                    }
                                }
                                function ll() {
                                    var e = {};
                                    return e[Lp] = !0, e;
                                }
                                function ul(e) {
                                    var t = {};
                                    return t[Lp] = !1, t[Np] = e, t;
                                }
                                function dl(e) {
                                    return E(e) ? ul(sp) : e.length > jd ? ul(cp) : ll();
                                }
                                function pl(e) {
                                    if (!d(e))
                                        return ul(tp);
                                    var t = dl(e[Bp]);
                                    return t[Lp] ? c(e[Rp]) ? c(e[Np]) ? ll() : ul(up) : ul(lp) : t;
                                }
                                function fl(e) {
                                    if (!d(e))
                                        return ul(tp);
                                    var t = e.request;
                                    if (!d(t))
                                        return ul(np);
                                    var n = t.execute, a = t.prefetch;
                                    return d(n) || d(a) ? ll() : ul(rp);
                                }
                                function hl(e) {
                                    if (!d(e))
                                        return ul(tp);
                                    var t = e.request;
                                    if (!d(t))
                                        return ul(np);
                                    var n = t.execute, a = t.prefetch, r = t.notifications;
                                    return d(n) || d(a) ? ul(ip) : Cu(r) ? ll() : ul(op);
                                }
                                function gl(e) {
                                    if (!d(e))
                                        return ul(tp);
                                    var t = dl(e[Bp]);
                                    if (!t[Lp])
                                        return t;
                                    var n = e[Fp];
                                    return Cu(n) ? ll() : ul(dp);
                                }
                                function ml(e) {
                                    return d(e) ? d(e.response) ? ll() : ul(ap) : ul(tp);
                                }
                                function vl(e) {
                                    if (!d(e))
                                        return ul(tp);
                                    var t = dl(e[Bp]);
                                    return t[Lp] ? ll() : t;
                                }
                                function bl(e) {
                                    return {
                                        action: Sd,
                                        url: e.content
                                    };
                                }
                                function yl(e) {
                                    var t = {};
                                    return t.action = ud, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function _l(e) {
                                    var t = {};
                                    return t.action = dd, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Sl(e) {
                                    var t = {};
                                    return t.action = Pd, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Tl(e) {
                                    var t = {};
                                    return t.action = Ed, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Cl(e) {
                                    var t = {};
                                    return t.action = xd, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function wl(e) {
                                    var t = {};
                                    return t.action = wd, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function kl(e) {
                                    var t = {};
                                    return t.action = kd, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Il(e) {
                                    var t = {};
                                    return t.action = _d, t.content = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Pl(e) {
                                    var t = u(e.content)[0], n = {};
                                    return n.action = fd, n.attribute = t, n.value = e.content[t], n.selector = e.selector, n.cssSelector = e.cssSelector, n;
                                }
                                function Dl(e) {
                                    var t = {};
                                    return t.action = fd, t.attribute = qd, t.value = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function El(e) {
                                    var t = {};
                                    return t.action = gd, t.style = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Al(e) {
                                    var t = {};
                                    return t.action = gd, t.style = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function xl(e) {
                                    var t = {};
                                    return t.action = gd, t.style = e.content, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Nl(e) {
                                    var t = {};
                                    return t.action = yd, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Ol(e) {
                                    var t = {};
                                    return t.action = md, t.from = e.content.from, t.to = e.content.to, t.selector = e.selector, t.cssSelector = e.cssSelector, t;
                                }
                                function Ml(e) {
                                    var t = [];
                                    return v(function (e) {
                                        switch (e.type) {
                                        case ld:
                                            t.push(yl(e));
                                            break;
                                        case dd:
                                            t.push(_l(e));
                                            break;
                                        case Id:
                                            t.push(Sl(e));
                                            break;
                                        case Dd:
                                            t.push(Tl(e));
                                            break;
                                        case Ad:
                                            t.push(Cl(e));
                                            break;
                                        case wd:
                                            t.push(wl(e));
                                            break;
                                        case kd:
                                            t.push(kl(e));
                                            break;
                                        case _d:
                                            t.push(Il(e));
                                            break;
                                        case fd:
                                            t.push(Pl(e));
                                            break;
                                        case hd:
                                            t.push(Dl(e));
                                            break;
                                        case gd:
                                            t.push(El(e));
                                            break;
                                        case vd:
                                            t.push(Al(e));
                                            break;
                                        case bd:
                                            t.push(xl(e));
                                            break;
                                        case yd:
                                            t.push(Nl(e));
                                            break;
                                        case md:
                                            t.push(Ol(e));
                                            break;
                                        case Sd:
                                            t.push(bl(e));
                                        }
                                    }, e), t;
                                }
                                function Ll(e) {
                                    if (P(e))
                                        return [];
                                    var t = [];
                                    return v(function (e) {
                                        e.type === Yd && (Cm(e) ? t.push({
                                            action: Td,
                                            selector: e.selector,
                                            clickTrackId: e.eventToken
                                        }) : t.push({
                                            action: Cd,
                                            clickTrackId: e.eventToken
                                        }));
                                    }, e), t;
                                }
                                function Rl(e) {
                                    if (P(e))
                                        return [];
                                    var t = [], n = [], a = [], r = e.options, i = void 0 === r ? [] : r, o = e.metrics, s = void 0 === o ? [] : o;
                                    v(function (e) {
                                        switch (e.type) {
                                        case Fd:
                                            t.push(e.content);
                                            break;
                                        case Bd:
                                            n.push(e.content);
                                            break;
                                        case Sd:
                                            a.push(bl(e));
                                            break;
                                        case $p:
                                            a.push.apply(a, Ml(e.content));
                                        }
                                    }, i), P(t) || a.push({
                                        action: ud,
                                        content: t.join('')
                                    }), P(n) || a.push({
                                        action: pd,
                                        content: n
                                    });
                                    var c = Ll(s);
                                    return P(c) || a.push.apply(a, c), a;
                                }
                                function jl(e) {
                                    var t = e.execute, n = void 0 === t ? {} : t, a = n.pageLoad, r = void 0 === a ? {} : a, i = n.mboxes, o = void 0 === i ? [] : i, s = [];
                                    return s.push.apply(s, Rl(r)), s.push.apply(s, m(M(Rl, o))), s;
                                }
                                function Vl(e, t) {
                                    var n = jl(t);
                                    e[Rp](n);
                                }
                                function Bl(e, t) {
                                    var n = t[Hp] || Mp;
                                    e[Np](n, t);
                                }
                                function Fl(t) {
                                    var e = pl(t), n = e[Np];
                                    if (!e[Lp])
                                        return ke(Pv, n), void Ne({
                                            source: Pv,
                                            options: t,
                                            error: n
                                        });
                                    if (!ye())
                                        return U(t[Np](Op, Zd)), ke(Pv, Zd), void Ne({
                                            source: Pv,
                                            options: t,
                                            error: Zd
                                        });
                                    var a = function a(e) {
                                            return Vl(t, e);
                                        }, r = function r(e) {
                                            return Bl(t, e);
                                        };
                                    Ie(Pv, t), Ne({
                                        source: Pv,
                                        options: t
                                    }), Qe() && !ze() ? Je().then(function () {
                                        Wi(t).then(a)['catch'](r);
                                    }) : Wi(t).then(a)['catch'](r);
                                }
                                function Ul(e) {
                                    var t = fl(e), n = t[Np];
                                    return t[Lp] ? ye() ? (Ie(Dv, e), Ne({
                                        source: Dv,
                                        options: e
                                    }), !Qe() || ze() ? Ji(e) : Je().then(function () {
                                        return Ji(e);
                                    })) : (ke(Dv, Zd), Ne({
                                        source: Dv,
                                        options: e,
                                        error: Zd
                                    }), Fe(new Error(Zd))) : (ke(Dv, n), Ne({
                                        source: Dv,
                                        options: e,
                                        error: n
                                    }), Fe(t));
                                }
                                function Hl(e) {
                                    var t = Xc(e.selector), n = gl(e), a = n[Np];
                                    return n[Lp] ? ye() ? (e.selector = t, Ie(Ev, e), Ne({
                                        source: Ev,
                                        options: e
                                    }), void el(e)) : (ke(Ev, Zd), Ne({
                                        source: Ev,
                                        options: e,
                                        error: Zd
                                    }), void Zc(t)) : (ke(Ev, e, a), Ne({
                                        source: Ev,
                                        options: e,
                                        error: a
                                    }), void Zc(t));
                                }
                                function ql(e) {
                                    var t = Xc(e.selector), n = ml(e), a = n[Np];
                                    return n[Lp] ? ye() ? (e.selector = t, Ie(Av, e), Ne({
                                        source: Av,
                                        options: e
                                    }), tl(e)) : (ke(Av, Zd), Ne({
                                        source: Av,
                                        options: e,
                                        error: Zd
                                    }), Zc(t), Fe(new Error(Zd))) : (ke(Av, e, a), Ne({
                                        source: Av,
                                        options: e,
                                        error: a
                                    }), Zc(t), Fe(n));
                                }
                                function $l(e) {
                                    var t = nt()[of], n = e.consumerId, a = void 0 === n ? t : n, r = e.request, i = hl(e), o = i[Np];
                                    if (!i[Lp])
                                        return ke(xv, o), void Ne({
                                            source: xv,
                                            options: e,
                                            error: o
                                        });
                                    if (!ye())
                                        return ke(xv, Zd), void Ne({
                                            source: xv,
                                            options: e,
                                            error: Zd
                                        });
                                    Ie(xv, e), Ne({
                                        source: xv,
                                        options: e
                                    });
                                    var s = Ss(a, {}, r.notifications);
                                    !Qe() || ze() ? Is(s) : ke(xv, fh);
                                }
                                function Gl(e, t) {
                                    var n = t[Bp], a = bu({}, t), r = d(t.params) ? t.params : {};
                                    return a[qp] = bu({}, da(n), r), a[rf] = vr(e, t[rf]), a[Rp] = c(t[Rp]) ? t[Rp] : Qu, a[Np] = c(t[Np]) ? t[Np] : Qu, a;
                                }
                                function Yl(e) {
                                    var t = e[Xu], n = e[sd];
                                    return Lu(t) && (Lu(n) || St(n));
                                }
                                function Kl(e) {
                                    var t = e.mbox, n = d(e.params) ? e.params : {}, a = bu({}, da(t), n), r = Jf, i = Cs(sr({}, a), r, []);
                                    if (i.mbox = { name: t }, Is(Ss(t, a, [i])))
                                        return Ie(Pp, e), void e[Rp]();
                                    ke(Dp, e), e[Np](Mp, Dp);
                                }
                                function Ql(e) {
                                    if (Qe() && !ze())
                                        return ke(Dp, fh), void e[Np](Np, fh);
                                    Kl(e);
                                }
                                function zl(e) {
                                    return Ql(e), !e.preventDefault;
                                }
                                function Wl(e) {
                                    var t = e[sd], n = e[Xu], a = I(kt(t)), r = function r() {
                                            return zl(e);
                                        };
                                    v(function (e) {
                                        return us(n, r, e);
                                    }, a);
                                }
                                function Jl(e) {
                                    var t = vl(e), n = t[Np];
                                    if (!t[Lp])
                                        return ke(Nv, n), void Ne({
                                            source: Nv,
                                            options: e,
                                            error: n
                                        });
                                    var a = Gl(nt(), e);
                                    if (!ye())
                                        return ke(Nv, Zd), U(a[Np](Op, Zd)), void Ne({
                                            source: Nv,
                                            options: e,
                                            error: Zd
                                        });
                                    Ie(Nv, a), Ne({
                                        source: Nv,
                                        options: a
                                    }), Yl(a) ? Wl(a) : Ql(a);
                                }
                                function Xl(e) {
                                    return oc(e), dc(e).then(Hc).then(function (e) {
                                        P(e) || vt({ execution: e });
                                    })['catch'](function (e) {
                                        ke(eh, e), bt({ error: e });
                                    });
                                }
                                function Zl() {
                                    for (; 0 < Mv.length;) {
                                        var e = Mv.pop(), t = hs(e.viewName, e);
                                        h(t) || Xl(t);
                                    }
                                }
                                function eu() {
                                    Rv = Lv, Zl();
                                }
                                function tu() {
                                    vc(bh, eu), vc(yh, eu), vc(_h, eu);
                                }
                                function nu(e, t) {
                                    var n = {};
                                    return n.viewName = e, n.impressionId = F(), n.page = !0, P(t) || (n.page = !!t.page), n;
                                }
                                function au(e) {
                                    Rt(e), h(hs(e.viewName, e)) && e.page && xs(e), Mv.push(e), Rv === Lv && Zl();
                                }
                                function ru(e, t) {
                                    if (!y(e) || E(e))
                                        return ke(Ov, nh, e), void Ne({
                                            source: Ov,
                                            view: e,
                                            error: nh
                                        });
                                    var n = e.toLowerCase(), a = nu(n, t);
                                    Ie(Ov, n, a), Ne({
                                        source: Ov,
                                        view: n,
                                        options: a
                                    }), au(a);
                                }
                                function iu() {
                                    ke(Vv, arguments);
                                }
                                function ou() {
                                    ke(Bv, arguments);
                                }
                                function su() {
                                    ke(Fv, arguments);
                                }
                                function cu() {
                                    ke(Uv, arguments);
                                }
                                function lu(e) {
                                    e.adobe = e.adobe || {}, e.adobe.target = {
                                        VERSION: '',
                                        event: {},
                                        getOffer: Qu,
                                        getOffers: zu,
                                        applyOffer: Qu,
                                        applyOffers: zu,
                                        sendNotifications: Qu,
                                        trackEvent: Qu,
                                        triggerView: Qu,
                                        registerExtension: Qu,
                                        init: Qu
                                    }, e.mboxCreate = Qu, e.mboxDefine = Qu, e.mboxUpdate = Qu;
                                }
                                function uu(e, t, n) {
                                    if (e.adobe && e.adobe.target && 'undefined' != typeof e.adobe.target.getOffer)
                                        ke(ep);
                                    else {
                                        J(n);
                                        var a = nt(), r = a[cf];
                                        if (e.adobe = e.adobe || {}, e.adobe.target = e.adobe.target || {}, e.adobe.target.VERSION = r, e.adobe.target.event = {
                                                LIBRARY_LOADED: Hh,
                                                REQUEST_START: qh,
                                                REQUEST_SUCCEEDED: $h,
                                                REQUEST_FAILED: Gh,
                                                CONTENT_RENDERING_START: Yh,
                                                CONTENT_RENDERING_SUCCEEDED: Kh,
                                                CONTENT_RENDERING_FAILED: Qh,
                                                CONTENT_RENDERING_NO_OFFERS: zh,
                                                CONTENT_RENDERING_REDIRECT: Wh
                                            }, !a[ef])
                                            return lu(e), void ke(Zd);
                                        Ae(), Vt(), Yt(e), zt(e), e.adobe.target.getOffer = Fl, e.adobe.target.getOffers = Ul, e.adobe.target.applyOffer = Hl, e.adobe.target.applyOffers = ql, e.adobe.target.sendNotifications = $l, e.adobe.target.trackEvent = Jl, e.adobe.target.triggerView = ru, e.adobe.target.registerExtension = iu, e.mboxCreate = ou, e.mboxDefine = su, e.mboxUpdate = cu, pt();
                                    }
                                }
                                var du, pu, fu, hu, gu, mu, vu, bu = a(n('@adobe/reactor-object-assign')), yu = a(n('@adobe/reactor-cookie')), _u = a(n('@adobe/reactor-query-string')), Su = a(n('@adobe/reactor-promise')), Tu = a(n('@adobe/reactor-load-script')), Cu = Array.isArray, wu = Object.prototype.toString, ku = '[object Function]', Iu = function Iu(e, t) {
                                        return t.forEach(e);
                                    }, Pu = function Pu(t, n) {
                                        Iu(function (e) {
                                            return t(n[e], e);
                                        }, u(n));
                                    }, Du = function Du(e, t) {
                                        return t.filter(e);
                                    }, Eu = function Eu(n, e) {
                                        var a = {};
                                        return Pu(function (e, t) {
                                            n(e, t) && (a[t] = e);
                                        }, e), a;
                                    }, Au = '[object String]', xu = 9007199254740991, Nu = function Nu(e, t) {
                                        return t.map(e);
                                    }, Ou = Object.prototype.hasOwnProperty, Mu = String.prototype.trim, Lu = function Lu(e) {
                                        return !E(e);
                                    }, Ru = '[object Number]', ju = '[object Object]', Vu = Function.prototype, Bu = Object.prototype, Fu = Vu.toString, Uu = Bu.hasOwnProperty, Hu = Fu.call(Object), qu = function qu(n, e) {
                                        var a = {};
                                        return Pu(function (e, t) {
                                            a[t] = n(e, t);
                                        }, e), a;
                                    }, $u = function $u(e, t, n) {
                                        return n.reduce(e, t);
                                    }, Gu = function Gu(n, e, t) {
                                        var a = e;
                                        return Pu(function (e, t) {
                                            a = n(a, e, t);
                                        }, t), a;
                                    }, Yu = Array.prototype.reverse, Ku = {
                                        ON_DEVICE: 'on-device',
                                        SERVER_SIDE: 'server-side',
                                        HYBRID: 'hybrid'
                                    }, Qu = function Qu() {
                                        return undefined;
                                    }, zu = function zu(e) {
                                        return Promise.resolve(e);
                                    }, Wu = 'undefined' != typeof globalThis ? globalThis : 'undefined' != typeof window ? window : 'undefined' != typeof global ? global : 'undefined' != typeof self ? self : {}, Ju = (q(function (o) {
                                        (function () {
                                            var t, n, e, a, r, i;
                                            'undefined' != typeof performance && null !== performance && performance.now ? o.exports = function () {
                                                return performance.now();
                                            } : 'undefined' != typeof process && null !== process && process.hrtime ? (o.exports = function () {
                                                return (t() - r) / 1000000;
                                            }, n = process.hrtime, a = (t = function t() {
                                                var e;
                                                return 1000000000 * (e = n())[0] + e[1];
                                            })(), i = 1000000000 * process.uptime(), r = a - i) : Date.now ? (o.exports = function () {
                                                return Date.now() - e;
                                            }, e = Date.now()) : (o.exports = function () {
                                                return new Date().getTime() - e;
                                            }, e = new Date().getTime());
                                        }.call(Wu));
                                    }), $), Xu = 'type', Zu = 'content', ed = 'height', td = 'width', nd = 'left', ad = 'top', rd = 'from', id = 'to', od = 'priority', sd = 'selector', cd = 'cssSelector', ld = 'setHtml', ud = 'setContent', dd = 'setText', pd = 'setJson', fd = 'setAttribute', hd = 'setImageSource', gd = 'setStyle', md = 'rearrange', vd = 'resize', bd = 'move', yd = 'remove', _d = 'customCode', Sd = 'redirect', Td = 'trackClick', Cd = 'signalClick', wd = 'insertBefore', kd = 'insertAfter', Id = 'appendHtml', Pd = 'appendContent', Dd = 'prependHtml', Ed = 'prependContent', Ad = 'replaceHtml', xd = 'replaceContent', Nd = 'mboxDebug', Od = 'mboxDisable', Md = 'mboxEdit', Ld = 'at_check', Rd = 'true', jd = 250, Vd = 'data-at-src', Bd = 'json', Fd = 'html', Ud = 'dynamic', Hd = 'script', qd = 'src', $d = 'id', Gd = 'class', Yd = 'click', Kd = 'head', Qd = 'script', zd = 'style', Wd = 'link', Jd = 'img', Xd = 'div', Zd = 'Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.', ep = 'Adobe Target has already been initialized.', tp = 'options argument is required', np = 'request option is required', ap = 'response option is required', rp = 'execute or prefetch is required', ip = 'execute or prefetch is not allowed', op = 'notifications are required', sp = 'mbox option is required', cp = 'mbox option is too long', lp = 'success option is required', up = 'error option is required', dp = 'offer option is required', pp = 'Unexpected error', fp = 'request failed', hp = 'request succeeded', gp = 'Action rendered successfully', mp = 'Rendering action', vp = 'Action has no content', bp = 'Action has no attributes', yp = 'Action has no CSS properties', _p = 'Action has no height or width', Sp = 'Action has no left, top or position', Tp = 'Action has no from or to', Cp = 'Action has no url', wp = 'Action has no image url', kp = 'Rearrange elements are missing', Ip = 'Loading image', Pp = 'Track event request succeeded', Dp = 'Track event request failed', Ep = 'No actions to be rendered', Ap = 'Redirect action', xp = 'Script load', Np = 'error', Op = 'warning', Mp = 'unknown', Lp = 'valid', Rp = 'success', jp = 'render', Vp = 'metric', Bp = 'mbox', Fp = 'offer', Up = 'name', Hp = 'status', qp = 'params', $p = 'actions', Gp = 'responseTokens', Yp = 'data', Kp = 'response', Qp = 'request', zp = 'provider', Wp = 'pageLoad', Jp = 'at-flicker-control', Xp = 'at-element-marker', Zp = 'at-element-click-tracking', ef = 'enabled', tf = 'clientCode', nf = 'imsOrgId', af = 'serverDomain', rf = 'timeout', of = 'globalMboxName', sf = 'globalMboxAutoCreate', cf = 'version', lf = 'defaultContentHiddenStyle', uf = 'bodyHiddenStyle', df = 'bodyHidingEnabled', pf = 'deviceIdLifetime', ff = 'sessionIdLifetime', hf = 'selectorsPollingTimeout', gf = 'visitorApiTimeout', mf = 'overrideMboxEdgeServer', vf = 'overrideMboxEdgeServerTimeout', bf = 'optoutEnabled', yf = 'secureOnly', _f = 'supplementalDataIdParamTimeout', Sf = 'authoringScriptUrl', Tf = 'scheme', Cf = 'cookieDomain', wf = 'mboxParams', kf = 'globalMboxParams', If = 'mboxSession', Pf = 'PC', Df = 'mboxEdgeCluster', Ef = 'session', Af = 'Traces', xf = 'settings', Nf = 'client' + Af, Of = 'server' + Af, Mf = '___target_traces', Lf = 'targetGlobalSettings', Rf = 'dataProvider', jf = Rf + 's', Vf = 'endpoint', Bf = 'viewsEnabled', Ff = 'pageLoadEnabled', Uf = 'authState', Hf = 'authenticatedState', qf = 'integrationCode', $f = 'primary', Gf = 'page', Yf = 'view', Kf = 'views', Qf = 'options', zf = 'metrics', Wf = 'viewName', Jf = 'display', Xf = 'Content-Type', Zf = 'text/plain', eh = 'View rendering failed', th = 'View delivery error', nh = 'View name should be a non-empty string', ah = 'Page load disabled', rh = 'Using server state', ih = 'adobe', oh = 'optIn', sh = 'isApproved', ch = 'fetchPermissions', lh = 'Categories', uh = 'TARGET', dh = 'ANALYTICS', ph = 'optinEnabled', fh = 'Adobe Target is not opted in', hh = 'analyticsLogging', gh = 'serverState', mh = 'cspScriptNonce', vh = 'cspStyleNonce', bh = 'cache-updated-event', yh = 'no-offers-event', _h = 'redirect-offer-event', Sh = 'web', Th = 'file:', Ch = /^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/, wh = /^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i, kh = {}, Ih = [
                                        ef,
                                        tf,
                                        nf,
                                        af,
                                        Cf,
                                        rf,
                                        wf,
                                        kf,
                                        lf,
                                        'defaultContentVisibleStyle',
                                        pf,
                                        uf,
                                        df,
                                        hf,
                                        gf,
                                        mf,
                                        vf,
                                        bf,
                                        ph,
                                        yf,
                                        _f,
                                        Sf,
                                        'urlSizeLimit',
                                        Vf,
                                        Ff,
                                        Bf,
                                        hh,
                                        gh,
                                        'decisioningMethod',
                                        'pollingInterval',
                                        'artifactLocation',
                                        'artifactFormat',
                                        'artifactPayload',
                                        'environment',
                                        'cdnEnvironment',
                                        'telemetryEnabled',
                                        'cdnBasePath',
                                        mh,
                                        vh,
                                        of
                                    ], Ph = _u.parse, Dh = _u.stringify, Eh = document.createElement('a'), Ah = {}, xh = yu.get, Nh = yu.set, Oh = yu.remove, Mh = 'mbox', Lh = 'AT:', Rh = '1', jh = (du = window, function (d) {
                                        function p(e) {
                                            return e._zid || (e._zid = t++);
                                        }
                                        function o(e, t, n, a) {
                                            if ((t = f(t)).ns)
                                                var r = i(t.ns);
                                            return (C[p(e)] || []).filter(function (e) {
                                                return e && (!t.e || e.e == t.e) && (!t.ns || r.test(e.ns)) && (!n || p(e.fn) === p(n)) && (!a || e.sel == a);
                                            });
                                        }
                                        function f(e) {
                                            var t = ('' + e).split('.');
                                            return {
                                                e: t[0],
                                                ns: t.slice(1).sort().join(' ')
                                            };
                                        }
                                        function i(e) {
                                            return new RegExp('(?:^| )' + e.replace(' ', ' .* ?') + '(?: |$)');
                                        }
                                        function h(e, t) {
                                            return e.del && !n && e.e in a || !!t;
                                        }
                                        function g(e) {
                                            return w[e] || n && a[e] || e;
                                        }
                                        function m(i, e, t, o, s, c, l) {
                                            var n = p(i), u = C[n] || (C[n] = []);
                                            e.split(/\s/).forEach(function (e) {
                                                if ('ready' == e)
                                                    return d(document).ready(t);
                                                var n = f(e);
                                                n.fn = t, n.sel = s, n.e in w && (t = function r(e) {
                                                    var t = e.relatedTarget;
                                                    if (!t || t !== this && !d.contains(this, t))
                                                        return n.fn.apply(this, arguments);
                                                });
                                                var a = (n.del = c) || t;
                                                n.proxy = function (e) {
                                                    if (!(e = b(e)).isImmediatePropagationStopped()) {
                                                        e.data = o;
                                                        var t = a.apply(i, e._args == _ ? [e] : [e].concat(e._args));
                                                        return !1 === t && (e.preventDefault(), e.stopPropagation()), t;
                                                    }
                                                }, n.i = u.length, u.push(n), 'addEventListener' in i && i.addEventListener(g(n.e), n.proxy, h(n, l));
                                            });
                                        }
                                        function v(t, e, n, a, r) {
                                            var i = p(t);
                                            (e || '').split(/\s/).forEach(function (e) {
                                                o(t, e, n, a).forEach(function (e) {
                                                    delete C[i][e.i], 'removeEventListener' in t && t.removeEventListener(g(e.e), e.proxy, h(e, r));
                                                });
                                            });
                                        }
                                        function b(a, r) {
                                            if (r || !a.isDefaultPrevented) {
                                                r || (r = a), d.each(u, function (e, t) {
                                                    var n = r[e];
                                                    a[e] = function () {
                                                        return this[t] = c, n && n.apply(r, arguments);
                                                    }, a[t] = k;
                                                });
                                                try {
                                                    a.timeStamp || (a.timeStamp = new Date().getTime());
                                                } catch (e) {
                                                }
                                                (r.defaultPrevented !== _ ? r.defaultPrevented : 'returnValue' in r ? !1 === r.returnValue : r.getPreventDefault && r.getPreventDefault()) && (a.isDefaultPrevented = c);
                                            }
                                            return a;
                                        }
                                        function y(e) {
                                            var t, n = { originalEvent: e };
                                            for (t in e)
                                                l.test(t) || e[t] === _ || (n[t] = e[t]);
                                            return b(n, e);
                                        }
                                        var _, t = 1, S = Array.prototype.slice, r = d.isFunction, T = function T(e) {
                                                return 'string' == typeof e;
                                            }, C = {}, s = {}, n = 'onfocusin' in du, a = {
                                                focus: 'focusin',
                                                blur: 'focusout'
                                            }, w = {
                                                mouseenter: 'mouseover',
                                                mouseleave: 'mouseout'
                                            };
                                        s.click = s.mousedown = s.mouseup = s.mousemove = 'MouseEvents', d.event = {
                                            add: m,
                                            remove: v
                                        }, d.proxy = function (e, t) {
                                            var n = 2 in arguments && S.call(arguments, 2);
                                            if (r(e)) {
                                                var a = function a() {
                                                    return e.apply(t, n ? n.concat(S.call(arguments)) : arguments);
                                                };
                                                return a._zid = p(e), a;
                                            }
                                            if (T(t))
                                                return n ? (n.unshift(e[t], e), d.proxy.apply(null, n)) : d.proxy(e[t], e);
                                            throw new TypeError('expected function');
                                        }, d.fn.bind = function (e, t, n) {
                                            return this.on(e, t, n);
                                        }, d.fn.unbind = function (e, t) {
                                            return this.off(e, t);
                                        }, d.fn.one = function (e, t, n, a) {
                                            return this.on(e, t, n, a, 1);
                                        };
                                        var c = function c() {
                                                return !0;
                                            }, k = function k() {
                                                return !1;
                                            }, l = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/, u = {
                                                preventDefault: 'isDefaultPrevented',
                                                stopImmediatePropagation: 'isImmediatePropagationStopped',
                                                stopPropagation: 'isPropagationStopped'
                                            };
                                        d.fn.delegate = function (e, t, n) {
                                            return this.on(t, e, n);
                                        }, d.fn.undelegate = function (e, t, n) {
                                            return this.off(t, e, n);
                                        }, d.fn.live = function (e, t) {
                                            return d(document.body).delegate(this.selector, e, t), this;
                                        }, d.fn.die = function (e, t) {
                                            return d(document.body).undelegate(this.selector, e, t), this;
                                        }, d.fn.on = function (n, i, o, s, c) {
                                            var l, u, a = this;
                                            return n && !T(n) ? (d.each(n, function (e, t) {
                                                a.on(e, i, o, t, c);
                                            }), a) : (T(i) || r(s) || !1 === s || (s = o, o = i, i = _), s !== _ && !1 !== o || (s = o, o = _), !1 === s && (s = k), a.each(function (e, a) {
                                                c && (l = function t(e) {
                                                    return v(a, e.type, s), s.apply(this, arguments);
                                                }), i && (u = function r(e) {
                                                    var t, n = d(e.target).closest(i, a).get(0);
                                                    if (n && n !== a)
                                                        return t = d.extend(y(e), {
                                                            currentTarget: n,
                                                            liveFired: a
                                                        }), (l || s).apply(n, [t].concat(S.call(arguments, 1)));
                                                }), m(a, n, s, o, i, u || l);
                                            }));
                                        }, d.fn.off = function (e, n, t) {
                                            var a = this;
                                            return e && !T(e) ? (d.each(e, function (e, t) {
                                                a.off(e, n, t);
                                            }), a) : (T(n) || r(t) || !1 === t || (t = n, n = _), !1 === t && (t = k), a.each(function () {
                                                v(this, e, t, n);
                                            }));
                                        }, d.fn.trigger = function (e, t) {
                                            return (e = T(e) || d.isPlainObject(e) ? d.Event(e) : b(e))._args = t, this.each(function () {
                                                e.type in a && 'function' == typeof this[e.type] ? this[e.type]() : 'dispatchEvent' in this ? this.dispatchEvent(e) : d(this).triggerHandler(e, t);
                                            });
                                        }, d.fn.triggerHandler = function (n, a) {
                                            var r, i;
                                            return this.each(function (e, t) {
                                                (r = y(T(n) ? d.Event(n) : n))._args = a, r.target = t, d.each(o(t, n.type || n), function (e, t) {
                                                    if (i = t.proxy(r), r.isImmediatePropagationStopped())
                                                        return !1;
                                                });
                                            }), i;
                                        }, 'focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error'.split(' ').forEach(function (t) {
                                            d.fn[t] = function (e) {
                                                return 0 in arguments ? this.bind(t, e) : this.trigger(t);
                                            };
                                        }), d.Event = function (e, t) {
                                            T(e) || (e = (t = e).type);
                                            var n = document.createEvent(s[e] || 'Events'), a = !0;
                                            if (t)
                                                for (var r in t)
                                                    'bubbles' == r ? a = !!t[r] : n[r] = t[r];
                                            return n.initEvent(e, a, !0), b(n);
                                        };
                                    }(vu = function () {
                                        function o(e) {
                                            return null == e ? String(e) : z[W.call(e)] || 'object';
                                        }
                                        function s(e) {
                                            return 'function' == o(e);
                                        }
                                        function i(e) {
                                            return null != e && e == e.window;
                                        }
                                        function c(e) {
                                            return null != e && e.nodeType == e.DOCUMENT_NODE;
                                        }
                                        function a(e) {
                                            return 'object' == o(e);
                                        }
                                        function l(e) {
                                            return a(e) && !i(e) && Object.getPrototypeOf(e) == Object.prototype;
                                        }
                                        function u(e) {
                                            var t = !!e && 'length' in e && e.length, n = I.type(e);
                                            return 'function' != n && !i(e) && ('array' == n || 0 === t || 'number' == typeof t && 0 < t && t - 1 in e);
                                        }
                                        function r(e) {
                                            return N.call(e, function (e) {
                                                return null != e;
                                            });
                                        }
                                        function d(e) {
                                            return 0 < e.length ? I.fn.concat.apply([], e) : e;
                                        }
                                        function p(e) {
                                            return e.replace(/::/g, '/').replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2').replace(/([a-z\d])([A-Z])/g, '$1_$2').replace(/_/g, '-').toLowerCase();
                                        }
                                        function n(e) {
                                            return e in t ? t[e] : t[e] = new RegExp('(^|\\s)' + e + '(\\s|$)');
                                        }
                                        function f(e, t) {
                                            return 'number' != typeof t || R[p(e)] ? t : t + 'px';
                                        }
                                        function e(e) {
                                            var t, n;
                                            return L[e] || (t = M.createElement(e), M.body.appendChild(t), n = getComputedStyle(t, '').getPropertyValue('display'), t.parentNode.removeChild(t), 'none' == n && (n = 'block'), L[e] = n), L[e];
                                        }
                                        function h(e) {
                                            return 'children' in e ? O.call(e.children) : I.map(e.childNodes, function (e) {
                                                if (1 == e.nodeType)
                                                    return e;
                                            });
                                        }
                                        function g(e, t) {
                                            var n, a = e ? e.length : 0;
                                            for (n = 0; n < a; n++)
                                                this[n] = e[n];
                                            this.length = a, this.selector = t || '';
                                        }
                                        function m(e, t, n) {
                                            for (k in t)
                                                n && (l(t[k]) || ee(t[k])) ? (l(t[k]) && !l(e[k]) && (e[k] = {}), ee(t[k]) && !ee(e[k]) && (e[k] = []), m(e[k], t[k], n)) : t[k] !== w && (e[k] = t[k]);
                                        }
                                        function v(e, t) {
                                            return null == t ? I(e) : I(e).filter(t);
                                        }
                                        function b(e, t, n, a) {
                                            return s(t) ? t.call(e, n, a) : t;
                                        }
                                        function y(e, t, n) {
                                            null == n ? e.removeAttribute(t) : e.setAttribute(t, n);
                                        }
                                        function _(e, t) {
                                            var n = e.className || '', a = n && n.baseVal !== w;
                                            if (t === w)
                                                return a ? n.baseVal : n;
                                            a ? n.baseVal = t : e.className = t;
                                        }
                                        function S(e) {
                                            try {
                                                return e ? 'true' == e || 'false' != e && ('null' == e ? null : +e + '' == e ? +e : /^[\[\{]/.test(e) ? I.parseJSON(e) : e) : e;
                                            } catch (t) {
                                                return e;
                                            }
                                        }
                                        function T(e, t) {
                                            t(e);
                                            for (var n = 0, a = e.childNodes.length; n < a; n++)
                                                T(e.childNodes[n], t);
                                        }
                                        function C(e, t, n) {
                                            var a = e.getElementsByTagName('script')[0];
                                            if (a) {
                                                var r = a.parentNode;
                                                if (r) {
                                                    var i = e.createElement('script');
                                                    i.innerHTML = t, Lu(n) && i.setAttribute('nonce', n), r.appendChild(i), r.removeChild(i);
                                                }
                                            }
                                        }
                                        var w, k, I, P, D, E, A = [], x = A.concat, N = A.filter, O = A.slice, M = du.document, L = {}, t = {}, R = {
                                                'column-count': 1,
                                                columns: 1,
                                                'font-weight': 1,
                                                'line-height': 1,
                                                opacity: 1,
                                                'z-index': 1,
                                                zoom: 1
                                            }, j = /^\s*<(\w+|!)[^>]*>/, V = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, B = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, F = /^(?:body|html)$/i, U = /([A-Z])/g, H = [
                                                'val',
                                                'css',
                                                'html',
                                                'text',
                                                'data',
                                                'width',
                                                'height',
                                                'offset'
                                            ], q = [
                                                'after',
                                                'prepend',
                                                'before',
                                                'append'
                                            ], $ = M.createElement('table'), G = M.createElement('tr'), Y = {
                                                tr: M.createElement('tbody'),
                                                tbody: $,
                                                thead: $,
                                                tfoot: $,
                                                td: G,
                                                th: G,
                                                '*': M.createElement('div')
                                            }, K = /complete|loaded|interactive/, Q = /^[\w-]*$/, z = {}, W = z.toString, J = {}, X = M.createElement('div'), Z = {
                                                tabindex: 'tabIndex',
                                                readonly: 'readOnly',
                                                'for': 'htmlFor',
                                                'class': 'className',
                                                maxlength: 'maxLength',
                                                cellspacing: 'cellSpacing',
                                                cellpadding: 'cellPadding',
                                                rowspan: 'rowSpan',
                                                colspan: 'colSpan',
                                                usemap: 'useMap',
                                                frameborder: 'frameBorder',
                                                contenteditable: 'contentEditable'
                                            }, ee = Array.isArray || function (e) {
                                                return e instanceof Array;
                                            };
                                        return J.matches = function (e, t) {
                                            if (!t || !e || 1 !== e.nodeType)
                                                return !1;
                                            var n = e.matches || e.webkitMatchesSelector || e.mozMatchesSelector || e.oMatchesSelector || e.matchesSelector;
                                            if (n)
                                                return n.call(e, t);
                                            var a, r = e.parentNode, i = !r;
                                            return i && (r = X).appendChild(e), a = ~J.qsa(r, t).indexOf(e), i && X.removeChild(e), a;
                                        }, D = function D(e) {
                                            return e.replace(/-+(.)?/g, function (e, t) {
                                                return t ? t.toUpperCase() : '';
                                            });
                                        }, E = function E(n) {
                                            return N.call(n, function (e, t) {
                                                return n.indexOf(e) == t;
                                            });
                                        }, J.fragment = function (e, t, n) {
                                            var a, r, i;
                                            return V.test(e) && (a = I(M.createElement(RegExp.$1))), a || (e.replace && (e = e.replace(B, '<$1></$2>')), t === w && (t = j.test(e) && RegExp.$1), t in Y || (t = '*'), (i = Y[t]).innerHTML = '' + e, a = I.each(O.call(i.childNodes), function () {
                                                i.removeChild(this);
                                            })), l(n) && (r = I(a), I.each(n, function (e, t) {
                                                -1 < H.indexOf(e) ? r[e](t) : r.attr(e, t);
                                            })), a;
                                        }, J.Z = function (e, t) {
                                            return new g(e, t);
                                        }, J.isZ = function (e) {
                                            return e instanceof J.Z;
                                        }, J.init = function (e, t) {
                                            var n;
                                            if (!e)
                                                return J.Z();
                                            if ('string' == typeof e)
                                                if ('<' == (e = e.trim())[0] && j.test(e))
                                                    n = J.fragment(e, RegExp.$1, t), e = null;
                                                else {
                                                    if (t !== w)
                                                        return I(t).find(e);
                                                    n = J.qsa(M, e);
                                                }
                                            else {
                                                if (s(e))
                                                    return I(M).ready(e);
                                                if (J.isZ(e))
                                                    return e;
                                                if (ee(e))
                                                    n = r(e);
                                                else if (a(e))
                                                    n = [e], e = null;
                                                else if (j.test(e))
                                                    n = J.fragment(e.trim(), RegExp.$1, t), e = null;
                                                else {
                                                    if (t !== w)
                                                        return I(t).find(e);
                                                    n = J.qsa(M, e);
                                                }
                                            }
                                            return J.Z(n, e);
                                        }, (I = function I(e, t) {
                                            return J.init(e, t);
                                        }).extend = function (t) {
                                            var n, e = O.call(arguments, 1);
                                            return 'boolean' == typeof t && (n = t, t = e.shift()), e.forEach(function (e) {
                                                m(t, e, n);
                                            }), t;
                                        }, J.qsa = function (e, t) {
                                            var n, a = '#' == t[0], r = !a && '.' == t[0], i = a || r ? t.slice(1) : t, o = Q.test(i);
                                            return e.getElementById && o && a ? (n = e.getElementById(i)) ? [n] : [] : 1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType ? [] : O.call(o && !a && e.getElementsByClassName ? r ? e.getElementsByClassName(i) : e.getElementsByTagName(t) : e.querySelectorAll(t));
                                        }, I.contains = M.documentElement.contains ? function (e, t) {
                                            return e !== t && e.contains(t);
                                        } : function (e, t) {
                                            for (; t && (t = t.parentNode);)
                                                if (t === e)
                                                    return !0;
                                            return !1;
                                        }, I.type = o, I.isFunction = s, I.isWindow = i, I.isArray = ee, I.isPlainObject = l, I.isEmptyObject = function (e) {
                                            var t;
                                            for (t in e)
                                                return !1;
                                            return !0;
                                        }, I.isNumeric = function (e) {
                                            var t = Number(e), n = tt(e);
                                            return null != e && 'boolean' != n && ('string' != n || e.length) && !isNaN(t) && isFinite(t) || !1;
                                        }, I.inArray = function (e, t, n) {
                                            return A.indexOf.call(t, e, n);
                                        }, I.camelCase = D, I.trim = function (e) {
                                            return null == e ? '' : String.prototype.trim.call(e);
                                        }, I.uuid = 0, I.support = {}, I.expr = {}, I.noop = function () {
                                        }, I.map = function (e, t) {
                                            var n, a, r, i = [];
                                            if (u(e))
                                                for (a = 0; a < e.length; a++)
                                                    null != (n = t(e[a], a)) && i.push(n);
                                            else
                                                for (r in e)
                                                    null != (n = t(e[r], r)) && i.push(n);
                                            return d(i);
                                        }, I.each = function (e, t) {
                                            var n, a;
                                            if (u(e)) {
                                                for (n = 0; n < e.length; n++)
                                                    if (!1 === t.call(e[n], n, e[n]))
                                                        return e;
                                            } else
                                                for (a in e)
                                                    if (!1 === t.call(e[a], a, e[a]))
                                                        return e;
                                            return e;
                                        }, I.grep = function (e, t) {
                                            return N.call(e, t);
                                        }, du.JSON && (I.parseJSON = JSON.parse), I.each('Boolean Number String Function Array Date RegExp Object Error'.split(' '), function (e, t) {
                                            z['[object ' + t + ']'] = t.toLowerCase();
                                        }), I.fn = {
                                            constructor: J.Z,
                                            length: 0,
                                            forEach: A.forEach,
                                            reduce: A.reduce,
                                            push: A.push,
                                            sort: A.sort,
                                            splice: A.splice,
                                            indexOf: A.indexOf,
                                            concat: function te() {
                                                var e, t, n = [];
                                                for (e = 0; e < arguments.length; e++)
                                                    t = arguments[e], n[e] = J.isZ(t) ? t.toArray() : t;
                                                return x.apply(J.isZ(this) ? this.toArray() : this, n);
                                            },
                                            map: function ne(n) {
                                                return I(I.map(this, function (e, t) {
                                                    return n.call(e, t, e);
                                                }));
                                            },
                                            slice: function ae() {
                                                return I(O.apply(this, arguments));
                                            },
                                            ready: function re(e) {
                                                return K.test(M.readyState) && M.body ? e(I) : M.addEventListener('DOMContentLoaded', function () {
                                                    e(I);
                                                }, !1), this;
                                            },
                                            get: function ie(e) {
                                                return e === w ? O.call(this) : this[0 <= e ? e : e + this.length];
                                            },
                                            toArray: function oe() {
                                                return this.get();
                                            },
                                            size: function se() {
                                                return this.length;
                                            },
                                            remove: function ce() {
                                                return this.each(function () {
                                                    null != this.parentNode && this.parentNode.removeChild(this);
                                                });
                                            },
                                            each: function le(e) {
                                                for (var t, n = this.length, a = 0; a < n && (t = this[a], !1 !== e.call(t, a, t));)
                                                    a++;
                                                return this;
                                            },
                                            filter: function ue(t) {
                                                return s(t) ? this.not(this.not(t)) : I(N.call(this, function (e) {
                                                    return J.matches(e, t);
                                                }));
                                            },
                                            add: function de(e, t) {
                                                return I(E(this.concat(I(e, t))));
                                            },
                                            is: function pe(e) {
                                                return 0 < this.length && J.matches(this[0], e);
                                            },
                                            not: function fe(t) {
                                                var n = [];
                                                if (s(t) && t.call !== w)
                                                    this.each(function (e) {
                                                        t.call(this, e) || n.push(this);
                                                    });
                                                else {
                                                    var a = 'string' == typeof t ? this.filter(t) : u(t) && s(t.item) ? O.call(t) : I(t);
                                                    this.forEach(function (e) {
                                                        a.indexOf(e) < 0 && n.push(e);
                                                    });
                                                }
                                                return I(n);
                                            },
                                            has: function he(e) {
                                                return this.filter(function () {
                                                    return a(e) ? I.contains(this, e) : I(this).find(e).size();
                                                });
                                            },
                                            eq: function ge(e) {
                                                return -1 === e ? this.slice(e) : this.slice(e, +e + 1);
                                            },
                                            first: function me() {
                                                var e = this[0];
                                                return e && !a(e) ? e : I(e);
                                            },
                                            last: function ve() {
                                                var e = this[this.length - 1];
                                                return e && !a(e) ? e : I(e);
                                            },
                                            find: function be(e) {
                                                var n = this;
                                                return e ? 'object' == tt(e) ? I(e).filter(function () {
                                                    var t = this;
                                                    return A.some.call(n, function (e) {
                                                        return I.contains(e, t);
                                                    });
                                                }) : 1 == this.length ? I(J.qsa(this[0], e)) : this.map(function () {
                                                    return J.qsa(this, e);
                                                }) : I();
                                            },
                                            closest: function ye(n, a) {
                                                var r = [], i = 'object' == tt(n) && I(n);
                                                return this.each(function (e, t) {
                                                    for (; t && !(i ? 0 <= i.indexOf(t) : J.matches(t, n));)
                                                        t = t !== a && !c(t) && t.parentNode;
                                                    t && r.indexOf(t) < 0 && r.push(t);
                                                }), I(r);
                                            },
                                            parents: function _e(e) {
                                                for (var t = [], n = this; 0 < n.length;)
                                                    n = I.map(n, function (e) {
                                                        if ((e = e.parentNode) && !c(e) && t.indexOf(e) < 0)
                                                            return t.push(e), e;
                                                    });
                                                return v(t, e);
                                            },
                                            parent: function Se(e) {
                                                return v(E(this.pluck('parentNode')), e);
                                            },
                                            children: function Te(e) {
                                                return v(this.map(function () {
                                                    return h(this);
                                                }), e);
                                            },
                                            contents: function Ce() {
                                                return this.map(function () {
                                                    return this.contentDocument || O.call(this.childNodes);
                                                });
                                            },
                                            siblings: function we(e) {
                                                return v(this.map(function (e, t) {
                                                    return N.call(h(t.parentNode), function (e) {
                                                        return e !== t;
                                                    });
                                                }), e);
                                            },
                                            empty: function ke() {
                                                return this.each(function () {
                                                    this.innerHTML = '';
                                                });
                                            },
                                            pluck: function Ie(t) {
                                                return I.map(this, function (e) {
                                                    return e[t];
                                                });
                                            },
                                            show: function Pe() {
                                                return this.each(function () {
                                                    'none' == this.style.display && (this.style.display = ''), 'none' == getComputedStyle(this, '').getPropertyValue('display') && (this.style.display = e(this.nodeName));
                                                });
                                            },
                                            replaceWith: function De(e) {
                                                return this.before(e).remove();
                                            },
                                            wrap: function Ee(t) {
                                                var n = s(t);
                                                if (this[0] && !n)
                                                    var a = I(t).get(0), r = a.parentNode || 1 < this.length;
                                                return this.each(function (e) {
                                                    I(this).wrapAll(n ? t.call(this, e) : r ? a.cloneNode(!0) : a);
                                                });
                                            },
                                            wrapAll: function Ae(e) {
                                                if (this[0]) {
                                                    var t;
                                                    for (I(this[0]).before(e = I(e)); (t = e.children()).length;)
                                                        e = t.first();
                                                    I(e).append(this);
                                                }
                                                return this;
                                            },
                                            wrapInner: function xe(r) {
                                                var i = s(r);
                                                return this.each(function (e) {
                                                    var t = I(this), n = t.contents(), a = i ? r.call(this, e) : r;
                                                    n.length ? n.wrapAll(a) : t.append(a);
                                                });
                                            },
                                            unwrap: function Ne() {
                                                return this.parent().each(function () {
                                                    I(this).replaceWith(I(this).children());
                                                }), this;
                                            },
                                            clone: function Oe() {
                                                return this.map(function () {
                                                    return this.cloneNode(!0);
                                                });
                                            },
                                            hide: function Me() {
                                                return this.css('display', 'none');
                                            },
                                            toggle: function Le(t) {
                                                return this.each(function () {
                                                    var e = I(this);
                                                    (t === w ? 'none' == e.css('display') : t) ? e.show() : e.hide();
                                                });
                                            },
                                            prev: function Re(e) {
                                                return I(this.pluck('previousElementSibling')).filter(e || '*');
                                            },
                                            next: function je(e) {
                                                return I(this.pluck('nextElementSibling')).filter(e || '*');
                                            },
                                            html: function Ve(n) {
                                                return 0 in arguments ? this.each(function (e) {
                                                    var t = this.innerHTML;
                                                    I(this).empty().append(b(this, n, e, t));
                                                }) : 0 in this ? this[0].innerHTML : null;
                                            },
                                            text: function Be(n) {
                                                return 0 in arguments ? this.each(function (e) {
                                                    var t = b(this, n, e, this.textContent);
                                                    this.textContent = null == t ? '' : '' + t;
                                                }) : 0 in this ? this.pluck('textContent').join('') : null;
                                            },
                                            attr: function Fe(t, n) {
                                                var e;
                                                return 'string' != typeof t || 1 in arguments ? this.each(function (e) {
                                                    if (1 === this.nodeType)
                                                        if (a(t))
                                                            for (k in t)
                                                                y(this, k, t[k]);
                                                        else
                                                            y(this, t, b(this, n, e, this.getAttribute(t)));
                                                }) : 0 in this && 1 == this[0].nodeType && null != (e = this[0].getAttribute(t)) ? e : w;
                                            },
                                            removeAttr: function Ue(e) {
                                                return this.each(function () {
                                                    1 === this.nodeType && e.split(' ').forEach(function (e) {
                                                        y(this, e);
                                                    }, this);
                                                });
                                            },
                                            prop: function He(t, n) {
                                                return t = Z[t] || t, 1 in arguments ? this.each(function (e) {
                                                    this[t] = b(this, n, e, this[t]);
                                                }) : this[0] && this[0][t];
                                            },
                                            removeProp: function qe(e) {
                                                return e = Z[e] || e, this.each(function () {
                                                    delete this[e];
                                                });
                                            },
                                            data: function e(t, n) {
                                                var a = 'data-' + t.replace(U, '-$1').toLowerCase(), e = 1 in arguments ? this.attr(a, n) : this.attr(a);
                                                return null !== e ? S(e) : w;
                                            },
                                            val: function $e(t) {
                                                return 0 in arguments ? (null == t && (t = ''), this.each(function (e) {
                                                    this.value = b(this, t, e, this.value);
                                                })) : this[0] && (this[0].multiple ? I(this[0]).find('option').filter(function () {
                                                    return this.selected;
                                                }).pluck('value') : this[0].value);
                                            },
                                            offset: function Ge(i) {
                                                if (i)
                                                    return this.each(function (e) {
                                                        var t = I(this), n = b(this, i, e, t.offset()), a = t.offsetParent().offset(), r = {
                                                                top: n.top - a.top,
                                                                left: n.left - a.left
                                                            };
                                                        'static' == t.css('position') && (r.position = 'relative'), t.css(r);
                                                    });
                                                if (!this.length)
                                                    return null;
                                                if (M.documentElement !== this[0] && !I.contains(M.documentElement, this[0]))
                                                    return {
                                                        top: 0,
                                                        left: 0
                                                    };
                                                var e = this[0].getBoundingClientRect();
                                                return {
                                                    left: e.left + du.pageXOffset,
                                                    top: e.top + du.pageYOffset,
                                                    width: Math.round(e.width),
                                                    height: Math.round(e.height)
                                                };
                                            },
                                            css: function e(t, n) {
                                                if (arguments.length < 2) {
                                                    var a = this[0];
                                                    if ('string' == typeof t) {
                                                        if (!a)
                                                            return;
                                                        return a.style[D(t)] || getComputedStyle(a, '').getPropertyValue(t);
                                                    }
                                                    if (ee(t)) {
                                                        if (!a)
                                                            return;
                                                        var r = {}, i = getComputedStyle(a, '');
                                                        return I.each(t, function (e, t) {
                                                            r[t] = a.style[D(t)] || i.getPropertyValue(t);
                                                        }), r;
                                                    }
                                                }
                                                var e = '';
                                                if ('string' == o(t))
                                                    n || 0 === n ? e = p(t) + ':' + f(t, n) : this.each(function () {
                                                        this.style.removeProperty(p(t));
                                                    });
                                                else
                                                    for (k in t)
                                                        t[k] || 0 === t[k] ? e += p(k) + ':' + f(k, t[k]) + ';' : this.each(function () {
                                                            this.style.removeProperty(p(k));
                                                        });
                                                return this.each(function () {
                                                    this.style.cssText += ';' + e;
                                                });
                                            },
                                            index: function Ye(e) {
                                                return e ? this.indexOf(I(e)[0]) : this.parent().children().indexOf(this[0]);
                                            },
                                            hasClass: function Ke(e) {
                                                return !!e && A.some.call(this, function (e) {
                                                    return this.test(_(e));
                                                }, n(e));
                                            },
                                            addClass: function Qe(n) {
                                                return n ? this.each(function (e) {
                                                    if ('className' in this) {
                                                        P = [];
                                                        var t = _(this);
                                                        b(this, n, e, t).split(/\s+/g).forEach(function (e) {
                                                            I(this).hasClass(e) || P.push(e);
                                                        }, this), P.length && _(this, t + (t ? ' ' : '') + P.join(' '));
                                                    }
                                                }) : this;
                                            },
                                            removeClass: function ze(t) {
                                                return this.each(function (e) {
                                                    if ('className' in this) {
                                                        if (t === w)
                                                            return _(this, '');
                                                        P = _(this), b(this, t, e, P).split(/\s+/g).forEach(function (e) {
                                                            P = P.replace(n(e), ' ');
                                                        }), _(this, P.trim());
                                                    }
                                                });
                                            },
                                            toggleClass: function We(n, a) {
                                                return n ? this.each(function (e) {
                                                    var t = I(this);
                                                    b(this, n, e, _(this)).split(/\s+/g).forEach(function (e) {
                                                        (a === w ? !t.hasClass(e) : a) ? t.addClass(e) : t.removeClass(e);
                                                    });
                                                }) : this;
                                            },
                                            scrollTop: function Je(e) {
                                                if (this.length) {
                                                    var t = 'scrollTop' in this[0];
                                                    return e === w ? t ? this[0].scrollTop : this[0].pageYOffset : this.each(t ? function () {
                                                        this.scrollTop = e;
                                                    } : function () {
                                                        this.scrollTo(this.scrollX, e);
                                                    });
                                                }
                                            },
                                            scrollLeft: function Xe(e) {
                                                if (this.length) {
                                                    var t = 'scrollLeft' in this[0];
                                                    return e === w ? t ? this[0].scrollLeft : this[0].pageXOffset : this.each(t ? function () {
                                                        this.scrollLeft = e;
                                                    } : function () {
                                                        this.scrollTo(e, this.scrollY);
                                                    });
                                                }
                                            },
                                            position: function Ze() {
                                                if (this.length) {
                                                    var e = this[0], t = this.offsetParent(), n = this.offset(), a = F.test(t[0].nodeName) ? {
                                                            top: 0,
                                                            left: 0
                                                        } : t.offset();
                                                    return n.top -= parseFloat(I(e).css('margin-top')) || 0, n.left -= parseFloat(I(e).css('margin-left')) || 0, a.top += parseFloat(I(t[0]).css('border-top-width')) || 0, a.left += parseFloat(I(t[0]).css('border-left-width')) || 0, {
                                                        top: n.top - a.top,
                                                        left: n.left - a.left
                                                    };
                                                }
                                            },
                                            offsetParent: function et() {
                                                return this.map(function () {
                                                    for (var e = this.offsetParent || M.body; e && !F.test(e.nodeName) && 'static' == I(e).css('position');)
                                                        e = e.offsetParent;
                                                    return e;
                                                });
                                            }
                                        }, I.fn.detach = I.fn.remove, [
                                            'width',
                                            'height'
                                        ].forEach(function (a) {
                                            var r = a.replace(/./, function (e) {
                                                return e[0].toUpperCase();
                                            });
                                            I.fn[a] = function (t) {
                                                var e, n = this[0];
                                                return t === w ? i(n) ? n['inner' + r] : c(n) ? n.documentElement['scroll' + r] : (e = this.offset()) && e[a] : this.each(function (e) {
                                                    (n = I(this)).css(a, b(this, t, e, n[a]()));
                                                });
                                            };
                                        }), q.forEach(function (t, u) {
                                            var d = u % 2;
                                            I.fn[t] = function () {
                                                var n, s, c = I.map(arguments, function (e) {
                                                        var t = [];
                                                        return 'array' == (n = o(e)) ? (e.forEach(function (e) {
                                                            return e.nodeType !== w ? t.push(e) : I.zepto.isZ(e) ? t = t.concat(e.get()) : void (t = t.concat(J.fragment(e)));
                                                        }), t) : 'object' == n || null == e ? e : J.fragment(e);
                                                    }), l = 1 < this.length;
                                                return c.length < 1 ? this : this.each(function (e, t) {
                                                    s = d ? t : t.parentNode, t = 0 == u ? t.nextSibling : 1 == u ? t.firstChild : 2 == u ? t : null;
                                                    var n = I.contains(M.documentElement, s), a = /^(text|application)\/(javascript|ecmascript)$/, r = nt(), i = r[mh], o = r[vh];
                                                    c.forEach(function (e) {
                                                        if (l)
                                                            e = e.cloneNode(!0);
                                                        else if (!s)
                                                            return I(e).remove();
                                                        Lu(i) && 'SCRIPT' === e.tagName && e.setAttribute('nonce', i), Lu(o) && 'STYLE' === e.tagName && e.setAttribute('nonce', o), s.insertBefore(e, t), n && T(e, function (e) {
                                                            null == e.nodeName || 'SCRIPT' !== e.nodeName.toUpperCase() || e.type && !a.test(e.type.toLowerCase()) || e.src || C(M, e.innerHTML, e.nonce);
                                                        });
                                                    });
                                                });
                                            }, I.fn[d ? t + 'To' : 'insert' + (u ? 'Before' : 'After')] = function (e) {
                                                return I(e)[t](this), this;
                                            };
                                        }), J.Z.prototype = g.prototype = I.fn, J.uniq = E, J.deserializeValue = S, I.zepto = J, I;
                                    }()), function () {
                                        try {
                                            getComputedStyle(undefined);
                                        } catch (e) {
                                            var n = getComputedStyle;
                                            du.getComputedStyle = function (e, t) {
                                                try {
                                                    return n(e, t);
                                                } catch (Fpa) {
                                                    return null;
                                                }
                                            };
                                        }
                                    }(), fu = (pu = vu).zepto, hu = fu.qsa, gu = /^\s*>/, mu = 'Zepto' + +new Date(), fu.qsa = function (e, t) {
                                        var n, a, r = t;
                                        try {
                                            r ? gu.test(r) && (a = pu(e).addClass(mu), r = '.' + mu + ' ' + r) : r = '*', n = hu(e, r);
                                        } catch (i) {
                                            throw i;
                                        } finally {
                                            a && a.removeClass(mu);
                                        }
                                        return n;
                                    }, vu), Vh = window.MutationObserver || window.WebkitMutationObserver, Bh = 'Expected an array of promises';
                                Su._setImmediateFn && je();
                                var Fh = F(), Uh = /.*\.(\d+)_\d+/;
                                ct(window, document);
                                var Hh = 'at-library-loaded', qh = 'at-request-start', $h = 'at-request-succeeded', Gh = 'at-request-failed', Yh = 'at-content-rendering-start', Kh = 'at-content-rendering-succeeded', Qh = 'at-content-rendering-failed', zh = 'at-content-rendering-no-offers', Wh = 'at-content-rendering-redirect', Jh = ':eq(', Xh = ')', Zh = Jh.length, eg = /((\.|#)(-)?\d{1})/g, tg = 'Unable to load target-vec.js', ng = 'Loading target-vec.js', ag = '_AT', rg = 'clickHandlerForExperienceEditor', ig = 'currentView', og = 'at_qa_mode', sg = 'at_preview_token', cg = 'at_preview_index', lg = 'at_preview_listed_activities_only', ug = 'at_preview_evaluate_as_true_audience_ids', dg = 'at_preview_evaluate_as_false_audience_ids', pg = '_', fg = function fg(e) {
                                        return !h(e);
                                    }, hg = 'at_preview_mode', gg = 'at_preview', mg = 'at-', vg = 'at-body-style', bg = '#' + vg, yg = mg + 'views', _g = 'Disabled due to optout', Sg = 'MCAAMB', Tg = 'MCAAMLH', Cg = 'MCMID', wg = 'MCOPTOUT', kg = 'getSupplementalDataID', Ig = 'getCustomerIDs', Pg = !0, Dg = 'NS', Eg = 'DS', Ag = 'trackingServer', xg = Ag + 'Secure', Ng = 'Visitor', Og = 'getInstance', Mg = 'isAllowed', Lg = 'Visitor API requests timed out', Rg = 'Visitor API requests error', jg = {}, Vg = 'Data provider', Bg = 'timed out', Fg = 2000, Ug = 'authorization', Hg = 'mboxDebugTools', qg = pa(), $g = 'profile.', Gg = 'mbox3rdPartyId', Yg = 'at_property', Kg = 'orderId', Qg = 'orderTotal', zg = 'productPurchasedId', Wg = 'productId', Jg = 'categoryId', Xg = 'POST', Zg = 'Network request failed', em = 'Request timed out', tm = 'Malformed response JSON', nm = 'mboxedge', am = '.tt.omtrdc.net', rm = function rm(e) {
                                        return !P(e);
                                    }, im = function im(t) {
                                        return function (e) {
                                            return e[t];
                                        };
                                    }, om = function om(t) {
                                        return function (e) {
                                            return !t(e);
                                        };
                                    }, sm = om(h), cm = om(E), lm = function lm(t) {
                                        return function (e) {
                                            return g(t, e);
                                        };
                                    }, um = function um(e) {
                                        return e.status === Np;
                                    }, dm = function dm(e) {
                                        return e.type === $p;
                                    }, pm = function pm(e) {
                                        return e.type === Sd;
                                    }, fm = lm(sm), hm = lm(cm), gm = im(Qf), mm = im(Zu), vm = im(Gp), bm = function bm(e) {
                                        return Lu(e.name);
                                    }, ym = function ym(e) {
                                        return !h(e.index);
                                    }, _m = function _m(e) {
                                        return d(e) && bm(e);
                                    }, Sm = function Sm(e) {
                                        return d(e) && bm(e) && ym(e);
                                    }, Tm = function Tm(e) {
                                        return d(e) && bm(e);
                                    }, Cm = function Cm(e) {
                                        return Lu(e.selector);
                                    }, wm = im(Yp), km = f([
                                        wm,
                                        sm
                                    ]), Im = 'adobe_mc_sdid', Pm = 'Network request failed', Dm = 'Request timed out', Em = 'URL is required', Am = 'GET', xm = 'POST', Nm = 'method', Om = 'url', Mm = 'headers', Lm = 'data', Rm = 'credentials', jm = 'timeout', Vm = 'async', Bm = /CLKTRK#(\S+)/, Fm = /CLKTRK#(\S+)\s/, Um = function fg(e) {
                                        return !h(e);
                                    }, Hm = 'visibilityState', qm = 'visible', $m = 100, Gm = Qd + ',' + Wd + ',' + zd, Ym = 'at-action-key', Km = 'metric element not found', Qm = 'navigator', zm = 'sendBeacon', Wm = 'Beacon data sent', Jm = 'Beacon data sent failed', Xm = 'View triggered notification', Zm = 'View rendered notification', ev = 'Mboxes rendered notification', tv = 'Event handler notification', nv = 'Mbox event handler notification', av = 'View event handler notification', rv = 'prefetchMboxes', iv = 'rendered', ov = 'triggered', sv = {}, cv = 'pageLoadMetrics', lv = 'prefetchMetrics', uv = im(zf), dv = function dv() {
                                        return Tr(Vp);
                                    }, pv = function pv(e) {
                                        return Cr(Vp, e);
                                    }, fv = im(Zu), hv = im(cd), gv = function gv(e) {
                                        return Tr(jp, e);
                                    }, mv = function mv(e) {
                                        return Cr(jp, e);
                                    }, vv = function vv(e) {
                                        return om(um)(e) && km(e);
                                    };
                                pc.prototype = {
                                    on: function qv(e, t, n) {
                                        var a = this.e || (this.e = {});
                                        return (a[e] || (a[e] = [])).push({
                                            fn: t,
                                            ctx: n
                                        }), this;
                                    },
                                    once: function $v(e, t, n) {
                                        function a() {
                                            r.off(e, a), t.apply(n, arguments);
                                        }
                                        var r = this;
                                        return a._ = t, this.on(e, a, n);
                                    },
                                    emit: function Gv(e) {
                                        for (var t = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[e] || []).slice(), a = 0, r = n.length; a < r; a++)
                                            n[a].fn.apply(n[a].ctx, t);
                                        return this;
                                    },
                                    off: function Yv(e, t) {
                                        var n = this.e || (this.e = {}), a = n[e], r = [];
                                        if (a && t)
                                            for (var i = 0, o = a.length; i < o; i++)
                                                a[i].fn !== t && a[i].fn._ !== t && r.push(a[i]);
                                        return r.length ? n[e] = r : delete n[e], this;
                                    }
                                };
                                var bv = pc, yv = pc;
                                bv.TinyEmitter = yv;
                                var _v = fc(), Sv = 'Page load rendering failed', Tv = 'Mboxes rendering failed', Cv = 'View rendering failed', wv = 'Prefetch rendering failed', kv = function kv(e) {
                                        return !P(g(um, e));
                                    }, Iv = '[page-init]', Pv = '[getOffer()]', Dv = '[getOffers()]', Ev = '[applyOffer()]', Av = '[applyOffers()]', xv = '[sendNotifications()]', Nv = '[trackEvent()]', Ov = '[triggerView()]', Mv = [], Lv = 1, Rv = 0;
                                tu();
                                var jv = 'function has been deprecated. Please use getOffer() and applyOffer() functions instead.', Vv = 'adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.', Bv = 'mboxCreate() ' + jv, Fv = 'mboxDefine() ' + jv, Uv = 'mboxUpdate() ' + jv, Hv = {
                                        init: uu,
                                        initConfig: J,
                                        initDelivery: cl
                                    };
                                e.exports = Hv;
                            }
                        },
                        'adobe-target-v2/lib/messages.js': {
                            script: function (e) {
                                'use strict';
                                e.exports = {
                                    ALREADY_INITIALIZED: 'AT: Adobe Target has already been initialized.',
                                    DELIVERY_DISABLED: 'AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.',
                                    NO_REQUEST: 'AT: Target library is either not loaded or disabled, no request will be executed'
                                };
                            }
                        },
                        'adobe-target-v2/lib/modules/params-store.js': {
                            script: function (e, t, n) {
                                'use strict';
                                function o(e) {
                                    return void 0 !== e && null != e && Object.prototype.hasOwnProperty.call(e, 'value') && null != e.checked;
                                }
                                function a(r) {
                                    var i = {};
                                    return Object.keys(r).forEach(function (e) {
                                        var t = r[e];
                                        if (o(t)) {
                                            var n = t.checked, a = t.value;
                                            n && '' === a || (i[e] = a);
                                        } else
                                            i[e] = t;
                                    }), i;
                                }
                                function r(e) {
                                    var t = a(e);
                                    l(u, t);
                                }
                                function i(e) {
                                    var t = a(e);
                                    l(d, t);
                                }
                                function s() {
                                    return u;
                                }
                                function c() {
                                    return d;
                                }
                                var l = n('./object-override'), u = {}, d = {};
                                e.exports = {
                                    mergeParams: r,
                                    mergePageLoadParams: i,
                                    getParams: s,
                                    getPageLoadParams: c
                                };
                            }
                        },
                        'adobe-target-v2/lib/targetSettings.js': {
                            script: function (e, t, n, a) {
                                'use strict';
                                var r = a.getExtensionSettings(), i = r.targetSettings || {};
                                e.exports = {
                                    extensionSettings: r,
                                    targetSettings: i
                                };
                            }
                        },
                        'adobe-target-v2/lib/modules/object-override.js': {
                            script: function (e) {
                                'use strict';
                                function a(e, t, n, a) {
                                    t[n] !== a && (e[n] = t[n]);
                                }
                                function r(e) {
                                    return !Array.isArray(this.subset) || -1 !== this.subset.indexOf(e);
                                }
                                e.exports = function (t, n, e) {
                                    Object.keys(n).filter(r, { subset: e }).forEach(function (e) {
                                        a(t, n, e);
                                    });
                                };
                            }
                        },
                        'adobe-target-v2/lib/librarySettings.js': {
                            script: function (e) {
                                'use strict';
                                var t = { version: '2.5.0' };
                                e.exports = { TARGET_DEFAULT_SETTINGS: t };
                            }
                        },
                        'adobe-target-v2/lib/modules/event-util.js': {
                            script: function (e) {
                                'use strict';
                                function t(e, t, n) {
                                    e.addEventListener(t, n);
                                }
                                function n(e, t, n) {
                                    e.removeEventListener(t, n);
                                }
                                e.exports = {
                                    addEventListener: t,
                                    removeEventListener: n
                                };
                            }
                        },
                        'adobe-target-v2/lib/modules/page-load.js': {
                            script: function (e, t, n) {
                                'use strict';
                                var a = n('../librarySettings'), r = n('@adobe/reactor-window'), i = n('./object-override'), o = n('./params-store'), s = o.getParams, c = o.getPageLoadParams, l = n('../targetSettings').targetSettings;
                                e.exports = function (e) {
                                    return l.mboxParams = s(), l.globalMboxParams = c(), i(l, e, [
                                        'bodyHidingEnabled',
                                        'bodyHiddenStyle'
                                    ]), i(l, r.targetGlobalSettings || {}, [
                                        'enabled',
                                        'bodyHidingEnabled',
                                        'bodyHiddenStyle'
                                    ]), i(l, a.TARGET_DEFAULT_SETTINGS || {}, ['version']), l;
                                };
                            }
                        }
                    },
                    settings: {
                        targetSettings: {
                            enabled: !0,
                            timeout: 3000,
                            version: '2.5.0',
                            endpoint: '/rest/v1/delivery',
                            imsOrgId: 'BC501253513148ED0A490D45@AdobeOrg',
                            clientCode: 'scripps',
                            secureOnly: !1,
                            serverState: {},
                            optinEnabled: !1,
                            serverDomain: 'scripps.tt.omtrdc.net',
                            urlSizeLimit: 2048,
                            viewsEnabled: !0,
                            optoutEnabled: !1,
                            globalMboxName: 'target-global-mbox',
                            bodyHiddenStyle: 'body {opacity: 0}',
                            pageLoadEnabled: !0,
                            analyticsLogging: 'server_side',
                            deviceIdLifetime: 63244800000,
                            bodyHidingEnabled: !0,
                            decisioningMethod: 'server-side',
                            sessionIdLifetime: 1860000,
                            visitorApiTimeout: 2000,
                            authoringScriptUrl: '//cdn.tt.omtrdc.net/cdn/target-vec.js',
                            overrideMboxEdgeServer: !1,
                            selectorsPollingTimeout: 5000,
                            defaultContentHiddenStyle: 'visibility: hidden;',
                            defaultContentVisibleStyle: 'visibility: visible;',
                            overrideMboxEdgeServerTimeout: 1860000,
                            supplementalDataIdParamTimeout: 30
                        }
                    },
                    hostedLibFilesBaseUrl: 'https://assets.adobedtm.com/extensions/EPe0317ac342d64783ada9726d04d0601b/'
                },
                'gtag.js': {
                    displayName: 'Google gtag',
                    modules: {
                        'gtag.js/src/lib/gtagCode.js': {
                            script: function (e, t, n, a) {
                                'use strict';
                                var r = n('@adobe/reactor-load-script'), i = a.getExtensionSettings(), o = i.conversionIdList, s = i.dataLayerName, c = 'https://www.googletagmanager.com/gtag/js?id=' + o[0];
                                s && (c = 'https://www.googletagmanager.com/gtag/js?id=' + o[0] + '&l=' + s), r(c), !window.dataLayer || Array.isArray(window.dataLayer) || s || console.log('window.dataLayer already exists and is not an array. Visit the gtag extension configuration in Launch and provide a custom data layer name of your choosing.'), s ? (window[s] = window[s] || [], window.gtag = function () {
                                    window[s].push(arguments);
                                }) : (window.dataLayer = window.dataLayer || [], window.gtag = function () {
                                    dataLayer.push(arguments);
                                }), gtag('js', new Date()), o.forEach(function (e) {
                                    gtag('config', e);
                                });
                            }
                        }
                    },
                    settings: {
                        conversionIdList: [
                            'AW-397208692',
                            'DC-3764700'
                        ]
                    },
                    hostedLibFilesBaseUrl: 'https://assets.adobedtm.com/extensions/EPafb38e52c35f4c8e9725c5b669a4431d/'
                },
                'facebook-pixel': {
                    displayName: 'Facebook Pixel',
                    modules: {
                        'facebook-pixel/src/lib/actions/sendPageView.js': {
                            name: 'send-page-view',
                            displayName: 'Send Page View',
                            script: function (e, t, n, a) {
                                'use strict';
                                e.exports = function () {
                                    n('../helpers/getFbQueue')('track', 'PageView'), a.logger.log('Queue command: fbq("track", "PageView").');
                                };
                            }
                        },
                        'facebook-pixel/src/lib/helpers/getFbQueue.js': {
                            script: function (e, t, n, a) {
                                'use strict';
                                var r, i = n('@adobe/reactor-window'), o = n('@adobe/reactor-load-script'), s = function () {
                                        var e = function () {
                                            e.callMethod ? e.callMethod.apply(e, arguments) : e.queue.push(arguments);
                                        };
                                        return (e.push = e).loaded = !0, e.version = '2.0', e.queue = [], e;
                                    };
                                i.fbq || (r = s(), i.fbq = r, i._fbq || (i._fbq = r)), o('https://connect.facebook.net/en_US/fbevents.js').then(function () {
                                    a.logger.log('Facebook Pixel Base Code was successfully loaded.');
                                }, function () {
                                    a.logger.error('Facebook Pixel Base Code could not be loaded.');
                                }), i.fbq('init', a.getExtensionSettings().pixelId, {}, { agent: 'adobe_launch' }), e.exports = i.fbq;
                            }
                        }
                    },
                    settings: { pixelId: '665960526897455' },
                    hostedLibFilesBaseUrl: 'https://assets.adobedtm.com/extensions/EP1694fbc2d2eb4e1585cd00ae3718b3ad/'
                }
            },
            company: { orgId: 'BC501253513148ED0A490D45@AdobeOrg' },
            property: {
                name: 'Discovery Core',
                settings: {
                    domains: [
                        'hgtv.com',
                        'diynetwork.com',
                        'foodnetwork.com',
                        'cookingchanneltv.com',
                        'travelchannel.com',
                        'greatamericancountry.com',
                        'discovery.com',
                        'tlcme.com',
                        'investigationdiscovery.com'
                    ],
                    undefinedVarsReturnEmpty: !1,
                    ruleComponentSequencingEnabled: !0
                }
            },
            rules: [
                {
                    id: 'RLa6ad4f7ce7b843d983fce27d31ee11eb',
                    name: 'Core:Library Loaded:Target:Deploy',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 49
                        }],
                    conditions: [{
                            modulePath: 'core/src/lib/conditions/customCode.js',
                            settings: {
                                source: function () {
                                    return function () {
                                        var e = !1;
                                        -1 < location.host.indexOf('photos.hgtv.com') && (e = !0);
                                        var t = [
                                            '/how-to/packages/shopping/product-reviews/best-air-fryer',
                                            '/how-to/packages/shopping/product-reviews/best-nonstick-frying-pans',
                                            '/how-to/packages/shopping/product-reviews/best-sheet-pans',
                                            '.com/#/get-cooking',
                                            '/recipes/food-network-kitchen/french-onion-baked-mac-and-cheese-7929937',
                                            '/recipes/short-rib-ragu-and-polenta-7929889',
                                            '/recipes/food-network-kitchen/instant-pot-salmon-with-garlic-potatoes-and-greens-3894814'
                                        ];
                                        return -1 < location.host.indexOf('foodnetwork.com') && t.includes(location.pathname) && (e = !0), e;
                                    }();
                                }
                            },
                            timeout: 2000
                        }],
                    actions: [
                        {
                            modulePath: 'adobe-target-v2/lib/loadTarget.js',
                            settings: {},
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'adobe-target-v2/lib/addPageLoadParams.js',
                            settings: { params: {} },
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'adobe-target-v2/lib/firePageLoad.js',
                            settings: {
                                bodyHiddenStyle: 'body {opacity: 0}',
                                bodyHidingEnabled: !0
                            },
                            timeout: 2000,
                            delayNext: !0
                        }
                    ]
                },
                {
                    id: 'RLf662b5b1a3c74ff6a77fb6a777e62d08',
                    name: 'Core: Library Loaded:Gigya Tracking',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '/*\n* Custom tracking for Gigya Registration\n*/\nSNI = window.SNI || {};\nSNI.Analytics = SNI.Analytics || {};\nSNI.Analytics.trackGigyaRegistration = function(network) {\n    // probably should delete this block since it\'s at the end of the function unless somehow s.tl() is being modified for something related to CQ_Analytics\n\tif (typeof CQ_Analytics === "object" && CQ_Analytics.Sitecatalyst) {\n\t\tCQ_Analytics.Sitecatalyst.events=[];\n    }\n    \n\ts.linkTrackVars = "contextData.eventSocialRegistrationBrand";\n\tif(typeof s === "object"){\n        _satellite.logger.log("Tracking Gigya Registration");\n        s.contextData["eventSocialRegistrationBrand"] = "1";\n\t    if ( network ) { // if network is true, this represents a new-to-network user\n            s.linkTrackVars += ",contextData.eventSocialRegistrationNetwork";\n            s.contextData["eventSocialRegistrationNetwork"] = "1";\n\t    }\n        s.tl(this, \'o\', \'logEvent Gigya registration\');\n        // clear custom event vars\n        s.contextData["eventSocialRegistrationBrand"] = "";\n        s.contextData["eventSocialRegistrationNetwork"] = "";\n    }\n    s.linkTrackVars = "";\n\n    // old code, but not sure if anything else relies on CQ_Analytics.Sitecatalyst.events\n    if (typeof CQ_Analytics === "object" && CQ_Analytics.Sitecatalyst) {\n    \tCQ_Analytics.Sitecatalyst.events=[];\n    }\n};\n\nSNI.Analytics.fireGigyaAbandonment = function(event) {\n\tif ( SNI.Analytics.blockAbandonment ) {\n\t\treturn;\n    }\n    \n    // probably this block, for CQ_Analytics, should be deleted\n\tif (typeof CQ_Analytics === "object" && CQ_Analytics.Sitecatalyst) {\n\t\tCQ_Analytics.Sitecatalyst.events=[];\n    }\n    \n\tif(typeof s === "object"){\n        _satellite.logger.log("Tracking Gigya Abandonment");\n        s.linkTrackVars = "contextData.eventFormAbandonment,contextData.sweepsFormAbandonment";\n        s.contextData["eventFormAbandonment"] = "1";\n        s.contextData["sweepsFormAbandonment"] = SNI.Analytics.formGigyaLast;\n        s.tl(event, \'o\', \'logEvent Gigya abandonment\');\n        // clear custom event vars\n        s.contextData["eventFormAbandonment"] = "";\n        s.linkTrackVars = "";\n    }\n    \n    // old, but don\'t know if needed\n\tif (typeof CQ_Analytics === "object" && CQ_Analytics.Sitecatalyst) {\n\t\tCQ_Analytics.Sitecatalyst.events=[];\n    }\n};\n\nSNI.Analytics.trackGigyaAbandonment = function(selector) {\n\tvar $form = $(selector);\n\tif ( $form.length > 0 ) {\n\t\t$form.find(\'input\').change(function () {\n\t\t\tSNI.Analytics.formGigyaLast = "last_elememt:"+ $(this).attr(\'name\');\n\t\t});\n\t\t$form.find(\'select\').change(function () {\n\t\t\tSNI.Analytics.formGigyaLast = "last_elememt:"+ $(this).attr(\'name\');\n\t\t});\n\t\t$form.submit(function () {\n\t\t\tSNI.Analytics.blockAbandonment = true;\n\t\t});\n\t\t$(window).bind(\'beforeunload\',function(event){\n\t\t\tSNI.Analytics.fireGigyaAbandonment(event);\n\t\t});\n    }\n};\n\nSNI.Analytics.trackGigyaScreenSet = function(event) {\n\tvar modulename = event.currentScreen;\n\tif ( modulename === "gigya-register-email-screen" ) {\n\t\tSNI.Analytics.trackGigyaAbandonment(\'.gigya-screen-dialog\');\n\t}\n\t$(\'.gigya-screen-dialog div[onclick*=providerClick]\').click( function() {\n\t\tvar $obj = $(this);\n\t\tSNI.Analytics.moduleTrackLS(this,{\n\t\t\t\tModuleName: modulename,\n\t\t\t\tLinkTitle: $obj.attr(\'title\'),\n\t\t\t\tLinkPosition: $(\'.gigya-screen-dialog div[onclick*=providerClick], a\').index($obj),\n\t\t\t\tTargetUrl: $obj.attr(\'title\') + " Auth Screen"\n\t\t\t});\n\t});\n\t$(\'.gigya-screen-dialog a\').click( function() {\n\t\tvar $obj = $(this);\n\t\tif ( $obj.hasClass(\'gigya-screen-dialog-close\') && modulename === "gigya-register-email-screen" ) {\n\t\t\tSNI.Analytics.fireGigyaAbandonment();\n\t\t}\n\t\tSNI.Analytics.moduleTrackLS(this,{\n\t\t\t\tModuleName: modulename,\n\t\t\t\tLinkTitle: $obj.hasClass(\'gigya-screen-dialog-close\') ? "close" : $obj.html(),\n\t\t\t\tLinkPosition: $(\'.gigya-screen-dialog div[onclick*=providerClick], a\').index($obj),\n\t\t\t\tTargetUrl: $obj.attr("data-switch-screen")\n\t\t\t});\n\t});\n}\n\n/*\n * Partner Plugin: Gigya v3 (BEGIN)\n */\nvar gigya_omniture_conf = { \n    linkName: \'Gigya Action\', \n    eventMap : [ \n        {\n          gigEvent:"login",\n          omtrEvents:["event37"],\n          mapVars:["eVar52=user.loginProvider", "eVar36=getAge()", "eVar36=getGender()"] \n        }, \n        {\n          gigEvent:"sendDone",\n          omtrEvents:["event33"],\n          mapVars:["eVar70=providers","products"] \n        }\n    ],\n\tgetCommentProviders:function(evt) {\t\t\t\n\t\tvar g=evt.providerPostIDs;\n\t\tif(g&&typeof(g)=="object"){  \n\t\t\tvar b = "",f;\n\t\t\tfor (f in g) b += (b ? "," : "") + f;\n\t\t\treturn b;\n\t\t}\n\t\treturn \'\';\n\t},\n\tgetAge:function(evt) {\t\t\n\t\tvar a=evt.user.age;\n\t\tif(typeof(a)=="number"&&a>0){  \n\t\t\treturn a;\n\t\t}\n\t\treturn \'?\';\n\t},\n\tgetGender:function(evt) {\t\t\t\n\t\tvar g=evt.user.gender;\n\t\tif(typeof(g)=="string"&&g.length>0){  \n\t\t\treturn g;\n\t\t}\n\t\treturn \'?\';\n\t},\n\tgetiRank:function(evt) {\t\t\n\t\tif(typeof(evt.user.iRank)=="string"){\n            var r = parseFloat(evt.user.iRank).toFixed(0);\n            if(r >= 0.0001) return r;\n\t\t}\n\t\treturn \'?\';\n\t}\n};\n/*\n * Partner Plugin: Gigya v3 (END)\n */',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLe3dde076acc341349dd4fdcabf19edfa',
                    name: 'Core:Library Loaded:Modify s.t() for 3rd Party Integrations',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/clearVariables.js',
                            settings: {},
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                global: !0,
                                source: '(function(){\n    // perform common site check to apply to all function scopes\n    var cur_host = location.host,\n    isHGTV = (cur_host.indexOf("hgtv.com") != -1),\n    isFN = (cur_host.indexOf("foodnetwork.com") != -1),\n    isTravel = (cur_host.indexOf("travelchannel.com") != -1),\n    isID = (cur_host.indexOf("investigationdiscovery.com") != -1 );\n    \n    /* Update s.t() to rely on context data and include integrations */\n    // function to refresh context data\n    function refreshContextData(e,t,extra1,extra2,extra3,callback) {\n        _satellite.logger.log(\'Refreshing Context Data.\');\n        // OrigPubDate modification logic\n        cleanOrigPubDate = function s_cleanOrigPubDate() {\n            var opd = mdManager.getParameterString("OrigPubDate"),\n                opd_array = [],\n                opd_days = 0,\n                opd_string = "",\n                orig_date,\n                mod_date;\n            try {\n                if (opd && typeof opd === "string") {\n                    opd_array = opd.match(/\\d\\d\\d\\d-\\d\\d-\\d\\d/g);\n                    opd_string = opd_array ? opd_array.join("|") : "";\n                    if (opd_string !== "") {\n                        if (opd_array[0]) {\n                            orig_date = new Date(opd_array[0]);\n                            opd_string += "|" + dateDeltas(orig_date);\n                        }\n                        if (opd_array[1]) {\n                            mod_date = new Date(opd_array[1]);\n                            opd_string += "|" + dateDeltas(mod_date);\n                        }\n                    }\n                }\n            } catch (e) {\n                //  something went wrong\n            }\n            return opd_string;\n        }\n        dateDeltas = function s_dateDeltas(dateObj) {\n            var today = new Date(),\n                days = Math.floor(Math.abs(today.getTime() - dateObj.getTime()) / (1000 * 3600 * 24));\n            if (days < 8) {\n                return (days + (days === 1 ? " day" : " days"));\n            } else if (days > 7 && days < 31) {\n                return ("8 days-1 month");\n            } else if (days > 30 && days < 366) {\n                return (Math.floor(days / 30.417) + "-" + Math.ceil(days / 30.417) + " months");\n            } else if (days > 365) {\n                return ">1 year";\n            }\n        }\n\n        // refresh context data\n        var key,value,upperKey;\n        for (key in mdManager.getKeys()) {\n            value = mdManager.getParameter(key);\n            upperKey = key.toString().toUpperCase();\n            if (upperKey  !== "UNIQUEID") { value = value.toString().toLowerCase(); }\n\n            // remap mdManager to appropriate contextData variables\n    \t\tif (upperKey === "URL") { key = "pageName"; }\n    \t\telse if (upperKey  === "TITLE") { key = "pageTitle"; }\n    \t\telse if (upperKey  === "CATEGORYDSPNAME") { key = "contentSiteSection"; }\n    \t\telse if (upperKey  === "SCTNDSPNAME") { key = "contentSubSection"; }\n    \t\telse if (upperKey  === "SUBSECTION") { key = "contentSubSection2"; }\n    \t\telse if (upperKey  === "SUBSECTIONL2") { key = "contentSubSection3"; } // verify key is correct format and if this is being used at all\n    \t\telse if (upperKey  === "TYPE") { key = "contentPageType"; }\n    \t\telse if (upperKey  === "UNIQUEID") { key = "pageUniqueID"; }\n    \t\telse if (upperKey  === "DELIVERY_CHANNEL") { key = "deliveryChannel"; }\n    \t\telse if (upperKey  === "IMGURL") { key = "imageURL"; }\n            else if (upperKey  === "ORIGPUBDATE") {\n                s.contextData["originalPublishDate"] = mdManager.getParameter(key).split("|")[0];\n                s.contextData["latestPublishDate"] = mdManager.getParameter(key).split("|")[1];\n                value = cleanOrigPubDate();\n            }\n            else if (upperKey  === "SHOW_ABBR") { key = "showName"; }\n            else if (upperKey  === "POINTOFINTEREST") { key="poi"; }\n            else if (upperKey  === "FILTER") { key = "searchFilters"; }\n            else if (upperKey  === "SEARCHTERMS") { key = "searchTermContextual"; }\n            else if (upperKey  === "DIMENSIONS") { key = "searchDimensions"; }\n            else if (upperKey  === "DIMENSIONVALUES") { key = "searchDimensionValues"; }\n            else if (upperKey  === "NOSEARCHRESULTS") { key = "noResultsSearchTerm"; }\n    \t\telse if (upperKey  === "TAGGROUP1") { key = "contentTags"; }\n        \n\n            delete s.contextData[key];\n            s.contextData[key] = value;\n        }\t\n    \n    \n        /** content tags and s.products **/\n        // clear values from previous clicks e.g. so data doesn\'t persist on slides that don\'t have products\n        var usingShopTrack = sessionStorage.getItem("prodSetByShopTrack") != "true"? false : true;\n        if (s.events && !usingShopTrack) {\n            s.events = s.events.replace(/,?prodView/, "");\n        }\n        if (s.linkTrackVars && !usingShopTrack) { // don\'t clear out these values if using shopTrack() function\n            s.linkTrackVars = s.linkTrackVars.replace(/,?shoppingProducts/, "");\n            s.linkTrackVars = s.linkTrackVars.replace(/,?eventShoppingProductsImpressions/, "");\n        }\n        // set values\n        setContentTagsFromHeaders = function conTagFromH (tagHeaders) {\n            if ( !Array.isArray(tagHeaders) ) { return false; };\n            s.contextData["contentTags"] = "";\n            var tagArray = [];\n            for (var i = 0; i < tagHeaders.length; i++) {\n                var currentHeader = tagHeaders[i];\n                var tagItem = currentHeader + "|";\n                if (mdManager.getParameter(currentHeader) != undefined) { tagItem += mdManager.getParameter(currentHeader) }\n                tagArray.push(tagItem);\n            }\n            s.contextData["contentTags"] = tagArray.join().toLowerCase();\n        };\n        var tagHeaders = [],lowerCaseType;\n        var fullURL = location.href;\n        var domainRegex = /^https?\\:\\/\\/(?:.*\\.)?(?:([^\\.]+)\\.com).*$/;\n        var domain = fullURL.match(domainRegex)[1];\n        lowerCaseType = mdManager.getParameter("type").toString().toLowerCase();\n        // collect tags and s.products under certain conditions\n        if (lowerCaseType === "recipe" && (domain === "foodnetwork" || domain === "cookingchanneltv")) {\n            tagHeaders = ["cuisine", "difficulty", "mainingredient", "mealpart", "preptime", "technique", "dish", "mealtype", "nutrition", "occasions", "courses", "taste"];\n            setContentTagsFromHeaders(tagHeaders);\n        } else if (lowerCaseType === "example_other_page_type" && domain === "someParticularSite") {\n            tagHeaders = ["ex_tag_header_1", "ex_tag_header_2"];\n            setContentTagsFromHeaders(tagHeaders);\n        } else {\n            // overwrite contentTags if any of the following are present\n            if (!usingShopTrack) {\n                if (mdManager.getParameterString("Overlay_TagGroup1") != "") {\n                    s.contextData["contentTags"] = mdManager.getParameterString("Overlay_TagGroup1").replace(/;/g, "|");\n                } else if (mdManager.getParameterString("TagGroup1") != "") {\n                    s.contextData["contentTags"] = mdManager.getParameterString("TagGroup1").replace(/;/g, "|");\n                }\n                // remove legacy wayfair stl from the photo tags/list2 meta-data\n                if (s.contextData["contentTags"] && s.contextData["contentTags"].indexOf("wayfair/shop_this_look") != -1) {\n                    s.contextData["contentTags"] = s.contextData["contentTags"].replace("partner|wayfair/shop_this_look,", "");\n                }\n                if (mdManager.getParameterString("shopping").toString().toLowerCase() == "shopping") {\n                    if (mdManager.getParameter("products").indexOf("|") == -1) {\n                        productList = mdManager.getParameter("products").replace(/,;/g, ",;s|na|");\n                        s.products = ";s|na|" + productList;\n                    } else {\n                        productList = mdManager.getParameter("products").replace(/,;/g, ",;s|");\n                        s.products = ";s|" + productList;\n                    }\n                    s.products += ",;c|" + mdManager.getParameter("componentName");\n                    s.products += "|" + mdManager.getParameter("componentTitle");\n                    s.products += "|" + mdManager.getParameter("imageCount");\n                    s.products += "|" + mdManager.getParameter("productCount");\n                    s.products += "|" + mdManager.getParameter("visibleProductCount");\n                    s.products += "|" + mdManager.getParameter("perImageProductCount");\n                    s.products += "|" + mdManager.getParameter("productPosition");\n\n                    s.products = s.products.toLowerCase();\n                    s.contextData["shoppingProducts"] = "D=products";\n                    s.contextData["eventShoppingProductsImpressions"] = "1";\n                    s.linkTrackVars = s.linkTrackVars || "";\n                    s.linkTrackVars += ",shoppingProducts,eventShoppingProductsImpressions";\n                    s.events = s.events || "";\n                    s.events += ",prodView";\n                    \n                \n                    //For Apple News shopping product clicks\n                    if (location.host.indexOf("click.tinysharks.") != -1 || location.host.indexOf("click.home.") != -1 || location.host.indexOf("click.fnr.") != -1) {\n                        s.events = "scAdd";\n                        s.contextData["eventShoppingProductsImpressions"] = "";\n                        s.contextData["moduleName"] = mdManager.getParameter("componentName");\n                        s.contextData["linkTitle"] = mdManager.getParameter("sourcePageTitle");\n                        s.contextData["linkPosition"] = "apple news";\n                        s.contextData["targetURL"] = location.host + location.pathname;\n                        s.contextData["locURL"] = mdManager.getParameter("sourcePageUrl");\n                    }  \n                }\n                sessionStorage.setItem("prodSetByShopTrack", "false"); // just make sure we\'re still not using shopTrack()\n            }\t\n        }\n\n        // allow a callback\n        if (typeof callback === "function") { callback(e,t,extra1,extra2,extra3); };\n    }\n\n    // function to unset context data event flags\n    function unsetCustomEvents() {\n        if (typeof s.contextData !== "object") {return false;};\n        _satellite.logger.log("clearing custom events");\n        var customEventKeys = Object.keys(s.contextData).filter(function (key) { return /^event.+$/.test(key);});\n        customEventKeys.forEach(function(key) { if (s.contextData[key]=="1") {s.contextData[key] = "";} });\n    }\n    s.registerPostTrackCallback(unsetCustomEvents);\n\n    // modify s.t\n    _satellite.logger.info("Updating s.t() to include required context data.");\n    var tempTrack = s.t.bind({});\n    s.t = function(e,t,extra1,extra2,extra3) {\n        if (document.location.href.indexOf(\'single-video-page.embed.html\') > -1  || document.location.href.indexOf(\'/content/products/\') > -1) {\n          _satellite.logger.warn("s.t() has been disabled on sites containing part of this path.");\n          return;\n        }\n        // Code to run before old s.t() call\n        s.contextData["eventPageConsumption"] = "1";\n        s.contextData["businessUnit"] = "discovery digital studios";\n        if (_satellite.getVar("Core:Constant:Analytics Code Version")) {\n            s.contextData["analyticsCodeVersion"] = _satellite.getVar("Core:Constant:Analytics Code Version");\n        }\n        if (_satellite.getVar("Core:Constant:Distribution Product")) {\n            s.contextData["productDetails"] = _satellite.getVar("Core:Constant:Distribution Product");\n        };\n        // old s.t() call as callback to refreshing context data\n        refreshContextData(e,t,extra1,extra2,extra3,tempTrack);\n        // Code to run after old s.t() call\n        runThirdPartyIntegrations();\n    }\n    \n    function runThirdPartyIntegrations() {\n        _satellite.logger.info(\'Running Third Party Integrations\');\n        sendComscoreBeacon();\n        sendFacebookBeacon();\n        sendGA_and_FB_Beacon();\n        addGoogleTags();\n        addFloodlightStuff();\n        addPostUp_js();\n        sendOtherFloodlightBeacons();\n        sendDoubleClickBeacon();\n    }\n    \n    function sendComscoreBeacon() {\n        if (s.pe !== "lnk_o" && s.contextData[\'serverCallType\'] === \'pageview\') {\n            var ns__t = new Date().getTime(),\n            cur_prot = window.location.protocol.toLowerCase(),\n            cur_host = window.location.host.toLowerCase(),\n            cur_path = window.location.pathname.toLowerCase();\n    \n            var path = "https://sb.scorecardresearch.com/b";\n            path += "?c1=2&c2=6035648&c3=&c4=&c5=&c6=";\n            path += "&c7=" + cur_prot + "//" + cur_host + cur_path;\n            path += "&c8=" + s.contextData["pageTitle"];\n            path += "&c9=" + encodeURI(s.referrer);\n            path += "&c15=&ns__t=" + ns__t + "&ns_c=UTF-8";\n            \n            _satellite.logger.log(\'sending comscore beacon\');\n            var tempImg = new Image();\n            tempImg.src = path;\n        }\n    }\n    \n    function sendFacebookBeacon() {\n        if (!s.pe && s.contextData["pageName"]) {\n            _satellite.logger.log(\'sending facebook beacon\');\n            rndNum = Math.random();\n            fbq(\'track\', \'ViewContent\',{\'content_name\':location.host + location.pathname + \':\' + rndNum});\t\n        }\n    }\n    \n    function sendGA_and_FB_Beacon() {\n        if (!s.pe && s.contextData["pageName"]) {\n            if (location.host.indexOf("golden.") == -1 && location.host.indexOf("mynewsletters.") == -1) {\n                if (location.host.indexOf(".discovery.") !=-1 || location.pathname.indexOf("/discovery-com/") !=-1) {\n                    _satellite.logger.log(\'Adding GA and FB beacons\');\n                    (function(i,s,o,g,r,a,m){i[\'GoogleAnalyticsObject\']=r;i[r]=i[r]||function(){\n                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n                    })(window,document,\'script\',\'https://www.google-analytics.com/analytics.js\',\'ga\');\n    \n                    ga(\'create\', \'UA-43824761-30\', \'auto\');\n                    ga(\'send\', \'pageview\',{\n                        \'dimension5\': _satellite.getVar(\'Show_Name\'),\n                        \'dimension6\': _satellite.getVar(\'Page_Type\'),\n                        \'dimension24\': \'non authenticated visit\',\n                        \'dimension27\': _satellite.getVar(\'Site_Name\'),\n                        \'dimension28\': \'web\',\n                        \'dimension29\': \'discovery-web\'\n                    });\n                    //floodlight tag for discovery.com pages\n                    fbq(\'init\', \'1837584353139018\');\n                    fbq(\'track\', \'PageView\');\n                }\n            }\n        }\n    }\n    \n    function addGoogleTags() {\n        if (!s.pe && s.pageName) {\n            _satellite.logger.log(\'Adding Google Tags\');\n            $.getScript("https://www.googletagmanager.com/gtag/js?id=AW-935057167");\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag(\'js\', new Date());\n            gtag(\'config\', \'AW-935057167\');\t\n        }\n    }\n    \n    function addFloodlightStuff() {\n        var flSite=_satellite.getVar("Site_Name");\n        var flSection=_satellite.getVar("Section_Name");\n        var flSubsection=_satellite.getVar("Subsection_Name");\n        _satellite.logger.log(\'Running Floodlight stuff.\');\n        if (location.host == "www.hgtv.com") {\n            if (!s.pe && s.pageName) {\n                //gtag(\'event\', \'conversion\', {\'allow_custom_scripts\': true, \'send_to\': \'DC-3764700/hgtvn0/hgtvn1+standard\', \'dc_custom_params\': {\'site\': flSite, \'section\': flSection, \'subsection\': flSubsection}});\n                $.getScript("//b-code.liadm.com/a-01z1.min.js");\n                if (location.pathname !== "/") {\n                    trx.magicLinksEngine = new trx.MagicLinks(false);\n                    trx.magicLinksEngine.run(true);\n                }\n    \n            }\t\n        }\n        else if (location.host == "www.foodnetwork.com") {\n            if (!s.pe && s.pageName) {\n                //gtag(\'event\', \'conversion\', {\'allow_custom_scripts\': true, \'send_to\': \'DC-3764700/foodn0/foodn1+standard\', \'dc_custom_params\': {\'site\': flSite, \'section\': flSection, \'subsection\': flSubsection}});\n                $.getScript("//b-code.liadm.com/a-01q4.min.js");\n                if (location.pathname !== "/") {\n                    trx.magicLinksEngine = new trx.MagicLinks(false);\n                    trx.magicLinksEngine.run(true);\n                }\n            }\n        }\n        else if (location.host == "www.travelchannel.com") {\n            if (!s.pe && s.pageName) {\n                //gtag(\'event\', \'conversion\', {\'allow_custom_scripts\': true, \'send_to\': \'DC-3764700/trave0/trave1+standard\', \'dc_custom_params\': {\'site\': flSite, \'section\': flSection, \'subsection\': flSubsection}});\n                $.getScript("//b-code.liadm.com/a-01z6.min.js");\n                if (location.pathname !== "/") {\n                    trx.magicLinksEngine = new trx.MagicLinks(false);\n                    trx.magicLinksEngine.run(true);\n                }\n            }\n        }\n        else if (location.host == "www.diynetwork.com") {\n            if (!s.pe && s.pageName) {\n                //gtag(\'event\', \'conversion\', {\'allow_custom_scripts\': true, \'send_to\': \'DC-3764700/diyne0/diyne1+standard\', \'dc_custom_params\': {\'site\': flSite, \'section\': flSection, \'subsection\': flSubsection}});\n                $.getScript("//b-code.liadm.com/a-01yw.min.js");\n            }\n        }\n        else if (location.host == "www.cookingchanneltv.com") {\n            if (!s.pe && s.pageName) {\n                //gtag(\'event\', \'conversion\', {\'allow_custom_scripts\': true, \'send_to\': \'DC-3764700/cooki0/cooki1+standard\', \'dc_custom_params\': {\'site\': flSite, \'section\': flSection, \'subsection\': flSubsection}});\n                $.getScript("//b-code.liadm.com/a-01yv.min.js");\n            }\n        }\n        /*\n        else if (location.host == "www.greatamericancountry.com") {\n            if (!s.pe && s.pageName) {\n                gtag(\'event\', \'conversion\', {\'allow_custom_scripts\': true, \'send_to\': \'DC-3764700/gac0/gacs0+standard\', \'dc_custom_params\': {\'site\': flSite, \'section\': flSection, \'subsection\': flSubsection}});\n            }\n        }\n        */\n        else if (location.host == "www.discovery.com") {\n            if (!s.pe && s.pageName) {\n                $.getScript("//b-code.liadm.com/a-01xy.min.js");\n            }\n        }\n        else if (location.host == "www.animalplanet.com") {\n            if (!s.pe && s.pageName) {\n                $.getScript("//b-code.liadm.com/a-01xx.min.js");\n            }\n        }\n        else if (location.host == "www.investigationdiscovery.com") {\n            if (!s.pe && s.pageName) {\n                $.getScript("//b-code.liadm.com/a-01xw.min.js");\n            }\n        }\n        else if (location.host == "www.tlc.com") {\n            if (!s.pe && s.pageName) {\n                $.getScript("//b-code.liadm.com/a-01xz.min.js");\n            }\n        }\n        else if (location.host == "www.tlcme.com") {\n            if (!s.pe && s.pageName) {\n                //$.getScript("//b-code.liadm.com/a-01xz.min.js");\n                if (location.pathname !== "/") {\n                    trx.magicLinksEngine = new trx.MagicLinks(false);\n                    trx.magicLinksEngine.run(true);\n                }\n            }\n        }\n        else if (location.host == "www.oprah.com") {\n            if (!s.pe && s.pageName) {\n                $.getScript("//b-code.liadm.com/a-01z2.min.js");\n            }\n        }\n    }\n    \n    function addPostUp_js() {\n        if (isHGTV || isFN) {\n            if (!s.pe && s.pageName) {  \n                _satellite.logger.log(\'Adding PostUp/lightboxcdn js.\');\n                (function () {\n                window.setTimeout(function() {\n                var e = document.createElement(\'script\'); e.type = \'text/javascript\'; e.async = true;\n                e.src = (\'https:\' == document.location.protocol ? \'https://\' : \'http://\') + \'www.lightboxcdn.com/vendor/b90a8cf1-793b-4cc5-b282-f863e44f81fa/lightbox_inline.js?mb=\' + (new Date().getTime());\n                var s = document.getElementsByTagName(\'script\')[0]; s.parentNode.insertBefore(e, s);\n                }, 500);\n                })();\t\n            }\n        }\n    }\n    \n    function sendOtherFloodlightBeacons() {\n        //floodlight tags per https://scrippsnetworks.atlassian.net/browse/CR-402\n    \n        if ( isHGTV || isFN || isTravel || isID ) {\n            if (!s.pe && s.pageName) {\n                _satellite.logger.log(\'Running other Floodlight beacon stuff.\');\n                var pageQS = location.search,\n                    pagePath = location.pathname,\n                    cmpType;\n    \n                //only fire when direct or paid - not on any of the other campaign types\n                if ( (pageQS.indexOf("nl=") != -1) \n                || (pageQS.indexOf("xp=") != -1) \n                || (pageQS.indexOf("oc=") != -1) \n                || (pageQS.indexOf("vty=") != -1) \n                || (pageQS.indexOf("soc=") != -1) \n                || (pageQS.indexOf("syc=") != -1) \n                || (pageQS.indexOf("vpid=") != -1) ) {\n                    cmpType = "other";\n                    document.cookie = "cmpType=other; path=/";\n                } else {\n                    if ( document.cookie.indexOf("cmpType=") != -1 ) {\n                        cmpType = _satellite.cookie.get("cmpType");\n                    } else {\n                        cmpType = "direct-paid";\n                        document.cookie = "cmpType=direct-paid; path=/";\n                    }\n    \n                }\n    \n                if (cmpType === "direct-paid") {\n    \n                    var axel = Math.random() + "";\n                    var a = axel * 10000000000000;\n                    var flcat = "";\n                    var flsrc = "";\n                    var fltype = "";\n                    //hgtv\n                    if (isHGTV) {\n                        flsrc = "8288154";\n                        fltype = "hgtvr0";\n                        if (pagePath.indexOf("/shows/brother-vs-brother") != -1) {\n                            flcat = "broth0";\n                        } else if (pagePath.indexOf("/shows/fixer-upper") != -1) {\n                            flcat = "fixer0";\n                        } else if (pagePath.indexOf("/shows/flip-or-flop-atlanta") != -1) {\n                            flcat = "flipo000";\n                        } else if (pagePath.indexOf("/shows/flip-or-flop-fort-worth") != -1) {\n                            flcat = "flipo00";\n                        } else if (pagePath.indexOf("/shows/flip-or-flop-nashville") != -1) {\n                            flcat = "flipo001";\n                        } else if (pagePath.indexOf("/shows/flip-or-flop-paradise") != -1) {\n                            flcat = "flipo003";\n                        } else if (pagePath.indexOf("/shows/flip-or-flop-vegas") != -1) {\n                            flcat = "flipo0";\n                        } else if (pagePath.indexOf("/shows/flip-or-flop") != -1) {\n                            flcat = "flipo002";\n                        } else if (pagePath.indexOf("/shows/good-bones") != -1) {\n                            flcat = "goodb0";\n                        } else if (pagePath.indexOf("/shows/home-town") != -1) {\n                            flcat = "homet0";\n                        } else if (pagePath.indexOf("/shows/love-it-or-list-it") != -1) {\n                            flcat = "lovei0";\n                        } else if (pagePath.indexOf("/shows/property-brothers") != -1) {\n                            flcat = "prope0";\n                        } else if (pagePath.indexOf("/shows/tiny-luxury") != -1) {\n                            flcat = "tinyl0";\n                        } else if (pagePath.indexOf("/shows/tiny-paradise") != -1) {\n                            flcat = "tinyp0";\n                        } else if (pagePath.indexOf("/shows/desert-flippers") != -1) {\n                            flcat = "deser0";\n                        } else if (pagePath.indexOf("/shows/buying-and-selling") != -1) {\n                            flcat = "prope00";\n                        } else if (pagePath.indexOf("/shows/windy-city-flip") != -1) {\n                            flcat = "windy0";\n                        }\n                    }\n                    //foodnetwork\n                    else if (isFN) {\n                        flsrc = "8285741";\n                        fltype = "foodn0";\n                        if (pagePath.indexOf("/shows/chopped") != -1) {\n                            flcat = "chopp0";\n                        } else if (pagePath.indexOf("/shows/diners-drive-ins-and-dives") != -1) {\n                            flcat = "diner0";\n                        } else if (pagePath.indexOf("/shows/ginormous-food") != -1) {\n                            flcat = "ginor0";\n                        } else if (pagePath.indexOf("/shows/guys-big-project") != -1) {\n                            flcat = "guysb0";\n                        } else if (pagePath.indexOf("/shows/guys-grocery-games") != -1) {\n                            flcat = "guysg0";\n                        } else if (pagePath.indexOf("/shows/halloween-baking-championship") != -1) {\n                            flcat = "hallo0";\n                        } else if (pagePath.indexOf("/shows/halloween-wars") != -1) {\n                            flcat = "hallo00";\n                        } else if (pagePath.indexOf("/shows/holiday-baking-championship") != -1) {\n                            flcat = "holid0";\n                        } else if (pagePath.indexOf("/shows/i-hart-food") != -1) {\n                            flcat = "ihart0";\n                        } else if (pagePath.indexOf("/shows/iron-chef-america") != -1) {\n                            flcat = "ironc000";\n                        } else if (pagePath.indexOf("/shows/iron-chef-gauntlet") != -1) {\n                            flcat = "ironc001";\n                        } else if (pagePath.indexOf("/shows/iron-chef-showdown") != -1) {\n                            flcat = "ironc00";\n                        } else if (pagePath.indexOf("/shows/iron-chef") != -1) {\n                            flcat = "ironc0";\n                        } else if (pagePath.indexOf("/shows/kids-baking-championship") != -1) {\n                            flcat = "kidsb0";\n                        } else if (pagePath.indexOf("/shows/spring-baking-championship") != -1) {\n                            flcat = "sprin0";\n                        } else if (pagePath.indexOf("/shows/the-great-food-truck-race") != -1) {\n                            flcat = "thegr0";\n                        } else if (pagePath.indexOf("/shows/worst-cooks-in-america") != -1) {\n                            flcat = "worst0";\n                        } else if (pagePath.indexOf("/shows/food-network-star") != -1) {\n                            flcat = "foodn0";\n                        }\n                    }\n                    //travel\n                    else if (isTravel) {\n                        flsrc = "8288157";\n                        fltype = "trave0";\n                        if (pagePath.indexOf("/shows/expedition-unknown") != -1) {\n                            flcat = "exped0";\n                        } else if (pagePath.indexOf("/profiles/talent/josh-gates") != -1) {\n                            flcat = "joshg0";\n                        } else if (pagePath.indexOf("/shows/bizarre-foods-delicious-destinations") != -1) {\n                            flcat = "bizar00";\n                        } else if (pagePath.indexOf("/shows/bizarre-foods") != -1) {\n                            flcat = "bizar0";\n                        } else if (pagePath.indexOf("/shows/ghost-adventures") != -1) {\n                            flcat = "ghost0";\n                        } else if (pagePath.indexOf("/shows/legend-hunter-1") != -1) {\n                            flcat = "hunti0";\n                        } else if (pagePath.indexOf("/shows/josh-gates-destination-truth") != -1) {\n                            flcat = "joshg00";\n                        } else if (pagePath.indexOf("/shows/legendary-locations") != -1) {\n                            flcat = "legen0";\n                        } else if (pagePath.indexOf("/shows/man-v-food-1") != -1) {\n                            flcat = "manvf0";\n                        }\n                    }\n                    //crimefeed\n                    else if (isID && location.pathname.indexOf("/crimefeed") != -1) {\n                        flsrc = "3764700";\n                        fltype = "crime00";\n                        flcat = "crime0";\n                    }\n                    \n                    if (flcat != "") {\n                        //use this if query param approach is needed\n                        //$.getScript("https://" + flsrc + ".fls.doubleclick.net/activityi?src=" + flsrc + "&type=" + fltype + "&cat=" + flcat + "&dc_lat=&dc_rdid=&tag_for_child_directed_treatment=&ord=" + a)\n                        //use this if iframe approach is ok\n                        src = "\'//" + flsrc + ".fls.doubleclick.net/activityi;src=" + flsrc + ";type=" + fltype + ";cat=" + flcat + ";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=" + a + "?\' ";\n                        pixelFrame = "<iframe src=" + src + "width=\'1\' height=\'1\' frameborder=\'0\' style=\'display:none\'></iframe>";\n                        $(document.body).prepend(pixelFrame);\n                    }\n                        \n                    \n                }\n            }\n        }\n    }\n    \n    function sendDoubleClickBeacon() {\n        if (isHGTV) {\n            if (typeof mdManager != "undefined") {\n                if (mdManager.getParameterString("Type").toLowerCase() === "photogallerypage" && mdManager.getParameterString("sponsorship").toLowerCase() === "hg_pk_room_by_room") {\n                    _satellite.logger.log(\'Sending Double-Click Beacon.\');\n                    ord = Math.random();\n                    ord = ord * 10000000000000000000;\n                    pixel = \'<IMG SRC="https://ad.doubleclick.net/ddm/trackimp/N5214.3192.HGTV/B21356059.224580597;dc_trk_aid=422881682;dc_trk_cid=103475023;ord=\' + ord + \';dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?" WIDTH="1" HEIGHT="1" BORDER="0" ALT="Advertisement">\';\n                    $(document.body).prepend(pixel);\n                }\n            }\n        }\n    }\n    \n    })();',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }
                    ]
                },
                {
                    id: 'RL0e21128b937742b5b018d5cc9622210f',
                    name: 'Core:Page Bottom:Trackonomics - Food Network',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [
                        {
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: { domains: ['foodnetwork.com'] },
                            timeout: 2000
                        },
                        {
                            modulePath: 'core/src/lib/conditions/path.js',
                            settings: { paths: [{ value: '/' }] },
                            negate: !0,
                            timeout: 2000
                        }
                    ],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '<script id="funnel-relay-installer" data-property-id="PROPERTY_ID" data-customer-id="discovery_gjS38Lk6t_food_network" src="https://cdn-magiclinks.trackonomics.net/client/static/v2/discovery_gjS38Lk6t_food_network.js" async="async"></script>',
                                language: 'html'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL54fa74772f3a42dd9666f37dbc24835c',
                    name: 'Core:Page Bottom:Pageview',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 500
                        }],
                    conditions: [],
                    actions: [
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/setVariables.js',
                            settings: {
                                customSetup: {
                                    source: function (e, a) {
                                        const $___old_6252e399f53dc07c = {}.constructor.getOwnPropertyDescriptor(window, 'sessionStorage');
                                        try {
                                            if ($___old_6252e399f53dc07c)
                                                ({}.constructor.defineProperty(window, 'sessionStorage', $___mock_5681dcac222e7c62.sessionStorage));
                                            return function () {
                                                function t() {
                                                    var e = a.getTimeParting('n', '-5'), t = e.indexOf(':'), n = e.substring(t + 1, t + 3);
                                                    return e = e + '|' + (30 < n ? '30' : '00');
                                                }
                                                if (_satellite.logger.info('Starting Pageview'), _satellite.logger.log('setting s.pagename and s.channel from mdManager'), a.pageName = mdManager.getParameterString('Url').toLowerCase(), -1 != a.pageName.indexOf('?') && (pnEnd = a.pageName.indexOf('?'), a.pageName = a.pageName.substring(0, pnEnd)), -1 != a.pageName.indexOf('http://') ? (pnBegin = a.pageName.indexOf('http://') + 7, a.pageName = a.pageName.substring(pnBegin)) : -1 != a.pageName.indexOf('https://') && (pnBegin = a.pageName.indexOf('https://') + 8, a.pageName = a.pageName.substring(pnBegin)), 100 < a.pageName.length && (a.pageName = a.pageName.substring(0, 100)), a.channel = mdManager.getParameterString('CategoryDspName').toLowerCase(), _satellite.logger.log('Setting context from data elements'), a.contextData.brand = _satellite.getVar('Core:Custom Code:Brand'), a.contextData.analyticsCodeVersion = _satellite.getVar('Core:Constant:Analytics Code Version'), a.contextData.productDetails = _satellite.getVar('Core:Constant:Distribution Product'), a.contextData.serverCallType = _satellite.getVar('Core:Constant:pageview'), a.contextData.pageURL = _satellite.getVar('Core:Page Info:URL'), a.contextData.prevPage = _satellite.getVar('Core:Page Info:Referrer'), a.contextData.userAgent = _satellite.getVar('Core:JSVar:User Agent'), a.contextData.userProfileID = _satellite.getVar('Core:Local Storage:User ID'), a.contextData.loginStatus = _satellite.getVar('Core:Custom Code:Log In Status'), a.server = 'D=User-Agent', a.contextData.videoGlobalID = mdManager.getParameter('videoSCRID'), a.contextData.videoDigitalID = mdManager.getParameter('videoNLVID'), _satellite.logger.log('capturing query parameters'), a.contextData.campaignCrossPromotion = a.Util.getQueryParam('xp'), a.contextData.campaignName = a.Util.getQueryParam('c1'), a.contextData.campaignNetworkName = a.Util.getQueryParam('c2'), a.contextData.campaignTrackerGroup = a.Util.getQueryParam('c3'), a.contextData.campaignCreativeID = a.Util.getQueryParam('c4'), a.contextData.campaignEmails = a.Util.getQueryParam('nl'), '' == a.contextData.campaignEmails && (a.contextData.campaignEmails = a.Util.getQueryParam('sni_mid')), a.contextData.campaignOffChannel = a.Util.getQueryParam('oc'), a.contextData.campaignVanityURL = a.Util.getQueryParam('vty'), a.contextData.campaignInternal = a.Util.getQueryParam('ic1'), -1 !== location.search.indexOf('c32=') && -1 !== location.search.indexOf('bid=') && (a.contextData.emailUserID = a.Util.getQueryParam('c32'), a.contextData.emailBlastID = a.Util.getQueryParam('bid'), -1 !== location.search.indexOf('ssid=') && (a.contextData.campaignEmails = a.contextData.campaignEmails ? a.contextData.campaignEmails + '|' + a.Util.getQueryParam('ssid') : 'na|' + a.Util.getQueryParam('ssid')), -1 !== location.search.indexOf('sni_by=') ? a.contextData.birthYear = a.Util.getQueryParam('sni_by') : a.contextData.birthYear = 'u', 'string' == typeof a.Util.getQueryParam('sni_gn') && a.Util.getQueryParam('sni_gn').match(/^m/i) ? (a.contextData.gender = 'm', a.contextData.mvpd = 'na') : 'string' == typeof a.Util.getQueryParam('sni_gn') && a.Util.getQueryParam('sni_gn').match(/^f/i) ? (a.contextData.gender = 'f', a.contextData.mvpd = 'na') : 'u' !== a.eVar36 ? (a.contextData.gender = 'u', a.contextData.mvpd = 'na') : (a.contextData.birthYear = '', a.contextData.gender = '', a.contextData.mvpd = '')), '-1' != location.search.indexOf('c1=') && '' == a.contextData.campaignInternal ? a.campaign = 'c1: ' + a.Util.getQueryParam('c1') : '-1' != location.search.indexOf('soc=') ? a.campaign = 'soc: ' + a.Util.getQueryParam('soc') : '-1' != location.search.indexOf('syc=') ? a.campaign = 'syc: ' + a.Util.getQueryParam('syc') : '-1' != location.search.indexOf('vpid=') ? a.campaign = 'vpid: ' + a.Util.getQueryParam('vpid') : '-1' != location.search.indexOf('nl=') ? a.campaign = 'nl: ' + a.Util.getQueryParam('nl') : '-1' != location.search.indexOf('sni_mid=') ? a.campaign = 'nl: ' + a.Util.getQueryParam('sni_mid') : '-1' != location.search.indexOf('oc=') ? a.campaign = 'oc: ' + a.Util.getQueryParam('oc') : '-1' != location.search.indexOf('vty=') ? a.campaign = 'vty: ' + a.Util.getQueryParam('vty') : '-1' != location.search.indexOf('xp=') && (a.campaign = 'xp: ' + a.Util.getQueryParam('xp')), _satellite.logger.log('storing and reading ocid'), a.campaign)
                                                    try {
                                                        sessionStorage.setItem('ocid', a.campaign.replace(/ /g, ''));
                                                    } catch (r) {
                                                        _satellite.logger.warn('Unable to store OCID for sweeps');
                                                    }
                                                else
                                                    try {
                                                        sessionStorage.getItem('ocid') || sessionStorage.setItem('ocid', 'direct');
                                                    } catch (r) {
                                                        _satellite.logger.error('unable to manually set session storage with ocid for sweeps');
                                                    }
                                                trackReentryLink = function () {
                                                    const $___old_7a4531b33f425abd = {}.constructor.getOwnPropertyDescriptor(window, 'sessionStorage');
                                                    try {
                                                        if ($___old_7a4531b33f425abd)
                                                            ({}.constructor.defineProperty(window, 'sessionStorage', $___mock_5681dcac222e7c62.sessionStorage));
                                                        return function () {
                                                            var e = [
                                                                /thank/gi.exec(mdManager.getParameter('title')) || /thank/gi.exec(mdManager.getParameter('url')),
                                                                /sweep/gi.exec(mdManager.getParameter('classification')),
                                                                sessionStorage.getItem('ocid')
                                                            ];
                                                            if (e.includes(!1) || e.includes(null))
                                                                _satellite.logger.log('metadata requirements for sweeps re-entry link tracking not met');
                                                            else {
                                                                _satellite.logger.log('updating sweeps reentry links to include ocid parameter');
                                                                var t = sessionStorage.getItem('ocid');
                                                                document.querySelectorAll('a#reentry-link').forEach(function (e) {
                                                                    e.href = e.href + '?ocid=' + t;
                                                                });
                                                            }
                                                        }.apply(this, arguments);
                                                    } finally {
                                                        if ($___old_7a4531b33f425abd)
                                                            ({}.constructor.defineProperty(window, 'sessionStorage', $___old_7a4531b33f425abd));
                                                    }
                                                }(), -1 != location.search.indexOf('ocid=') && (a.contextData.sweepsOriginalCampaign = a.Util.getQueryParam('ocid')), mdManager.getParameterString('searchTerms') && (a.contextData.eventSiteSearch = '1'), a.trackModLocalStorage = function () {
                                                    const $___old_78e97d0c46e3c006 = {}.constructor.getOwnPropertyDescriptor(window, 'localStorage');
                                                    try {
                                                        if ($___old_78e97d0c46e3c006)
                                                            ({}.constructor.defineProperty(window, 'localStorage', $___mock_5681dcac222e7c62.localStorage));
                                                        return function () {
                                                            var e;
                                                            try {
                                                                e = localStorage.getItem('TRACKMOD');
                                                            } catch (r) {
                                                                _satellite.logger.warn('couldn\'t read localStorage');
                                                            }
                                                            if (e) {
                                                                for (e = JSON.parse(e), contextVars = Object.keys(e), i = contextVars.length || 0; i--;)
                                                                    a.contextData[contextVars[i]] = e[contextVars[i]].toString().replace(/https?:\/\/([^.]*)..*.com\/?/, '$1.../');
                                                                return 'object' == typeof a.Integrate && 'object' != typeof a.Integrate.removeTrackMod ? (a.Integrate.add('removeTrackMod'), a.Integrate.removeTrackMod.useVars = function () {
                                                                    'object' == typeof _satellite && _satellite.logger.log('DELETING TRACKMOD', 1), SNI.Analytics.hasLocalStorage && localStorage.removeItem('TRACKMOD');
                                                                }) : 'object' != typeof a.Integrate && ('object' == typeof _satellite && _satellite.logger.log('DELETING TRACKMOD'), SNI.Analytics.hasLocalStorage && localStorage.removeItem('TRACKMOD')), !0;
                                                            }
                                                            return delete a.contextData.ModuleName, delete a.contextData.LinkTitle, delete a.contextData.LocUrl, delete a.contextData.LinkPosition, delete a.contextData.TargetUrl, 'string' == typeof a.events && (a.events = a.events.replace(/event24,?/, '')), !1;
                                                        }.apply(this, arguments);
                                                    } finally {
                                                        if ($___old_78e97d0c46e3c006)
                                                            ({}.constructor.defineProperty(window, 'localStorage', $___old_78e97d0c46e3c006));
                                                    }
                                                }, a.track_ls_analytics = function o() {
                                                    const $___old_24f684764ed2ffe5 = {}.constructor.getOwnPropertyDescriptor(window, 'localStorage');
                                                    try {
                                                        if ($___old_24f684764ed2ffe5)
                                                            ({}.constructor.defineProperty(window, 'localStorage', $___mock_5681dcac222e7c62.localStorage));
                                                        return function () {
                                                            try {
                                                                if (localStorage.getItem('TRACKLSANALYTICS')) {
                                                                    if ('object' == typeof _satellite) {
                                                                        _satellite.logger.log('CAPTURING TRACKLSANALYTICS', 1);
                                                                        var e = JSON.parse(localStorage.getItem('TRACKLSANALYTICS')), t = /^(?:prop|eVar)[1-9]?[0-9]?[0-9]$/g;
                                                                        for (var n in e)
                                                                            'events' === n ? a.events = a.apl(a.events, e.events, ',', 2) : n.match(t) && (a[n] = e[n]);
                                                                        for (var n in e.contextData)
                                                                            a.contextData[n] = e.contextData[n];
                                                                    }
                                                                    'object' == typeof a.Integrate && 'object' != typeof a.Integrate.removeLS ? (a.Integrate.add('removeLS'), a.Integrate.removeLS.useVars = function () {
                                                                        'object' == typeof _satellite && _satellite.logger.log('DELETING TRACKLSANALYTICS', 1), localStorage.removeItem('TRACKLSANALYTICS');
                                                                    }) : 'object' != typeof a.Integrate && setTimeout(function () {
                                                                        'object' == typeof _satellite && _satellite.logger.log('DELETING TRACKLSANALYTICS', 1), localStorage.removeItem('TRACKLSANALYTICS');
                                                                    }, 4000);
                                                                }
                                                            } catch (r) {
                                                            }
                                                        }.apply(this, arguments);
                                                    } finally {
                                                        if ($___old_24f684764ed2ffe5)
                                                            ({}.constructor.defineProperty(window, 'localStorage', $___old_24f684764ed2ffe5));
                                                    }
                                                }, _satellite.logger.log('refreshing context data'), SNI.Analytics.refreshContext(), _satellite.logger.log('reading Mod LS'), a.trackModLocalStorage(), _satellite.logger.log('reading Analytics LS'), a.track_ls_analytics(), a.split = new Function('l', 'd', 'var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a'), a.repl = new Function('x', 'o', 'n', 'var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x.substring(i+o.length);i=x.indexOf(o,i+l)}return x'), a.apl = new Function('L', 'v', 'd', 'u', 'var s=this,m=0;if(!L)L=\'\';if(u){var i,n,a=s.split(L,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)L=L?L+d+v:v;return L'), a._tpDST = {
                                                    2012: '3/11,11/4',
                                                    2013: '3/10,11/3',
                                                    2014: '3/9,11/2',
                                                    2015: '3/8,11/1',
                                                    2016: '3/13,11/6',
                                                    2017: '3/12,11/5',
                                                    2018: '3/11,11/4',
                                                    2019: '3/10,11/3',
                                                    2020: '3/8,11/1',
                                                    2021: '3/14,11/7',
                                                    2022: '3/13,11/6',
                                                    2023: '3/12,11/5',
                                                    2024: '3/10,11/3',
                                                    2025: '3/9,11/2'
                                                }, a.getTimeParting = new Function('h', 'z', 'var s=this,od;od=new Date(\'1/1/2000\');if(od.getDay()!=6||od.getMonth()!=0){return\'Data Not Available\';}else{var H,M,D,U,ds,de,tm,da=[\'Sunday\',\'Monday\',\'Tuesday\',\'Wednesday\',\'Thursday\',\'Friday\',\'Saturday\'],d=new Date();z=z?z:0;z=parseFloat(z);if(s._tpDST){var dso=s._tpDST[d.getFullYear()].split(/,/);ds=new Date(dso[0]+\'/\'+d.getFullYear());de=new Date(dso[1]+\'/\'+d.getFullYear());if(h==\'n\'&&d>ds&&d<de){z=z+1;}else if(h==\'s\'&&(d>de||d<ds)){z=z+1;}}d=d.getTime()+(d.getTimezoneOffset()*60000);d=new Date(d+(3600000*z));H=d.getHours();M=d.getMinutes();M=(M<10)?\'0\'+M:M;D=d.getDay();U=\' AM\';if(H>=12){U=\' PM\';H=H-12;}if(H==0){H=12;}D=da[D];tm=H+\':\'+M+U;return(tm+\'|\'+D);}'), _satellite.logger.log('setting time part from plugin'), a.contextData.timePart = t(), a.getNewRepeat = new Function('var s=this,e=new Date(),cval,ct=e.getTime(),y=e.getYear();e.setTime(ct+30*24*60*60*1000);cval=s.c_r(\'s_nr\');if(cval.length==0){s.c_w(\'s_nr\',ct,e);return \'New\';}if(cval.length!=0&&ct-cval<30*60*1000){s.c_w(\'s_nr\',ct,e);return \'New\';}if(cval<1123916400001){e.setTime(cval+30*24*60*60*1000);s.c_w(\'s_nr\',ct,e);return \'Repeat\';}else return \'Repeat\';'), a.contextData.newRepeat = a.getNewRepeat(), _satellite.logger.info('End Pageview');
                                            }.apply(this, arguments);
                                        } finally {
                                            if ($___old_6252e399f53dc07c)
                                                ({}.constructor.defineProperty(window, 'sessionStorage', $___old_6252e399f53dc07c));
                                        }
                                    }
                                },
                                trackerProperties: {}
                            },
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/sendBeacon.js',
                            settings: { type: 'page' },
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/clearVariables.js',
                            settings: {},
                            timeout: 2000,
                            delayNext: !0
                        }
                    ]
                },
                {
                    id: 'RL2bf6a8c34a6541a69e575b6e9a30d8ea',
                    name: '!Core:Page Bottom:Old Heartbeat Plugin',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                global: !0,
                                source: '(function(){\n\tvar contextWrapper = function() {\n// place Heartbeat core code here\n\n/*\n * ************************************************************************\n *\n *  ADOBE CONFIDENTIAL\n *  ___________________\n *\n *   (c) Copyright 2016 Adobe Systems Incorporated\n *   All Rights Reserved.\n *\n *  NOTICE:  All information contained herein is, and remains\n *  the property of Adobe Systems Incorporated and its suppliers,\n *  if any.  The intellectual and technical concepts contained\n *  herein are proprietary to Adobe Systems Incorporated and its\n *  suppliers and may be covered by U.S. and Foreign Patents,\n *  patents in process, and are protected by trade secret or copyright law.\n *  Dissemination of this information or reproduction of this material\n *  is strictly forbidden unless prior written permission is obtained\n *  from Adobe Systems Incorporated.\n * ************************************************************************\n */\n\n/*\n * video heartbeats - 1.5.6 - 2016-04-29\n * Copyright (c) 2016 Adobe Systems, Inc. All Rights Reserved.\n */\n\n// Heartbeat core\n!function(a){if("undefined"==typeof b)var b={};if("undefined"==typeof c)var c={};if("undefined"==typeof d)var d={};if(d.radio||(d.radio={}),d.plugin||(d.plugin={}),"undefined"==typeof e)var e={};e.clock||(e.clock={}),function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}a.md5=t}(b),function(a){"use strict";var b={};b.startsWith=function(a,b){return 0==a.indexOf(b)},a.StringUtils=b}(b),function(a){"use strict";var b={};b.clone=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},b.merge=function(a,c){var d=b.clone(a);for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return d},a.ObjectUtils=b}(b),function(a){"use strict";function b(a,b,c){this.fn=a,this.ctx=b,this.params=c}b.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},a.radio.Command=b}(d),function(a){"use strict";function b(a,b){this._queue=[],this._lastTs=0,this._isSuspended="undefined"!=typeof a?a:!1,this._delay="undefined"!=typeof b?b:0}b.prototype.addCommand=function(a){this._queue.push(a),this._drain()},b.prototype.cancelAllCommands=function(){this._queue=[]},b.prototype.isEmpty=function(){return 0===this._queue.length},b.prototype.suspend=function(){this._isSuspended=!0},b.prototype.resume=function(){this._isSuspended=!1,this._drain()},b.prototype.flush=function(){this._isSuspended=!1;for(var a=0;a<this._queue.length;a++){var b=this._queue[a];b.run()}this._queue=[]},b.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var a=this;!function b(){var c=a._queue.shift();c?a._runCommand(c,function(){a._isSuspended||b()}):a._drainInProgress=!1}()}},b.prototype._runCommand=function(a,b){function c(){a.run(),null!=b&&b.call(d)}var d=this;if(0==this._lastTs)c();else{var e=(new Date).getTime(),f=e-this._lastTs;this._lastTs=e,f<this._delay?setTimeout(c,this._delay-f):c()}},a.radio.CommandQueue=b}(d),function(a){"use strict";function b(a,b){if(this._name=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function c(a,c){if(a===c)return!0;for(var d=(a||"").split(b.SEPARATOR),e=(c||"").split(b.SEPARATOR),f=!0,g=0;g<d.length;g++)f=f&&(d[g]===b.WILDCARD||d[g]===e[g]);return f}b.WILDCARD="*",b.SEPARATOR=":",b.prototype.toString=function(){return"<channel: "+this._name+">"},b.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(d,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},b.prototype.on=function(a,b,c){this._isShutDown||(this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push({fn:b,ctx:c}))},b.prototype.off=function(a,b,c){if(!this._isShutDown){if(b="function"==typeof b?b:null,!a&&null==b&&!c)return void(this._listeners={});if(a)this._removeListener(a,b,c);else for(a in this._listeners)this._listeners.hasOwnProperty(a)&&this._removeListener(a,b,c)}},b.prototype.trigger=function(a){if(!this._isShutDown)for(var b in this._listeners)if(this._listeners.hasOwnProperty(b)&&c(b,a.name))for(var d=this._listeners[b].slice(0),e=0;e<d.length;e++){var f=d[e];f.fn.call(f.ctx,a)}},b.prototype.comply=function(a,b,c){this._isShutDown||(this._commands[a]={cmd:b,ctx:c})},b.prototype.command=function(a,b){if(!this._isShutDown){var c=this._commands[a];return c?void c.cmd.call(c.ctx,b):void this._logger.warn(d,"#command > No command handler for: "+a)}},b.prototype.reply=function(a,b,c){this._isShutDown||(this._requests[a]={fn:b,ctx:c})},b.prototype.request=function(a){if(!this._isShutDown){var b=this._requests[a];return b?b.fn.call(b.ctx):(this._logger.warn(d,"#request > No request handler for: "+a),null)}},b.prototype._removeListener=function(a,b,c){b="function"==typeof b?b:null;var d=this._listeners[a];if(d){if(!d.length||null==b&&!c)return void delete this._listeners[a];for(var e=0;e<d.length;e++){var f=d[e];null!==b&&b!==f.fn||c&&c!==f.ctx||this._listeners[a].splice(e,1)}}};var d="radio::Channel";a.radio.Channel=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._channels={}}var c=a.radio.Channel;b.prototype.channel=function(a){return this._channels[a]||(this._channels[a]=new c(a,this._logger)),this._channels[a]},b.prototype.shutdown=function(){for(var a in this._channels)this._channels.hasOwnProperty(a)&&this._channels[a].shutdown()},a.radio.Radio=b}(d),function(a){"use strict";function b(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a}a.extend=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){throw new Error("Implementation error: Method must be overridden.")},a.ILogWriter=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){window.console&&window.console.log&&window.console.log(a)},a.LogWriter=b}(d,c),function(a){"use strict";function b(){}b.prototype.setLogWriter=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.debug=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.info=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.warn=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.error=function(a,b){throw new Error("Implementation error: Method must be overridden.")},a.ILogger=b}(d),function(a){"use strict";function b(){this._logWriter=new d}function c(a){return 10>a?"00"+a:100>a?"0"+a:""+a}var d=a.LogWriter;b.prototype.setLogWriter=function(a){if(!a)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=a,this._enabled=!1},b.prototype.getLogWriter=function(){return this._logWriter},b.prototype.getEnabled=function(){return this._enabled},b.prototype.enable=function(){this._enabled=!0},b.prototype.disable=function(){this._enabled=!1},b.prototype.debug=function(a,b){this._log(a,f,b)},b.prototype.info=function(a,b){this._log(a,e,b)},b.prototype.warn=function(a,b){this._log(a,g,b)},b.prototype.error=function(a,b){this._log(a,h,b)},b.prototype._log=function(a,b,d){if(b==h||this._enabled){var e="",f=new Date;e+="["+f.toTimeString()+"."+c(f.getMilliseconds())+"] ["+b+"] ",e+="["+a+"] "+d,this._logWriter.write(e)}};var e="INFO",f="DEBUG",g="WARN",h="ERROR";a.Logger=b}(d),function(a){"use strict";function b(a,b){this._pluginName=a,this._eventName=b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getEventName=function(){return this._eventName},b.prototype.getName=function(){return this._pluginName+c.SEPARATOR+this._eventName},a.Trigger=b}(d),function(a){"use strict";function b(a,b){this.name=a,this.data=b}b.SUCCESS="success",b.ERROR="error",b.createFromTrigger=function(a){return new b(a.getName())},a.Event=b}(d),function(a){"use strict";function b(){this._events={}}b.prototype.addEventListener=function(a,b,c){a&&b&&(c=c||window,this._events[a]=this._events[a]||[],this._events[a].push({cb:b,ctx:c}))},b.prototype.removeEventListener=function(a,b,c){if(a&&b){c=c||window;var d,e,f=!1;for(e in this._events)if(a===e){f=!0;break}if(f){for(d=this._events[e].length-1;d>=0;d--){var g=this._events[e][d];b===g.cb&&c===g.ctx&&this._events[e].splice(d,1)}this._events[e].length||delete this._events[e]}}},b.prototype.dispatchEvent=function(a){if(a.name){var b,c;for(b in this._events)if(this._events.hasOwnProperty(b)&&a.name===b){var d=this._events[b],e=d.slice(0),f=e.length;for(c=0;f>c;c++)e[c].cb.call(e[c].ctx,a);break}}},b.prototype.removeAllListeners=function(a){if(a){var b,c;for(c in this._events)if(this._events.hasOwnProperty(c)){for(b=this._events[c].length-1;b>=0;b--){var d=this._events[c][b];d.ctx===a&&this._events[c].splice(b,1)}this._events[c].length||delete this._events[c]}}else this._events={}},a.EventDispatcher=b}(d),function(a){"use strict";function b(){}function c(a,b){this.url=a||null,this.method=b,this._xmlhttp=null}function d(){d.__super__.constructor.call(this),this._connection=null}var e=a.Event,f=a.EventDispatcher;b.GET="GET",d.RESPONSE="response",d.INSTANCE="instance",a.extend(d,f),d.prototype.close=function(){this.removeAllListeners(null)},d.prototype.load=function(a){a&&a.method&&a.url&&(a._xmlhttp=this._createCORSRequest(a),a._xmlhttp?a._xmlhttp.send():this._loadImage(a))},d.prototype._createCORSRequest=function(a){var b=null;if("undefined"!=typeof window.XMLHttpRequest){var c=new window.XMLHttpRequest;"withCredentials"in c&&(b=c,b.open(a.method,a.url,!0))}if(null==b&&"undefined"!=typeof window.XDomainRequest&&(b=new window.XDomainRequest,b.open(a.method,a.url)),b){var f={};f[d.INSTANCE]=this;var g=this;b.onload=function(){return b.status&&parseInt(b.status,10)>=400?this.onerror():(f[d.RESPONSE]=b.responseText,void g.dispatchEvent(new e(e.SUCCESS,f)))},b.onerror=function(){g.dispatchEvent(new e(e.ERROR,f))}}return b},d.prototype._loadImage=function(a){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=a.url;var b={};b[d.RESPONSE]="",b[d.INSTANCE]=this,this.dispatchEvent(new e(e.SUCCESS,b))},a.URLRequestMethod=b,a.URLRequest=c,a.URLLoader=d}(d),function(a){"use strict";var b="js",c="1.5.6.61",d="9e5d45",e=4,f={};f.getVersion=function(){return b+"-"+c+"-"+d},f.getMajor=function(){return f.getNumberAtPosition(0)},f.getMinor=function(){return f.getNumberAtPosition(1)},f.getMicro=function(){return f.getNumberAtPosition(2)},f.getPatch=function(){return f.getNumberAtPosition(3)},f.getBuild=function(){return d},f.getApiLevel=function(){return e},f.getNumberAtPosition=function(a){return c.split(".")[a]},a.Version=f}(c),function(a){"use strict";function b(a,b){this._message=a,this._details=b}b.prototype.getMessage=function(){return this._message},b.prototype.getDetails=function(){return this._details},a.ErrorInfo=b}(c),function(a){"use strict";function b(){this.debugLogging=!1}a.HeartbeatConfig=b}(c),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.HeartbeatDelegate=b}(c),function(a){"use strict";function b(){}b.prototype.configure=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.bootstrap=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.resolveData=function(a){throw new Error("Implementation error: Method must be overridden.")},a.plugin.IPlugin=b}(d),function(a){"use strict";function b(a,b,c,d){this.trigger=a,this.action=c,this.plugin=b,this._paramMappings={},this.mergeParams(d)}var c=a.plugin.ParamMapping;b.prototype.mergeParams=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];this._paramMappings[c.getKeyName()]=c}},b.prototype.getParams=function(){var a=[];for(var b in this._paramMappings)this._paramMappings.hasOwnProperty(b)&&a.push(this._paramMappings[b]);return a},b.prototype.addParam=function(a){this._paramMappings[a.getKeyName()]=a},b.prototype.removeParam=function(a,b){var d=new c(a,b);this._paramMappings.hasOwnProperty(d.getKeyName())&&delete this._paramMappings[d.getKeyName()]},a.plugin.Behaviour=b}(d),function(a){"use strict";function b(a,b,d){this._pluginName=a,this._key=b,this._paramName=d||a+c.SEPARATOR+b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getKey=function(){return this._key},b.prototype.getKeyName=function(){return this._pluginName+c.SEPARATOR+this._key},b.prototype.getParamName=function(){return this._paramName},a.plugin.ParamMapping=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._plugins={},this._behaviours={},this._radio=new d(this._logger),this._dataChannel=this._radio.channel(g),this._ctrlChannel=this._radio.channel(h)}var c=a.Event,d=a.radio.Radio,e=a.radio.Channel,f=a.plugin.Behaviour;b.ERROR="error",b.prototype.addPlugin=function(a){var b=a.getName();this._plugins[b]&&this._logger.warn(i,"#addPlugin > Replacing plugin: "+b),this._plugins[b]=a,a.bootstrap(this)},b.prototype.setupPlugins=function(){for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].setup()},b.prototype.pluginExists=function(a){return!!this._plugins[a]},b.prototype.isPluginInitialized=function(a){return this._plugins[a]&&this._plugins[a].isInitialized()},b.prototype.on=function(a,b,c,d){this._dataChannel.on(a+e.SEPARATOR+b,c,d)},b.prototype.off=function(a,b,c,d){var f=a&&b?a+e.SEPARATOR+b:null;this._dataChannel.off(f,c,d)},b.prototype.trigger=function(a){var b=a.name,c=this._behaviours[b];if(c){var d,e,f,g,h,i={},j={};for(d=0;d<c.length;d++)if(f=c[d],g=f.getParams())for(e=0;e<g.length;e++)h=g[e],i[h.getPluginName()]=i[h.getPluginName()]||[],h.key in i[h.getPluginName()]||i[h.getPluginName()].push(h.getKey());for(var k in i)i.hasOwnProperty(k)&&(j[k]=this.request(k,i[k]));for(d=0;d<c.length;d++){f=c[d];var l={_behaviour:f,_eventData:a.data||{}};if(g=f.getParams()){for(e=0;e<g.length;e++)h=g[e],l[h.getParamName()]=j[h.getPluginName()]?j[h.getPluginName()][h.getKey()]:null;this.command(f.plugin.getName(),f.action,l)}}}this._dataChannel.trigger(a)},b.prototype.request=function(a,b){var c=this._plugins[a];return c&&b&&0!=b.length?c.resolveData(b):null},b.prototype.raise=function(a){this._errorInfo=a;var d=new c(b.ERROR,a);this._ctrlChannel.trigger(d)},b.prototype.getErrorInfo=function(){return this._errorInfo},b.prototype.destroy=function(){this._radio.shutdown();for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].destroy()},b.prototype.comply=function(a,b,c){this._dataChannel.comply(a.getName()+e.SEPARATOR+b,c,a)},b.prototype.command=function(a,b,c){this._dataChannel.command(a+e.SEPARATOR+b,c)},b.prototype.registerBehaviour=function(a,b,c,d){var e=a.getName(),g=new f(a,b,c,d);this._behaviours[e]=this._behaviours[e]||[],this._behaviours[e].push(g)};var g="data_channel",h="ctrl_channel",i="plugin::PluginManager";a.plugin.PluginManager=b}(d),function(a,b){"use strict";function c(a){this._name=a,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new d}var d=a.Logger,e=a.Trigger,f=a.Event,g=b.ErrorInfo;c.INITIALIZED="initialized",c.prototype.configure=function(a){},c.prototype.bootstrap=function(a){this._pluginManager=a,this._isDestroyed&&this._pluginManager.raise(new g("Invalid state.","Plugin already destroyed."))},c.prototype.setup=function(){this._trigger(c.INITIALIZED),this._isInitialized=!0},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},c.prototype.enable=function(){this._isEnabled=!0,this._enabled()},c.prototype.disable=function(){this._isEnabled=!1,this._disabled()},c.prototype.getName=function(){return this._name},c.prototype.getLogger=function(){return this._logger},c.prototype.isInitialized=function(){return this._isInitialized},c.prototype.resolveData=function(a){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,a);var b=null;if(a)for(var c=0;c<a.length;c++){var d=a[c];this._dataResolver.hasOwnProperty(d)&&(b=b||{},"function"==typeof this._dataResolver[d]?b[d]=this._dataResolver[d].call(this):b[d]=this._dataResolver[d])}return b},c.prototype.toString=function(){return"<plugin: "+this._name+">"},c.prototype._enabled=function(){},c.prototype._disabled=function(){},c.prototype._teardown=function(){},c.prototype._canProcess=function(){return this._isEnabled?this._isDestroyed?(this._logger.error(this._logTag,"Plugin destroyed."),!1):!0:(this._logger.error(this._logTag,"Plugin disabled."),!1)},c.prototype._trigger=function(a,b){var c=f.createFromTrigger(new e(this.getName(),a));c.data=b,this._pluginManager.trigger(c)},a.plugin.BasePlugin=c}(d,c),function(a){"use strict";function b(a,b,c){this.name=a,this.interval=b,this.isActive=!1,this.repeatCount="undefined"!=typeof c?c:e,this._nextTickTimestamp=0,this.reset()}function c(a,b){if(!a)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._timers={};var c=this;this._clock=window.setInterval(function(){c._onTick()},1e3*f)}b.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},b.prototype.shouldTick=function(){var a=(new Date).getTime();return a>this._nextTickTimestamp-f/2?(this.tick++,this._updateNextTickTimestamp(),!0):!1},b.prototype._updateNextTickTimestamp=function(){this._nextTickTimestamp=this._createdTimestamp+1e3*this.interval*(this.tick+1)},c.prototype.createTimer=function(a,c,d){this._timers[a]=new b(a,c,d)},c.prototype.destroyTimer=function(a){delete this._timers[a]},c.prototype.resumeTimer=function(a,b){b="undefined"!=typeof b?b:!1,this._logger.debug(d,"#resumeTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!0,b&&c.reset())},c.prototype.pauseTimer=function(a,b){b="undefined"!=typeof b?b:!1,this._logger.debug(d,"#pauseTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!1,b&&c.reset())},c.prototype.isTimerPaused=function(a){var b=this._timers[a];return b?!b.isActive:!1},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},c.prototype._onTick=function(){for(var a in this._timers)if(this._timers.hasOwnProperty(a)){var b=this._timers[a];b.isActive&&b.shouldTick()&&(b.interval>1&&this._logger.debug(d,"#_onTick() > "+b.name+"("+b.tick+" | "+b.repeatCount+")"),0!=b.repeatCount?(this._service.onTick(b.name,b.interval,b.tick),b.repeatCount!=e&&b.repeatCount--):this.destroyTimer(b.name))}};var d="service.clock::TimerManager",e=-1,f=.25;a.clock.TimerDescriptor=b,a.clock.TimerManager=c}(e),function(a,b,c){"use strict";function d(a){if(d.__super__.constructor.call(this,h),!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._timerManager=new e(this,this._logger),this._setupDataResolver()}var e=c.clock.TimerManager,f=b.StringUtils,g=a.plugin.BasePlugin;a.extend(d,g),d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._pluginManager.comply(this,i,this._cmdCreate),this._pluginManager.comply(this,k,this._cmdResume),this._pluginManager.comply(this,j,this._cmdPause),this._pluginManager.comply(this,l,this._cmdDestroy)},d.prototype._teardown=function(){this._timerManager.destroy()},d.prototype._cmdCreate=function(a){var b=a[o]||s;this._timerManager.createTimer(a[m],a[n],b)},d.prototype._cmdPause=function(a){this._timerManager.pauseTimer(a[m],!!a[q])},d.prototype._cmdResume=function(a){this._timerManager.resumeTimer(a[m],!!a[q])},d.prototype._cmdDestroy=function(a){this._timerManager.destroyTimer(a[m])},d.prototype.onTick=function(a,b,c){a+=".tick";var d={};d[m]=a,d[n]=b,d[p]=c,this._trigger(a,d)},d.prototype._setupDataResolver=function(){var a={},b=this._timerManager;a[r]=function(a){return b.isTimerPaused(a)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];if(c=c||{},f.startsWith(e,r)){var g=e.split(r+".");g.length>0&&(c[e]=a[r].call(this,g[1]))}}return c}};var h="service.clock",i="create",j="pause",k="resume",l="destroy",m="name",n="interval",o="repeat_count",p="tick",q="reset",r="is_paused",s=-1;c.clock.ClockService=d}(d,b,e),function(a,b,c){"use strict";function d(a,b){if(this._logger=new e,this._pluginManager=new f(this._logger),this._pluginManager.addPlugin(new g(this._logger)),b)for(var c=0;c<b.length;c++)this._pluginManager.addPlugin(b[c]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var e=a.Logger,f=a.plugin.PluginManager,g=b.clock.ClockService;d.prototype.configure=function(a){if(!a)throw new Error("Configuration object cannot be NULL.");a.debugLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(h,"Instance is destroyed.")},d.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var h="Heartbeat";c.Heartbeat=d}(d,e,c),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=d),a.ADB.va||(a.ADB.va=c),a.ADB.va.utils||(a.ADB.va.utils=b),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this);\n\n// VideoPlayerPlugin\n!function(a){if("undefined"==typeof b)var b={};!function(a){"use strict";var b={};b.ASSET_TYPE_VOD="vod",b.ASSET_TYPE_LIVE="live",b.ASSET_TYPE_LINEAR="linear",a.AssetType=b}(b),function(a){"use strict";function b(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},a.AdBreakInfo=b}(b),function(a){"use strict";function b(){this.id=null,this.name=null,this.length=null,this.position=null}b.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position},a.AdInfo=b}(b),function(a){"use strict";function b(){this.name=null,this.length=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},a.ChapterInfo=b}(b),function(a){"use strict";function b(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}b.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},a.QoSInfo=b}(b),function(a){"use strict";function b(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.streamType=null,this.resumed=!1}b.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", streamType="+this.streamType+", resumed="+this.resumed},a.VideoInfo=b}(b),function(a){"use strict";function b(){this.debugLogging=!1}a.VideoPlayerPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getAdBreakInfo=function(){return null},b.prototype.getAdInfo=function(){return null},b.prototype.getChapterInfo=function(){return null},b.prototype.getQoSInfo=function(){return null},a.VideoPlayerPluginDelegate=b}(b),function(a,b){"use strict";function c(a){if(c.__super__.constructor.call(this,h),!a)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=a,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._isTrackingAd=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._setupDataResolver()}var d=a.plugin.ParamMapping,e=a.Trigger,f=a.plugin.BasePlugin,g=b.VideoPlayerPluginConfig;a.extend(c,f),c.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof g))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");a.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+a.debugLogging+")")},c.prototype.bootstrap=function(a){c.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},c.prototype._cmdVideoIdleStart=function(a){this._logger.info(this._logTag,"#_cmdVideoIdleStart()"),this._videoIdle=!0},c.prototype._cmdVideoIdleResume=function(a){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(o),this._trigger(p),a.isInChapter&&this._trigger(A),a.isInAd&&(this._trigger(u),this._isTrackingAd=!0)),this._videoIdle=!1},c.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(o),this._isTrackingSessionStarted=!0;var a=this._dataResolver(["video.resumed"]);a.hasOwnProperty("video.resumed")&&a["video.resumed"]&&this._trigger(p)}},c.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._trigger(m),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},c.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(n),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._videoIdle=!1}},c.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&(this._trigger(s),this._startPlayheadTimer())},c.prototype.trackPause=function(){if(this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")){this._stopPlayheadTimer();var a={};a[H]=!1,this._trigger(t,a)}},c.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&(this._stopPlayheadTimer(),this._trigger(w))},c.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&(this._trigger(x),this._startPlayheadTimer())},c.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&(this._stopPlayheadTimer(),this._trigger(y))},c.prototype.trackSeekComplete=function(){if(this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")){this._trigger(z),this._startPlayheadTimer();var a=this._dataResolver(["ad.isInAd"]);this._isTrackingAd=a.hasOwnProperty("ad.isInAd")&&a["ad.isInAd"]}},c.prototype.trackComplete=function(a){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){var b={};b[G]=a,this._stopPlayheadTimer(),this._trigger(q,b)}},c.prototype.trackTimedMetadata=function(a){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(r,a)},c.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(A)},c.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(B)},c.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(u),this._isTrackingAd=!0)},c.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&(this._trigger(v),this._isTrackingAd=!1)},c.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(C)},c.prototype.trackVideoPlayerError=function(a){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+a+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var b={};b[I]=l,b[J]=a,this._trigger(D,b)}},c.prototype.trackApplicationError=function(a){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+a+")"),this._startSessionIfNeeded("trackApplicationError")){var b={};b[I]=k,b[J]=a,this._trigger(D,b)}},c.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoIdleStart",this._cmdVideoIdleStart),this._pluginManager.comply(this,"handleVideoIdleResume",this._cmdVideoIdleResume)},c.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new e(j,E),this,"handleVideoIdleStart"),this._pluginManager.registerBehaviour(new e(j,F),this,"handleVideoIdleResume",[new d(i,"ad.isInAd","isInAd"),new d(i,"chapter.isInChapter","isInChapter")])},c.prototype._setupDataResolver=function(){function a(){return g.video?g.video:(g.video=h._delegate.getVideoInfo(),h._logger.info(h._logTag,"Data from delegate > VideoInfo: "+g.video),g.video)}function b(){return g.ad?g.ad:(g.ad=h._delegate.getAdInfo(),h._logger.info(h._logTag,"Data from delegate > AdInfo: "+g.ad),g.ad)}function c(){return g.pod?g.pod:(g.pod=h._delegate.getAdBreakInfo(),h._logger.info(h._logTag,"Data from delegate > AdBreakInfo: "+g.pod),g.pod)}function d(){return g.chapter?g.chapter:(g.chapter=h._delegate.getChapterInfo(),h._logger.info(h._logTag,"Data from delegate > ChapterInfo: "+g.chapter),g.chapter)}function e(){return g.qos?g.qos:(g.qos=h._delegate.getQoSInfo(),h._logger.info(h._logTag,"Data from delegate > QoSInfo: "+g.qos),g.qos)}var f={},g={},h=this;f["video.id"]=function(){var b=a(),c=b?b.id:null;return h._logger.debug(h._logTag,"Resolving video.id: "+c),c},f["video.name"]=function(){var b=a(),c=b?b.name:null;return h._logger.debug(h._logTag,"Resolving video.name: "+c),c},f["video.length"]=function(){var b=a(),c=b?b.length:NaN;return h._logger.debug(h._logTag,"Resolving video.length: "+c),c},f["video.playerName"]=function(){var b=a(),c=b?b.playerName:null;return h._logger.debug(h._logTag,"Resolving video.playerName: "+c),c},f["video.streamType"]=function(){var b=a(),c=b?b.streamType:null;return h._logger.debug(h._logTag,"Resolving video.streamType: "+c),c},f["video.playhead"]=function(){var b=a(),c=b?b.playhead:NaN;return h._logger.debug(h._logTag,"Resolving video.playhead: "+c),c},f["video.resumed"]=function(){var b=a(),c=b?b.resumed:!1;return h._logger.debug(h._logTag,"Resolving video.resumed: "+c),c},f["video.playheadStalled"]=function(){return this._playheadStalled},f["pod.name"]=function(){var a=c(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving pod.name: "+b),b},f["pod.playerName"]=function(){var a=c(),b=a?a.playerName:null;return h._logger.debug(h._logTag,"Resolving pod.playerName: "+b),b},f["pod.position"]=function(){var a=c(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving pod.position: "+b),b},f["pod.startTime"]=function(){var a=c(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving pod.startTime: "+b),b},f["ad.isInAd"]=function(){var a=b(),c=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAd: "+c),c},f["ad.isInAdBreak"]=function(){var a=c(),b=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAdBreak: "+b),b},f["ad.id"]=function(){var a=b(),c=a?a.id:null;return h._logger.debug(h._logTag,"Resolving ad.id: "+c),c},f["ad.name"]=function(){var a=b(),c=a?a.name:null;return h._logger.debug(h._logTag,"Resolving ad.name: "+c),c},f["ad.length"]=function(){var a=b(),c=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving ad.length: "+c),c},f["ad.position"]=function(){var a=b(),c=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving ad.position: "+c),c},f["chapter.isInChapter"]=function(){var a=d(),b=null!=a;return h._logger.debug(h._logTag,"Resolving chapter.isInChapter: "+b),b},f["chapter.name"]=function(){var a=d(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving chapter.name: "+b),b},f["chapter.length"]=function(){var a=d(),b=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving chapter.length: "+b),b},f["chapter.position"]=function(){var a=d(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving chapter.position: "+b),b},f["chapter.startTime"]=function(){var a=d(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving chapter.startTime: "+b),b},f["qos.bitrate"]=function(){var a=e(),b=a?a.bitrate:NaN;return h._logger.debug(h._logTag,"Resolving qos.bitrate: "+b),b},f["qos.fps"]=function(){var a=e(),b=a?a.fps:NaN;return h._logger.debug(h._logTag,"Resolving qos.fps: "+b),b},f["qos.droppedFrames"]=function(){var a=e(),b=a?a.droppedFrames:NaN;return h._logger.debug(h._logTag,"Resolving qos.droppedFrames: "+b),b},f["qos.startupTime"]=function(){var a=e(),b=a?1e3*a.startupTime:NaN;return h._logger.debug(h._logTag,"Resolving qos.startupTime: "+b),b},this._dataResolver=function(a){if(!a||0==a.length)return null;g={};for(var b=null,c=0;c<a.length;c++){var d=a[c];b=b||{},b[d]=f.hasOwnProperty(d)?f[d].call(this):null}return b}},c.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(t)))},c.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,this._playheadStalled&&(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this.trackPlay()))},c.prototype._startPlayheadTimer=function(){var a=this;this._playheadTimer||(this._playheadTimer=setInterval(function(){if(a._canProcess()){var b=a._dataResolver(["ad.isInAd","video.playhead"]);if(a._isTrackingAd)a._playheadStalled&&a._trackExitStall(),b.hasOwnProperty("ad.isInAd")&&!b["ad.isInAd"]&&(a._isTrackingAd=!1);else{var c=b["video.playhead"];c!=a._previousPlayhead?a._trackExitStall():a._previousPlayhead>=0&&c==a._previousPlayhead&&(a._stalledPlayheadCount++,a._stalledPlayheadCount==L&&a._trackPlayheadStall()),a._previousPlayhead=c}}},K))},c.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},c.prototype._startSessionIfNeeded=function(a){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+a+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+a+"() > No active tracking session."),!1)};var h="player",i=h,j="adobe-heartbeat",k="sourceErrorExternal",l="sourceErrorSDK",m="video_load",n="video_unload",o="video_start",p="video_resume",q="video_complete",r="timed_metadata",s="play",t="pause",u="ad_start",v="ad_complete",w="buffer_start",x="buffer_complete",y="seek_start",z="seek_complete",A="chapter_start",B="chapter_complete",C="bitrate_change",D="track_error",E="video_idle_start",F="video_idle_resume",G="callback",H="filter_report",I="source",J="error_id",K=1001,L=2;b.VideoPlayerPlugin=c}(a.ADB.core,b),a.ADB.va.plugins.videoplayer||(a.ADB.va.plugins.videoplayer=b)}(this);\n\n// AdobeHeartbeatPlugin\n!function(a){if("undefined"==typeof b)var b={};b.clock||(b.clock={}),b.context||(b.context={}),b.filter||(b.filter={}),b.model||(b.model={}),b.network||(b.network={}),function(a,b){"use strict";function c(a,b,c,d,e){if(!b)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=b,!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=a,!e)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+c,this._logger=e,this._isDestroyed=!1,this._createTimer(c,d),this._installHandlers()}var d=a.Event;c.KEY_NAME="name",c.KEY_INTERVAL="interval",c.KEY_RESET="reset",c.prototype.resume=function(a){this._logger.debug(this._logTag,"Starting timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,i,b)},c.prototype.pause=function(a){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,h,b)},c.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var a={};a[c.KEY_NAME]=e+"."+this._name,this._pluginManager.command(f,j,a)}},c.prototype.setInterval=function(a){var b=k+"."+e+"."+this._name,c=this._pluginManager.request(f,[b])[b];this.pause(!0),this._createTimer(this._name,a),c||this.resume(!0)},c.prototype._cmdResume=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.resume(b)},c.prototype._cmdPause=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.pause(b)},c.prototype._onTick=function(a,b){this._channel.trigger(new d("clock:"+this._name+".tick",b))},c.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(f,e+"."+this._name+".tick",this._onTick,this)},c.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},c.prototype._createTimer=function(a,b){this._name=a,this._interval=b;var d={};d[c.KEY_NAME]=e+"."+this._name,d[c.KEY_INTERVAL]=this._interval,this._pluginManager.command(f,g,d)};var e="heartbeat",f="service.clock",g="create",h="pause",i="resume",j="destroy",k="is_paused";b.clock.Timer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,f,h,d)}var d=a.Event,e=b.clock.Timer;a.extend(c,e),c.prototype._onCheckStatusComplete=function(a){var b=a.data[l];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");b>g?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+b),this.setInterval(g)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(h)},c.prototype._getSettings=function(a){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new d(i))},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(j,this._getSettings,this),this._channel.on(k,this._onCheckStatusComplete,this),this._channel.reply(l,function(){return this._interval},this)};var f="check_status",g=600,h=60,i="clock:check_status.tick",j="clock:check_status.get_settings",k="net:check_status_complete",l="check_status_interval";b.clock.CheckStatusTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d),c.prototype._onCheckStatusComplete=function(a){var b=a.data[g];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(f)},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(h,this._onCheckStatusComplete,this),this._channel.reply(g,function(){return this._interval},this)};var e="reporting",f=10,g="reporting_interval",h="net:check_status_complete";b.clock.ReportingTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="idle",f=1800;b.clock.IdleTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="flush_filter",f=.25;b.clock.FlushFilterTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c){if(!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(!b)throw new Error("Reference to the channel object cannot be NULL");if(!c)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new f(a,b,c),this._checkStatusTimer=new d(a,b,c),this._flushFilterTimer=new e(a,b,c),this._idleTimer=new g(a,b,c)}var d=b.clock.CheckStatusTimer,e=b.clock.FlushFilterTimer,f=b.clock.ReportingTimer,g=b.clock.IdleTimer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},b.clock.Clock=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this.value=a,this.hint=b}function d(a){this.realm=a,this.data={}}c.HINT_SHORT="short",d.prototype.setField=function(a,b,d){this.data[a]=new c(b,d)},d.prototype._createAccessor=function(a,b,c){var d=this;return function(){return arguments.length&&(d[a]=arguments[0],d.setField(b,arguments[0],c)),d[a]}},b.model.Dao=d,b.model.DaoField=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.adId(a.adId()),this.sid(a.sid()),this.resolver(a.resolver()),this.podId(a.podId()),this.podPosition(a.podPosition()),this.podOffset(a.podOffset()),this.podName(a.podName()),this.adLength(a.adLength()),this.adName(a.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var d=b.model.Dao;a.extend(c,d),b.model.AdDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",e.HINT_SHORT),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.reportSuiteId(a.reportSuiteId()),this.trackingServer(a.trackingServer()),this.ssl(a.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var d=b.model.Dao,e=b.model.DaoField;a.extend(c,d),b.model.AdobeAnalyticsDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.id(a.id()),this.sid(a.sid()),this.name(a.name()),this.position(a.position()),this.length(a.length()),this.offset(a.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var d=b.model.Dao;a.extend(c,d),b.model.ChapterDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.name(a.name()),this.videoId(a.videoId()),this.publisher(a.publisher()),this.length(a.length());var b=a.adData()?new e(a.adData()):null;this.adData(b);var d=a.chapterData()?new f(a.chapterData()):null;this.chapterData(d)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var d=b.model.Dao,e=b.model.AdDao,f=b.model.ChapterDao;a.extend(c,d),c.TYPE_AD="ad",c.TYPE_MAIN_CONTENT="main",b.model.AssetDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.duration(a.duration()),this.playhead(a.playhead()),this.id(a.id()),this.source(a.source()),this.ts(a.ts()),this.prevTs(a.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var d=b.model.Dao;a.extend(c,d),c.EVENT_TYPE_AA_START="aa_start",c.EVENT_TYPE_AA_AD_START="aa_ad_start",c.EVENT_TYPE_START="start",c.EVENT_TYPE_RESUME="resume",c.EVENT_TYPE_CHAPTER_START="chapter_start",c.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",c.EVENT_TYPE_PLAY="play",c.EVENT_TYPE_PAUSE="pause",c.EVENT_TYPE_STALL="stall",c.EVENT_TYPE_BUFFER="buffer",c.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",c.EVENT_TYPE_ERROR="error",c.EVENT_TYPE_COMPLETE="complete",b.model.EventDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.bitrate(a.bitrate()),this.fps(a.fps()),this.droppedFrames(a.droppedFrames()),this.startupTime(a.startupTime()),this.isStartupTimeOverridden=a.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var d=b.model.Dao;a.extend(c,d),b.model.QoSDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.ovp(a.ovp()),this.sdk(a.sdk()),this.channel(a.channel()),this.playerName(a.playerName()),this.libVersion(a.libVersion()),this.apiLevel(a.apiLevel())}else this.ovp(e),this.sdk(e),this.channel(e),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var d=b.model.Dao;a.extend(c,d);var e="unknown";b.model.ServiceProviderDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.sessionId(a.sessionId())}else this.sessionId(null)}var d=b.model.Dao;a.extend(c,d),b.model.SessionDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type())}else this.type(null)}var d=b.model.Dao;a.extend(c,d),b.model.StreamDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.analyticsVisitorId(a.analyticsVisitorId()),this.marketingCloudVisitorId(a.marketingCloudVisitorId()),this.visitorId(a.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var d=b.model.Dao;a.extend(c,d),b.model.UserDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.audienceManagerBlob(a.audienceManagerBlob()),this.audienceManagerLocationHint(a.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var d=b.model.Dao;a.extend(c,d),b.model.AudienceManagerDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c,i,j){this.eventData=new e,this.eventData.type(b),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(c),this.assetData=new f(a._assetData),this.streamData=new g(a._streamData),this.qosData=new h(a._qosData),this.cuserData=d.clone(a._cuserData),this.meta=i,this.callback=j,this.filterReport=!0}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.TrackItem=c}(a.ADB.va.utils,b),function(a,b){"use strict";function c(a,b,c,i,j,k){this.adobeAnalyticsData=a,this.userData=b,this.aamData=c,this.serviceProviderData=i,this.sessionData=j,this.eventData=new e(k.eventData),this.assetData=new f(k.assetData),this.streamData=new g(k.streamData),this.qosData=new h(k.qosData),this.cuserData=d.clone(k.cuserData),this.meta=d.clone(k.meta),this.callback=k.callback,this.filterReport=k.filterReport}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.CUserDao;b.model.Report=c}(a.ADB.va.utils,b),function(a){"use strict";function b(){}b.prototype.serializeReport=function(a){},b.prototype.serializeDao=function(a){},b.prototype.serializeMap=function(a){},b.prototype.serializeNumber=function(a,b,c,d){},b.prototype.serializeString=function(a,b,c,d){},a.model.ISerializer=b}(b),function(a,b){"use strict";function c(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a}var d=b.model.Dao,e=b.model.DaoField,f=b.model.ISerializer;a.extend(c,f),c.prototype.serializeReport=function(a){var b=[];return b.push(this.serializeDao(a.adobeAnalyticsData)),b.push(this.serializeDao(a.userData)),b.push(this.serializeDao(a.aamData)),b.push(this.serializeMap(a.cuserData,"cuser")),b.push(this.serializeDao(a.serviceProviderData)),b.push(this.serializeDao(a.sessionData)),b.push(this.serializeDao(a.eventData)),b.push(this.serializeDao(a.assetData)),b.push(this.serializeDao(a.streamData)),b.push(this.serializeDao(a.qosData)),b.push(this.serializeMap(a.meta,"meta")),{serializedOutput:b.filter(function(a){return!!a}).join("&"),callback:a.callback}},c.prototype.serializeDao=function(a){var b=this._processDao(a);return b.filter(function(a){return!!a}).join("&")},c.prototype.serializeMap=function(a,b){var c=[],d=b?b:"meta";for(var e in a)a.hasOwnProperty(e)&&a[e]&&c.push("s:"+d+":"+e+"="+window.encodeURIComponent(a[e]));return c.join("&")},c.prototype.serializeNumber=function(a,b,c,d){var f=h;return null==b||isNaN(b)?null:(d===e.HINT_SHORT&&(f=i),f+":"+c+":"+a+"="+Math.floor(b))},c.prototype.serializeString=function(a,b,c,d){return b?j+":"+c+":"+a+"="+window.encodeURIComponent(b):null},c.prototype._processDao=function(a){var b=[];for(var c in a.data)if(a.data.hasOwnProperty(c)){var e=a.data[c],f=e.value,h=e.hint,i=null,j=a.realm;if(null==f)continue;"number"==typeof f?i=this.serializeNumber(c,f,j,h):"string"==typeof f?i=this.serializeString(c,f,j,h):f instanceof d?i=this.serializeDao(f):this._logger.warn(g,"#_processDao() > Unable to serialize DAO. Field: "+c+". Value: "+f+"."),i&&b.push(i)}return b};var g="ah::QuerystringSerializer",h="l",i="h",j="s";b.model.QuerystringSerializer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the data object cannot be NULL");if(this._data=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b}c.prototype.parse=function(){var a,b,c,i,j;if(window.DOMParser){var k=new window.DOMParser;j=k.parseFromString(this._data,"text/xml")}else j=new window.ActiveXObject("Microsoft.XMLDOM"),j.async=!1,j.loadXML(this.data);var l;l=parseInt(j.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10),l&&(a=l),l=parseInt(j.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10),l&&(b=l),l=parseInt(j.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10),l&&(c=1==l),j.getElementsByTagName("nielsenEnabled")[0]?(l=parseInt(j.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10),i=1==l):i=!0;var m={};return m[e]=a,m[f]=b,m[g]=c,m[h]=i,this._logger.debug(d,"#parse() > Obtained configuration settings."),m};var d="ah::SettingsParser",e="reporting_interval",f="check_status_interval",g="track_external_errors",h="nielsen_enabled";b.network.SettingsParser=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._quietMode=!1,this._visitorOptedOut=!1,this._prevReportSent=null,!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._serializer=new i(b),this._installEventListeners()}var d=a.Event,e=a.URLRequestMethod,f=a.URLRequest,g=a.URLLoader,h=b.network.SettingsParser,i=b.model.QuerystringSerializer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(j,"#destroy()"),this._uninstallEventListeners())},c.prototype._onApiConfig=function(a){var b=a.data;this._logger.debug(j,"#_onApiConfig(sb_server="+b[k]+", check_status_server="+b[l]+", publisher="+b[m]+", quiet_mode="+b[n]+", ssl="+b[o]+")"),this._trackingServer=this._updateRequestProtocol(b[k],b[o]),this._checkStatusServer=this._updateRequestProtocol(b[l],b[o]),this._publisher=b[m],this._quietMode=b[n],this._isConfigured=!0},c.prototype._onUpdateVisitorOptOut=function(a){var b=a.data;this._logger.debug(j,"#_onUpdateVisitorOptOut(visitor_opt_out="+b[q]+")"),this._visitorOptedOut=b[q]},c.prototype._onFilterReportAvailable=function(a){var b=a.data;if(!this._isConfigured)return void this._logger.warn(j,"#_onFilterReportAvailable() > Unable to send request: not configured.");var c=b[p],h=this._serializer.serializeReport(c),i=this._trackingServer+"/?"+h.serializedOutput;if(this._prevReportSent&&this._prevReportSent.eventData&&c.eventData&&this._prevReportSent.eventData.playhead==c.eventData.playhead&&this._prevReportSent.eventData.ts==c.eventData.ts&&this._prevReportSent.eventData.prevTs==c.eventData.prevTs&&this._prevReportSent.eventData.type==c.eventData.type)return void this._logger.debug(j,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\\n"+i);this._prevReportSent=c;var k=new f(i,e.GET);this._logger.debug(j,"#_onFilterReportAvailable() > "+k.url);var l=this,m=function(a){o.close(),h.callback&&h.callback.call(null)},n=function(a){o.close(),l._logger.warn(j,"#_onFilterReportAvailable() > Failed to send heartbeat report."),h.callback&&h.callback.call(null)};if(!this._quietMode&&!this._visitorOptedOut){var o=new g;o.addEventListener(d.SUCCESS,m,this),o.addEventListener(d.ERROR,n,this),o.load(k)}},c.prototype._onClockCheckStatusTick=function(a){function b(a){if(a.data){var b=new h(a.data.response,i._logger),c=b.parse();c?i._channel.trigger(new d(v,c)):i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}n.close()}function c(a){i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),n.close()}if(!this._isConfigured)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Unable to send request: not configured.");if(!this._publisher)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Publisher is NULL.");var i=this,k=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),l=this._checkStatusServer+k+".xml?r="+(new Date).getTime(),m=new f(l,e.GET),n=new g;n.addEventListener(d.SUCCESS,b,this),n.addEventListener(d.ERROR,c,this),this._logger.debug(j,"#_onClockCheckStatusTick() > Get new settings from: "+l),n.load(m)},c.prototype._updateRequestProtocol=function(a,b){var c=a;return 0===c.indexOf("http://")?c=c.slice(7):0===c.indexOf("https://")&&(c=c.slice(8)),b?"https://"+c:"http://"+c},c.prototype._installEventListeners=function(){this._channel.on(r,this._onApiConfig,this),this._channel.on(s,this._onUpdateVisitorOptOut,this),this._channel.on(t,this._onFilterReportAvailable,this),this._channel.on(u,this._onClockCheckStatusTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var j="ah::Network",k="tracking_server",l="check_status_server",m="publisher",n="quiet_mode",o="ssl",p="report",q="visitor_opt_out",r="api:config",s="api:update_visitor_optout",t="filter:data_available",u="clock:check_status.tick",v="net:check_status_complete";b.network.Network=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new i,this._installEventListeners()}function d(a){var b=[];return a&&a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_PAUSE||a.eventData.type()==k.EVENT_TYPE_STALL?(!a.filterReport||a.eventData.duration()>u)&&b.push(a):b.push(a)}),b}function e(a){var b=-1,c=-1,d=[];return a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_START?a.assetData.type()==l.TYPE_MAIN_CONTENT?-1==b?b=d.push(a)-1:(a.eventData.prevTs(-1),d[b]=a):-1==c?c=d.push(a)-1:(a.eventData.prevTs(-1),d[c]=a):d.push(a)}),d}function f(a){var b=[];return a.forEach(function(c){if(c.eventData.type()==k.EVENT_TYPE_PLAY){if(c.eventData.duration()>t)b.push(c);else if(0==c.eventData.duration()&&c.assetData.type()==l.TYPE_MAIN_CONTENT){var d=g(a);d.indexOf(c)==d.length-1&&b.push(c)}}else b.push(c)}),b}function g(a){var b=[];return a.forEach(function(a){(a.eventData.type()==k.EVENT_TYPE_PLAY||a.eventData.type()==k.EVENT_TYPE_BUFFER||a.eventData.type()==k.EVENT_TYPE_START)&&b.push(a)}),b}var h=a.radio.Command,i=a.radio.CommandQueue,j=a.Event,k=b.model.EventDao,l=b.model.AssetDao;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners(),this.clear())},c.prototype.clear=function(){this._logger.debug(w,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},c.prototype.flush=function(){this._workQueue.addCommand(new h(this._flushBufferReport,this))},c.prototype._bufferReport=function(a){if(!this._isDestroyed){var b=a[q];if(b){var c=b.sessionData.sessionId();this._reportBuffer[c]=this._reportBuffer[c]||[],this._reportBuffer[c].push(b)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var d={};d[p]=!0,d[r]=1,this._channel.command(s,d)}}},c.prototype._flushBufferReport=function(){function a(a){if(a)for(var c=0;c<a.length;c++){var d=a[c],e=d.sessionData.sessionId();b._tsHistory[e]=b._tsHistory[e]||{};var f=d.eventData.type()+"."+(d.assetData.type()==l.TYPE_AD?d.assetData.adData().adId():d.assetData.videoId());b._tsHistory[e].hasOwnProperty(f)&&d.eventData.prevTs(b._tsHistory[e][f]),b._tsHistory[e][f]=d.eventData.ts()}}if(!this._isDestroyed){var b=this;for(var c in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(c)){var g=f(e(d(this._reportBuffer[c])));a(g);for(var h=0;h<g.length;h++){var i=g[h],k={};k[q]=i,this._channel.trigger(new j(n,k))}}this._reportBuffer={};var m=this._channel.request(v),o=this._tsHistory[m]||{};this._tsHistory={},this._tsHistory[m]=o,this._isBufferingInProgress=!1}},c.prototype._onContextReportAvailable=function(a){var b=a.data;this._workQueue.addCommand(new h(this._bufferReport,this,[b]))},c.prototype._onClockFlushFilterTick=function(a){this.flush()},c.prototype._installEventListeners=function(){this._channel.on(m,this._onContextReportAvailable,this),this._channel.on(o,this._onClockFlushFilterTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var m="context:report_available",n="filter:data_available",o="clock:flush_filter.tick",p="reset",q="report",r="repeat_count",s="clock:flush_filter.resume",t=250,u=250,v="session_id",w="ah::ReportFilter";b.filter.ReportFilter=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!a.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof a.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(a.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"rsid":if(!a.hasOwnProperty("rsid"))return this._fail("account (rsid) is required and has to be set in the AppMeasurement instance.");if("string"!=typeof a.rsid)return this._fail("account (rsid) of the AppMeasurement instance must be a String.");if(""===a.rsid)return this._fail("account (rsid) of the AppMeasurement instance  cannot be an empty string.");break;case"trackingServer":if(!a.hasOwnProperty("trackingServer"))return this._fail("trackingServer is required and has to be set in the AppMeasurement instance.");if("string"!=typeof a.trackingServer)return this._fail("trackingServer of the AppMeasurement instance must be a String.");if(""===a.trackingServer)return this._fail("trackingServer of the AppMeasurement instance cannot be an empty string.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!a.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof a.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(a.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!a.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof a.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(a.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!a.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof a.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(a.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.context.InputDataValidator=c}(a.ADB.va,b),function(a,b){"use strict";function c(a,b){if(!b)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=b,!a)throw new Error("Reference to the context object cannot be NULL");this._context=a}var d=b.model.Report;\nc.prototype.createReportForItem=function(a){return this._logger.debug(e,"Creating report for item: "+a.eventData.type()),new d(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,a)};var e="ah::ReportFactory";b.context.ReportFactory=c}(a.ADB.core,b),function(a,b,c,d){"use strict";function e(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._lastInBandItem=null,this._autoComputedStartupTime=0,this._reportingInterval=fa,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new j,this._serviceProviderData=new k,this._userData=new l,this._aamData=new m,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._activeAssetId=null,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new u(this,this._logger),this._inputDataValidator=new v(function(a){this._logger.error(w,a.getMessage()+" | "+a.getDetails()),this._channel.trigger(new h(y,a))},this),this._stashedChapterData=null,this._stashedAdData=null,this._trackExternalErrors=!0,this._installEventListeners()}var f=c.md5,g=c.ObjectUtils,h=a.Event,i=d.model.SessionDao,j=d.model.AdobeAnalyticsDao,k=d.model.ServiceProviderDao,l=d.model.UserDao,m=d.model.AudienceManagerDao,n=d.model.EventDao,o=d.model.AssetDao,p=d.model.StreamDao,q=d.model.QoSDao,r=d.model.AdDao,s=d.model.ChapterDao,t=d.model.TrackItem,u=d.context.ReportFactory,v=d.context.InputDataValidator;e.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners())},e.prototype._onApiAnalyticsStart=function(a){this._logger.debug(w,"#_onApiAnalyticsStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._userData.visitorId(b.vid),this._userData.analyticsVisitorId(b.aid),this._userData.marketingCloudVisitorId(b.mid),this._aamData.audienceManagerBlob(b.blob),this._aamData.audienceManagerLocationHint(b.loc_hint),b.customerIDs&&(this._cuserData=b.customerIDs),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_START,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(c)}},e.prototype._onApiAnalyticsAdStart=function(a){this._logger.debug(w,"#_onApiAnalyticsAdStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_AD_START,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoLoad=function(a){var b=a.data;this._logger.debug(w,"#_onApiVideoLoad(rsid="+b.rsid+", aa_trackingServer="+b.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(b,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},e.prototype._onApiVideoUnload=function(a){return this._logger.debug(w,"#_onApiVideoUnload()"),this._isTrackingSessionActive?void(this._isTrackingSessionActive=!1):void this._logger.debug(w,"#_onApiVideoUnload() > No active tracking session.")},e.prototype._onApiVideoStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoStart(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._adobeAnalyticsData.reportSuiteId(b.rsid),this._adobeAnalyticsData.trackingServer(b.trackingServer),this._adobeAnalyticsData.ssl(Number(b.useSsl)),this._serviceProviderData.ovp(b.ovp),this._serviceProviderData.sdk(b.sdk),this._serviceProviderData.channel(b.channel),this._serviceProviderData.libVersion(b.version),this._serviceProviderData.apiLevel(b.apiLvl),this._activeAssetId=b.videoId,this._serviceProviderData.playerName(b.playerName),this._assetData.videoId(this._activeAssetId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.publisher(b.publisher),this._assetData.name(b.videoName),this._streamData.type(b.streamType),this._updateQoSInfo(b);var c=b.metaNielsen?g.merge(b.metaVideo,b.metaNielsen):b.metaVideo,d=new t(this,n.EVENT_TYPE_START,b.playhead,c,b._eventData[E]);this._sendHit(d)}},e.prototype._onApiVideoResume=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoResume(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._activeAssetId=b.videoId,this._assetData.videoId(this._activeAssetId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.name(b.videoName),this._streamData.type(b.streamType);var c=new t(this,n.EVENT_TYPE_RESUME,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoComplete=function(a){this._logger.debug(w,"#_onApiVideoComplete()");var b=a.data;if(this._checkCall("_onApiVideoComplete")){var c=new t(this,n.EVENT_TYPE_COMPLETE,this._assetData.length(),null,b._eventData[E]);this._sendHit(c),this._isVideoComplete=!0}},e.prototype._onApiPlay=function(a){this._logger.debug(w,"#_onApiPlay()");var b=a.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_PLAY,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiPause=function(a){this._logger.debug(w,"#_onApiPause()");var b=a.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=b.playheadStalled?n.EVENT_TYPE_STALL:n.EVENT_TYPE_PAUSE,d=new t(this,c,b.playhead,null,b._eventData[E]);b._eventData.hasOwnProperty(F)&&(d.filterReport=b._eventData[F]),this._sendHit(d)}},e.prototype._onApiBufferStart=function(a){this._logger.debug(w,"#_onApiBufferStart()");var b=a.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BUFFER,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiSeekStart=function(a){this._logger.debug(w,"#_onApiSeekStart()"),this._checkCall("_onApiSeekStart")&&(this._stashedAdData=this._assetData.adData(),this._stashedChapterData=this._assetData.chapterData(),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId(),this._assetData.chapterData(null))},e.prototype._onApiSeekComplete=function(a){this._logger.debug(w,"#_onApiSeekComplete()");var b=a.data;if(this._checkCall("_onApiSeekComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(b.isInAd){if(!this._inputDataValidator.validateFields(b,["adId","adPosition","podPosition","podPlayerName"]))return;var c=f(this._assetData.videoId())+"_"+b.podPosition;if(this._stashedAdData&&this._stashedAdData.podId()==c&&parseInt(this._stashedAdData.podPosition(),10)==b.adPosition)this._assetData.adData(this._stashedAdData),this._activeAssetId=this._stashedAdData.adId();else if(!this._assetData.adData()){this._activeAssetId=b.adId;var d=new r;d.adId(this._activeAssetId),d.adName(b.adName),d.adLength(b.adLength),d.podId(c),d.resolver(b.podPlayerName),d.podPosition(b.podPosition+""),d.podName(b.podName),d.podOffset(b.podSecond),d.sid(this._generateSessionId()),this._assetData.adData(d)}this._assetData.type(o.TYPE_AD)}else this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId();if(b.isInChapter){if(!this._inputDataValidator.validateFields(b,["chapterPosition","chapterLength","chapterOffset"]))return;if(this._stashedChapterData&&b.chapterPosition==this._stashedChapterData.position())this._assetData.chapterData(this._stashedChapterData);else if(!this._assetData.chapterData()){var e=new s;e.id(f(this._assetData.videoId())+"_"+b.chapterPosition),e.name(b.chapterName),e.length(b.chapterLength),e.position(b.chapterPosition),e.offset(b.chapterOffset),e.sid(this._generateSessionId()),this._assetData.chapterData(e)}}else this._assetData.chapterData(null);this._stashedAdData=null,this._stashedChapterData=null}},e.prototype._onApiAdStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiAdStart(id="+b.adId+", player_name="+b.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+b.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(b,["playhead","podPosition","podPlayerName","adId","adPosition"])){this._activeAssetId=b.adId;var c=new r;c.adId(this._activeAssetId),c.adName(b.adName),c.adLength(b.adLength),c.resolver(b.podPlayerName),c.podId(f(this._assetData.videoId())+"_"+b.podPosition),c.podPosition(b.adPosition+""),c.podName(b.podName),c.podOffset(b.podSecond),c.sid(this._generateSessionId()),this._assetData.adData(c),this._assetData.type(o.TYPE_AD),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaAd);d=b.metaNielsen?g.merge(d,b.metaNielsen):d;var e=new t(this,n.EVENT_TYPE_START,b.playhead,d,b._eventData[E]);this._sendHit(e)}},e.prototype._onApiAdComplete=function(a){this._logger.debug(w,"#_onApiAdComplete()");var b=a.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(this._assetData.type()!=o.TYPE_AD)return void this._logger.warn(w,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_COMPLETE,b.playhead,null,b._eventData[E]);this._sendHit(c),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId()}},e.prototype._onApiChapterStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiChapterStart(name="+b.chapterName+", length="+b.chapterLength+", position="+b.chapterPosition+", chapter_offset="+b.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(b,["playhead","chapterPosition","chapterOffset","chapterLength"])){var c=new s;c.id(f(this._assetData.videoId())+"_"+b.chapterPosition),c.name(b.chapterName),c.length(b.chapterLength),c.position(b.chapterPosition),c.offset(b.chapterOffset),c.sid(this._generateSessionId()),this._assetData.chapterData(c),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaChapter),e=new t(this,n.EVENT_TYPE_CHAPTER_START,b.playhead,d,b._eventData[E]);e.assetData.adData(null),e.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(e)}},e.prototype._onApiChapterComplete=function(a){this._logger.debug(w,"#_onApiChapterComplete()");var b=a.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(w,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_CHAPTER_COMPLETE,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c),this._assetData.chapterData(null)}},e.prototype._onApiBitrateChange=function(a){this._logger.debug(w,"#_onApiBitrateChange()");var b=a.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BITRATE_CHANGE,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiTrackError=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiTrackError(source="+b._eventData.source+", err_id="+b._eventData.error_id+")"),!this._isTrackingSessionActive)return void this._logger.warn(w,"#_onApiTrackError() > No active tracking session.");if(this._trackExternalErrors||b._eventData.source===x){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0,null,b._eventData[E]);c.eventData.id(b._eventData.error_id),c.eventData.source(b._eventData.source),this._sendHit(c)}},e.prototype._onApiTrackInternalError=function(a){var b=a.data;this._logger.debug(w,"#_onApiTrackInternalError(source="+b.source+", err_id="+b.error_id+")"),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0);c.eventData.id(b.error_id),c.eventData.source(b.source),this._sendHit(c)},e.prototype._onApiQuantumEnd=function(a){this._logger.debug(w,"#_onApiQuantumEnd(interval="+this._channel.request(B)+")");var b=a.data;this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(b,["playhead"])&&(this._lastInBandItem&&(this._lastInBandItem.eventData.playhead(b.playhead),this._updateQoSInfo(b),this._lastInBandItem.qosData.bitrate(this._qosData.bitrate()),this._lastInBandItem.qosData.fps(this._qosData.fps()),this._lastInBandItem.qosData.droppedFrames(this._qosData.droppedFrames()),this._lastInBandItem.qosData.startupTime(this._qosData.startupTime())),this._sendHit(this._lastInBandItem))},e.prototype._onNetworkCheckStatusComplete=function(a){var b=a.data;this._trackExternalErrors=b[I],this._reportingInterval=b[J],this._reportingInterval||(this._reportingInterval=fa),this._logger.debug(w,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},e.prototype._onResetSessionId=function(a){var b=this._generateSessionId();this._sessionData=new i,this._sessionData.sessionId(b),this._logger.debug(w,"#_resetSessionId(new sessionId="+b+")")},e.prototype._installEventListeners=function(){this._channel.on(K,this._onApiAnalyticsStart,this),this._channel.on(L,this._onApiAnalyticsAdStart,this),this._channel.on(M,this._onApiVideoLoad,this),this._channel.on(N,this._onApiVideoUnload,this),this._channel.on(O,this._onApiVideoStart,this),this._channel.on(P,this._onApiVideoComplete,this),this._channel.on(Q,this._onApiVideoResume,this),this._channel.on(R,this._onApiAdStart,this),this._channel.on(S,this._onApiAdComplete,this),this._channel.on(T,this._onApiPlay,this),this._channel.on(U,this._onApiPause,this),this._channel.on(V,this._onApiBufferStart,this),this._channel.on(W,this._onApiSeekStart,this),this._channel.on(X,this._onApiSeekComplete,this),this._channel.on(Y,this._onApiChapterStart,this),this._channel.on(Z,this._onApiChapterComplete,this),this._channel.on(aa,this._onApiBitrateChange,this),this._channel.on($,this._onApiTrackError,this),this._channel.on(_,this._onApiTrackInternalError,this),this._channel.on(ba,this._onApiQuantumEnd,this),this._channel.on(da,this._onNetworkCheckStatusComplete,this),this._channel.on(D,this._onResetSessionId,this),this._channel.reply(C,function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null},this)},e.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},e.prototype._resetInternalState=function(){this._logger.debug(w,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._streamData=new p,this._qosData=new q,this._sessionData=new i,this._assetData=new o,this._cuserData=null,this._stashedAdData=null,this._stashedChapterData=null,this._lastInBandItem=null},e.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},e.prototype._updateQoSInfo=function(a){this._qosData.bitrate(a.bitrate||0),this._qosData.fps(a.fps||0),this._qosData.droppedFrames(a.droppedFrames||0),null==a.startupTime||isNaN(a.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(a.startupTime),this._qosData.isStartupTimeOverridden=!0)},e.prototype._checkCall=function(a){return this._isTrackingSessionActive?this._isVideoComplete?(this._logger.warn(w,"#"+a+"() > The video content already completed."),!1):!0:(this._logger.warn(w,"#"+a+"() > No active tracking session."),!1)},e.prototype._updateLastInBandItem=function(a){var b=(new Date).getTime(),c=1e3*Math.abs(a.eventData.playhead()-this._lastInBandItem.eventData.playhead()),d=Math.abs(b-this._lastInBandItem.eventData.ts());this._lastInBandItem.eventData.type()!=n.EVENT_TYPE_PAUSE&&this._lastInBandItem.eventData.type()!=n.EVENT_TYPE_STALL?(d*ea>=c||this._doNotOverrideEventDuration)&&d<=this._reportingInterval*ea*1e3?this._lastInBandItem.eventData.duration(b-this._lastInBandItem.eventData.ts()):(this._logger.warn(w,"[WARNING] Resetting duration in lastInBandItem to 0. playheadDelta:"+c+" tsDelta:"+d+" event type:"+this._lastInBandItem.eventData.type()),this._lastInBandItem.eventData.duration(0)):this._lastInBandItem.eventData.duration(b-this._lastInBandItem.eventData.ts()),this._doNotOverrideEventDuration&&(this._doNotOverrideEventDuration=!1),this._lastInBandItem.eventData.ts(b),this._lastInBandItem.eventData.playhead(a.eventData.playhead()),this._lastInBandItem.qosData.startupTime(a.qosData.startupTime()),this._lastInBandItem.qosData.isStartupTimeOverridden=a.qosData.isStartupTimeOverridden},e.prototype._sendHit=function(a){function b(a){var b=c._reportFactory.createReportForItem(a);b.qosData.isStartupTimeOverridden||b.qosData.startupTime(c._autoComputedStartupTime);var e={};e[G]=b,c._channel.trigger(new h(ca,e)),(b.eventData.type()==n.EVENT_TYPE_PLAY||b.eventData.type()==n.EVENT_TYPE_BUFFER||b.eventData.type()==n.EVENT_TYPE_START)&&(d={},d[H]=!0,c._channel.command(z,d))}var c=this,d={};switch(a.eventData.type()){case n.EVENT_TYPE_START:case n.EVENT_TYPE_PLAY:case n.EVENT_TYPE_PAUSE:case n.EVENT_TYPE_STALL:case n.EVENT_TYPE_BUFFER:this._lastInBandItem&&(this._updateLastInBandItem(a),this._lastInBandItem.eventData.type()==n.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==o.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),a!=this._lastInBandItem&&b(this._lastInBandItem)),b(a),this._lastInBandItem=a,d={},d[H]=!0,this._channel.command(z,d);break;case n.EVENT_TYPE_COMPLETE:this._lastInBandItem&&(a.assetData.type()==o.TYPE_AD&&(this._doNotOverrideEventDuration=!0),this._updateLastInBandItem(a),b(this._lastInBandItem)),b(a),a.assetData.type()==o.TYPE_MAIN_CONTENT?(this._lastInBandItem=null,d={},d[H]=!0,this._channel.command(A,d)):a.assetData.type()==o.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(o.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case n.EVENT_TYPE_CHAPTER_START:case n.EVENT_TYPE_CHAPTER_COMPLETE:this._lastInBandItem&&(this._updateLastInBandItem(a),b(this._lastInBandItem)),b(a),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(a.eventData.type()==n.EVENT_TYPE_CHAPTER_START?new s(a.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),b(this._lastInBandItem));break;default:b(a)}};var w="ah::Context",x="sourceErrorSDK",y="error",z="clock:reporting.resume",A="clock:reporting.pause",B="reporting_interval",C="session_id",D="reset_session_id",E="callback",F="filter_report",G="report",H="reset",I="track_external_errors",J="reporting_interval",K="api:aa_start",L="api:aa_ad_start",M="api:video_load",N="api:video_unload",O="api:video_start",P="api:video_complete",Q="api:video_resume",R="api:ad_start",S="api:ad_complete",T="api:play",U="api:pause",V="api:buffer_start",W="api:seek_start",X="api:seek_complete",Y="api:chapter_start",Z="api:chapter_complete",$="api:track_error",_="api:track_internal_error",aa="api:bitrate_change",ba="api:quantum_end",ca="context:report_available",da="net:check_status_complete",ea=1.5,fa=10;d.context.Context=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){"use strict";function b(a,b){this.trackingServer=a,this.publisher=b,this.ssl=!1,this.ovp=c,this.sdk=c,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}var c="unknown";a.AdobeHeartbeatPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.AdobeHeartbeatPluginDelegate=b}(b),function(a,b,c){"use strict";function d(a){d.__super__.constructor.call(this,q),this._radio=new i(this._logger),this._channel=this._radio.channel(y),this._delegate=a,this._context=new l(this._channel,this._logger),this._filter=new m(this._channel,this._logger),this._network=new n(this._channel,this._logger),this._setupDataResolver()}var e=a.Event,f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Radio,j=b.ErrorInfo,k=b.Version,l=c.context.Context,m=c.filter.ReportFilter,n=c.network.Network,o=c.clock.Clock,p=c.AdobeHeartbeatPluginConfig;a.extend(d,g),d.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var b=this._config.trackingServer+"/settings/",c={};c[ba]=this._config.trackingServer,c[ca]=b,c[da]=this._config.publisher,c[ea]=this._config.quietMode,c[fa]=this._config.ssl,this._channel.trigger(new e(ja,c)),this._isConfigured=!0},d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._channel.on(z,this._onError,this),this._clock=new o(this._pluginManager,this._channel,this._logger),this._channel.command(Ea),this._channel.trigger(new e(La)),this._registerCommands(),this._registerBehaviours()},d.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},d.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):d.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},d.prototype._cmdAnalyticsError=function(a){this._errorInfo||(this._errorInfo=new j("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},d.prototype._cmdAnalyticsStart=function(a){if(this._canProcess()){var b={};b[ga]=a.visitorOptedOut,this._channel.trigger(new e(ka,b)),this._channel.trigger(new e(ha,a))}},d.prototype._cmdAnalyticsAdStart=function(a){this._canProcess()&&this._channel.trigger(new e(ia,a))},d.prototype._cmdVideoLoad=function(a){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new e(ma,a)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new e(la,a)),this._isTrackingSessionActive=!0)},d.prototype._cmdVideoUnload=function(a){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new e(ma,a)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},d.prototype._cmdVideoStart=function(a){this._canProcess()&&this._channel.trigger(new e(na,a))},d.prototype._cmdVideoComplete=function(a){this._canProcess()&&this._channel.trigger(new e(oa,a))},d.prototype._cmdVideoResume=function(a){this._canProcess()&&this._channel.trigger(new e(pa,a))},d.prototype._cmdPlay=function(a){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdPause=function(a){this._canProcess()&&(this._channel.trigger(new e(ta,a)),this._isPaused=!0,this._runIdleTimer(!0))},d.prototype._cmdAdStart=function(a){this._canProcess()&&(this._channel.trigger(new e(qa,a)),this._resumePlaybackIfPossible(a))},d.prototype._cmdAdComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(ra,a)),a.isInAdBreak||this._resumePlaybackIfPossible(a))},d.prototype._cmdBufferStart=function(a){this._canProcess()&&(this._channel.trigger(new e(ua,a)),this._isBuffering=!0,this._runIdleTimer(!0))},d.prototype._cmdBufferComplete=function(a){this._canProcess()&&(this._isBuffering=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdSeekStart=function(a){this._canProcess()&&(this._channel.trigger(new e(va,a)),this._channel.trigger(new e(ta,a)),this._isSeeking=!0,this._runIdleTimer(!0))},d.prototype._cmdSeekComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(wa,a)),this._isSeeking=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdChapterStart=function(a){this._canProcess()&&this._channel.trigger(new e(xa,a))},d.prototype._cmdChapterComplete=function(a){this._canProcess()&&this._channel.trigger(new e(ya,a))},d.prototype._cmdBitrateChange=function(a){this._canProcess()&&this._channel.trigger(new e(Ba,a))},d.prototype._cmdTrackError=function(a){this._canProcess()&&this._channel.trigger(new e(za,a))},d.prototype._cmdClockReportingTick=function(a){this._canProcess()&&this._channel.trigger(new e(Ca,a))},d.prototype._cmdIdleTick=function(a){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(V),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger(T))},d.prototype._onError=function(a){this._errorInfo=a.data;var b={};b[_]=Da,b[aa]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new e(Aa,b)),this._runReportingTimer(!1),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},d.prototype._runIdleTimer=function(a){var b={};b[$]=!0,a?this._channel.command(Ja,b):this._channel.command(Ka,b)},d.prototype._runFlushFilterTimer=function(a){var b={};b[$]=!0,a?this._channel.command(Ha,b):this._channel.command(Ia,b)},d.prototype._runReportingTimer=function(a){var b={};b[$]=!0,a?this._channel.command(Fa,b):this._channel.command(Ga,b)},d.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handleVideoResume",this._cmdVideoResume),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick),this._pluginManager.comply(this,"handleIdleTick",this._cmdIdleTick)},d.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(t,C),this,"handleVideoLoad",[new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer")]),this._pluginManager.registerBehaviour(new f(t,D),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new f(t,E),this,"handleVideoStart",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"ssl","useSsl"),new h(u,"meta","metaNielsen"),new h(r,"publisher","publisher"),new h(r,"sdk","sdk"),new h(r,"ovp","ovp"),new h(r,"version","version"),new h(r,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new f(t,G),this,"handleVideoComplete",[new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,F),this,"handleVideoResume",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType")]),this._pluginManager.registerBehaviour(new f(t,H),this,"handlePlay",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,I),this,"handlePause",[new h(t,"video.playhead","playhead"),new h(t,"video.playheadStalled","playheadStalled"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,J),this,"handleAdStart",[new h(t,"video.playhead","playhead"),new h(t,"ad.id","adId"),new h(t,"ad.name","adName"),new h(t,"ad.length","adLength"),new h(t,"ad.position","adPosition"),new h(t,"pod.name","podName"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"pod.startTime","podSecond"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd"),new h(u,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(t,K),this,"handleAdComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,L),this,"handleBufferStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,M),this,"handleBufferComplete",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,N),this,"handleSeekStart",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(t,O),this,"handleSeekComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAd","isInAd"),new h(t,"ad.id","adId"),new h(t,"ad.position","adPosition"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"chapter.isInChapter","isInChapter"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),\nthis._pluginManager.registerBehaviour(new f(t,P),this,"handleChapterStart",[new h(t,"video.playhead","playhead"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.chapter.*","metaChapter"),new h(u,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(t,Q),this,"handleChapterComplete",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,R),this,"handleBitrateChange",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,S),this,"handleTrackError"),this._pluginManager.registerBehaviour(new f(v,X),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(v,Z),this,"handleIdleTick",[]),this._pluginManager.registerBehaviour(new f(r,V),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,z),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new f(s,A),this,"handleAnalyticsStart",[new h(s,"vid","vid"),new h(s,"aid","aid"),new h(s,"mid","mid"),new h(s,"customerIDs","customerIDs"),new h(s,"visitorOptedOut","visitorOptedOut"),new h(s,"blob","blob"),new h(s,"loc_hint","loc_hint"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,B),this,"handleAnalyticsAdStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")])},d.prototype._setupDataResolver=function(){var a={},b=this;a.version=function(){return k.getVersion()},a.api_level=function(){return k.getApiLevel()},a.tracking_server=function(){return b._config?b._config.trackingServer:null},a.publisher=function(){return b._config?b._config.publisher:null},a.quiet_mode=function(){return b._config?b._config.quietMode:!1},a.ovp=function(){return b._config?b._config.ovp:null},a.sdk=function(){return b._config?b._config.sdk:null},a.is_primetime=function(){return b._config?b._config.__isPrimetime:!1},a.psdk_version=function(){return b._config?b._config.__psdkVersion:null},a.session_id=function(){return b._channel.request(w)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},d.prototype._resumePlaybackIfPossible=function(a){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle&&(this._isVideoIdle=!1,this._resumePlaybackFromIdle()),this._runIdleTimer(!1),this._channel.trigger(new e(sa,a)))},d.prototype._resumePlaybackFromIdle=function(){this._trigger(V),this._filter.clear(),this._channel.trigger(new e(x)),this._trigger(U),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var q="adobe-heartbeat",r=q,s="adobe-analytics",t="player",u="nielsen",v="service.clock",w="session_id",x="reset_session_id",y="heartbeat-channel",z="error",A="aa_start",B="sc_ad_start",C="video_load",D="video_unload",E="video_start",F="video_resume",G="video_complete",H="play",I="pause",J="ad_start",K="ad_complete",L="buffer_start",M="buffer_complete",N="seek_start",O="seek_complete",P="chapter_start",Q="chapter_complete",R="bitrate_change",S="track_error",T="video_idle_start",U="video_idle_resume",V="quantum_close",W="heartbeat.reporting",X=W+".tick",Y="heartbeat.idle",Z=Y+".tick",$="reset",_="source",aa="error_id",ba="tracking_server",ca="check_status_server",da="publisher",ea="quiet_mode",fa="ssl",ga="visitor_opt_out",ha="api:aa_start",ia="api:aa_ad_start",ja="api:config",ka="api:update_visitor_optout",la="api:video_load",ma="api:video_unload",na="api:video_start",oa="api:video_complete",pa="api:video_resume",qa="api:ad_start",ra="api:ad_complete",sa="api:play",ta="api:pause",ua="api:buffer_start",va="api:seek_start",wa="api:seek_complete",xa="api:chapter_start",ya="api:chapter_complete",za="api:track_error",Aa="api:track_internal_error",Ba="api:bitrate_change",Ca="api:quantum_end",Da="sourceErrorHeartbeat",Ea="clock:check_status.resume",Fa="clock:reporting.resume",Ga="clock:reporting.pause",Ha="clock:flush_filter.resume",Ia="clock:flush_filter.pause",Ja="clock:idle.resume",Ka="clock:idle.pause",La="clock:check_status.get_settings";c.AdobeHeartbeatPlugin=d}(a.ADB.core,a.ADB.va,b),a.ADB.va.plugins.ah||(a.ADB.va.plugins.ah=b)}(this);\n\n// AdobeAnalyticsPlugin\n!function(a){if("undefined"==typeof b)var b={};!function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!a.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof a.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(a.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.InputDataValidator=c}(a.ADB.va,b),function(a){"use strict";function b(){this.channel=c,this.debugLogging=!1}var c="";a.AdobeAnalyticsPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.AdobeAnalyticsPluginDelegate=b}(b),function(a,b,c,d){"use strict";function e(a,b){if(e.__super__.constructor.call(this,r),!a)throw new Error("The reference to the AppMeasurement object cannot be NULL.");this._appMeasurement=a,this._delegate=b,this._customMetaKeys=[],this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new k(!0,w),this._inputDataValidator=new q(function(a){this._errorInfo=a,this._logger.error(this._logTag,a.getMessage()+" | "+a.getDetails());var b=this;setTimeout(function(){b._trigger(x,a),b._delegate&&b._delegate.onError(b._errorInfo)},0)},this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Channel,j=a.radio.Command,k=a.radio.CommandQueue,l=b.ErrorInfo,m=c.md5,n=c.StringUtils,o=c.ObjectUtils,p=d.AdobeAnalyticsPluginConfig,q=d.InputDataValidator;a.extend(e,g),e.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},e.prototype.bootstrap=function(a){e.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},e.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),e.__super__.setup.call(this)},e.prototype.setVideoMetadata=function(a){this._videoMetadata=o.clone(a)},e.prototype.setAdMetadata=function(a){this._adMetadata=o.clone(a)},e.prototype.setChapterMetadata=function(a){this._chapterMetadata=o.clone(a)},e.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):e.__super__._canProcess.call(this)},e.prototype._cmdVideoLoad=function(a){this._errorInfo=null},e.prototype._cmdVideoStart=function(a){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpen,this,[a]))},e.prototype._cmdAdStart=function(a){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpenAd,this,[a]))},e.prototype._cmdHeartbeatPluginError=function(a){this._errorInfo||(this._errorInfo=new l("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(x,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},e.prototype._resetAppMeasurementContextData=function(){delete this._appMeasurement.contextData["a.contentType"],delete this._appMeasurement.contextData["a.media.name"],delete this._appMeasurement.contextData["a.media.friendlyName"],delete this._appMeasurement.contextData["a.media.length"],delete this._appMeasurement.contextData["a.media.playerName"],delete this._appMeasurement.contextData["a.media.channel"],delete this._appMeasurement.contextData["a.media.view"],delete this._appMeasurement.contextData["a.media.ad.name"],delete this._appMeasurement.contextData["a.media.ad.friendlyName"],delete this._appMeasurement.contextData["a.media.ad.podFriendlyName"],delete this._appMeasurement.contextData["a.media.ad.length"],delete this._appMeasurement.contextData["a.media.ad.playerName"],delete this._appMeasurement.contextData["a.media.ad.pod"],delete this._appMeasurement.contextData["a.media.ad.podPosition"],delete this._appMeasurement.contextData["a.media.ad.podSecond"],delete this._appMeasurement.contextData["a.media.ad.view"];for(var a=0;a<this._customMetaKeys.length;a++){var b=this._customMetaKeys[a];delete this._appMeasurement.contextData[b]}this._customMetaKeys=[]},e.prototype._executeOpen=function(a){if(this._logger.debug(this._logTag,"#_executeOpen(id="+a.videoId+", videoName="+a.videoName+", streamType="+a.streamType+", length="+a.videoLength+", playerName="+a.playerName+", channel="+a.channel+", isPrimetime="+a.isPrimetime+", sessionId="+a.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","streamType","videoLength","playerName"])){this._resetAppMeasurementContextData();for(var b in a.metaVideo)a.metaVideo.hasOwnProperty(b)&&(this._appMeasurement.contextData[b]=a.metaVideo[b],this._customMetaKeys.push(b));if(a.metaNielsen)for(var b in a.metaNielsen)a.metaNielsen.hasOwnProperty(b)&&(this._appMeasurement.contextData[b]=a.metaNielsen[b],this._customMetaKeys.push(b));this._appMeasurement.contextData["a.contentType"]=a.streamType,this._appMeasurement.contextData["a.media.name"]=a.videoId,this._appMeasurement.contextData["a.media.friendlyName"]=a.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(a.videoLength)||"0.0",this._appMeasurement.contextData["a.media.playerName"]=a.playerName,this._appMeasurement.contextData["a.media.channel"]=a.channel||"",this._appMeasurement.contextData["a.media.view"]=!0,this._appMeasurement.contextData["a.media.vsid"]=a.sessionId,this._appMeasurement.pev3=y,this._appMeasurement.pe=a.isPrimetime?B:A,this._appMeasurement.track();var c=this;setTimeout(function(){c._trigger(E,a)},0)}},e.prototype._executeOpenAd=function(a){var b=m(a.videoId)+"_"+a.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+a.adId+", streamType="+a.streamType+", length="+a.adLength+", podPlayerName="+a.podPlayerName+", parentId="+a.videoId+", podId="+b+", parentPodPosition="+a.adPosition+", podSecond="+a.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){a.podSecond=null==a.podSecond||isNaN(a.podSecond)?a.playhead:a.podSecond,this._resetAppMeasurementContextData();var c;for(c in a.metaVideo)a.metaVideo.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaVideo[c],this._customMetaKeys.push(c));for(c in a.metaAd)a.metaAd.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaAd[c],this._customMetaKeys.push(c));if(a.metaNielsen)for(var c in a.metaNielsen)a.metaNielsen.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaNielsen[c],this._customMetaKeys.push(c));this._appMeasurement.contextData["a.contentType"]=a.streamType,this._appMeasurement.contextData["a.media.name"]=a.videoId,this._appMeasurement.contextData["a.media.playerName"]=a.playerName,this._appMeasurement.contextData["a.media.channel"]=a.channel||"",this._appMeasurement.contextData["a.media.vsid"]=a.sessionId,this._appMeasurement.contextData["a.media.ad.name"]=a.adId,this._appMeasurement.contextData["a.media.ad.friendlyName"]=a.adName||"",this._appMeasurement.contextData["a.media.ad.podFriendlyName"]=a.podName||"",this._appMeasurement.contextData["a.media.ad.length"]=Math.floor(a.adLength)||"0.0",this._appMeasurement.contextData["a.media.ad.playerName"]=a.podPlayerName,this._appMeasurement.contextData["a.media.ad.pod"]=b,this._appMeasurement.contextData["a.media.ad.podPosition"]=Math.floor(a.adPosition)||"0.0",this._appMeasurement.contextData["a.media.ad.podSecond"]=Math.floor(a.podSecond)||"0.0",this._appMeasurement.contextData["a.media.ad.view"]=!0,this._appMeasurement.pev3=z,this._appMeasurement.pe=a.isPrimetime?D:C,this._appMeasurement.track();var d=this;setTimeout(function(){d._trigger(F,a)},0)}},e.prototype._setupDataResolver=function(){var a={},b=this;a.rsid=function(){return b._appMeasurement.account},a.tracking_server=function(){return b._appMeasurement.ssl&&b._appMeasurement.trackingServerSecure?b._appMeasurement.trackingServerSecure:b._appMeasurement.trackingServer},a.ssl=function(){return b._appMeasurement.ssl},a.vid=function(){return b._appMeasurement.visitorID},a.aid=function(){return b._appMeasurement.analyticsVisitorID},a.mid=function(){return b._appMeasurement.marketingCloudVisitorID},a.blob=function(){return b._appMeasurement.audienceManagerBlob},a.loc_hint=function(){return b._appMeasurement.audienceManagerLocationHint?parseInt(b._appMeasurement.audienceManagerLocationHint):""},a.customerIDs=function(){var a=b._appMeasurement.visitor.getCustomerIDs(),c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];if("object"==typeof e){for(var f in e)e.hasOwnProperty(f)&&("authState"==f?c[d+".as"]=e[f]:c[d+"."+f]=e[f]);c[d+".as"]||(c[d+".as"]="0")}}return c},a.channel=function(){return b._config?b._config.channel:null},a.meta=function(a){var c=a.split(".");if(c.length<2)return null;var d=c.shift();switch(a=c.join("."),d){case"video":return a==i.WILDCARD?b._videoMetadata:b._videoMetadata[a];case"ad":return a==i.WILDCARD?b._adMetadata:b._adMetadata[a];case"chapter":return a==i.WILDCARD?b._chapterMetadata:b._chapterMetadata[a];default:return null}},a.visitorOptedOut=function(){return void 0==b._appMeasurement.visitorOptedOut?!1:b._appMeasurement.visitorOptedOut},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},n.startsWith(e,"meta.")?c[e]=a.meta(e.split("meta.")[1]):c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},e.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},e.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(u,G),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new f(u,H),this,"handleVideoStart",[new h(u,"video.id","videoId"),new h(u,"video.streamType","streamType"),new h(u,"video.name","videoName"),new h(u,"video.length","videoLength"),new h(u,"video.playerName","playerName"),new h(u,"video.streamType","streamType"),new h(v,"is_primetime","isPrimetime"),new h(v,"session_id","sessionId"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(t,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(u,I),this,"handleAdStart",[new h(u,"video.id","videoId"),new h(u,"video.streamType","streamType"),new h(u,"video.playhead","playhead"),new h(u,"video.playerName","playerName"),new h(u,"ad.id","adId"),new h(u,"ad.length","adLength"),new h(u,"ad.position","adPosition"),new h(u,"ad.name","adName"),new h(u,"pod.name","podName"),new h(u,"pod.position","podPosition"),new h(u,"pod.playerName","podPlayerName"),new h(u,"pod.startTime","podSecond"),new h(v,"is_primetime","isPrimetime"),new h(v,"session_id","sessionId"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd"),new h(t,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(v,x),this,"handleHeartbeatPluginError")},e.prototype._onAppMeasurementReady=function(){this._workQueue.resume()};var r="adobe-analytics",s=r,t="nielsen",u="player",v="adobe-heartbeat",w=2e3,x="error",y="video",z="videoAd",A="ms_s",B="msp_s",C="msa_s",D="mspa_s",E="aa_start",F="sc_ad_start",G="video_load",H="video_start",I="ad_start";d.AdobeAnalyticsPlugin=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),a.ADB.va.plugins.aa||(a.ADB.va.plugins.aa=b)}(this);\n\n/*\n* END OF CORE HEARTBEAT CODE\n*\n*/\n};\ncontextWrapper.call(window);\n})();\n\n/*\n * ADOBE SYSTEMS INCORPORATED\n * Copyright 2015 Adobe Systems Incorporated\n * All Rights Reserved.\n\n * NOTICE:  Adobe permits you to use, modify, and distribute this file in accordance with the\n * terms of the Adobe license agreement accompanying it.  If you have received this file from a\n * source other than Adobe, then your use, modification, or distribution of it requires the prior\n * written permission of Adobe.\n */\n\n// ******************************************************************\n// ******************************************************************\n// ******************************************************************\n// Scripps Customizations start here.\n// ******************************************************************\n// ******************************************************************\n// ******************************************************************\n\n    (function() {\n        \'use strict\';\n        // Export symbols.\n        window.HBConfiguration = {\n            PLAYER: {\n                NAME: \'PDK HEARTBEAT\', // this is overwritten at play time\n                VIDEO_ID: \'TEST\', // this is overwritten at play time\n                VIDEO_NAME: \'TEST HARNESS VIDEO\' // this is overwritten at play time\n            },\n            HEARTBEAT: {\n                TRACKING_SERVER: \'ewscripps.hb.omtrdc.net\',\n                PUBLISHER: \'BC501253513148ED0A490D45@AdobeOrg\',\n                CHANNEL: \'\',\n                OVP: \'\',\n                SDK: \'\'\n            }\n        };\n\n        /**\n         * A generic event dispatcher.\n         *\n         * @constructor\n         */\n\n        function EventDispatcher() {\n            this._events = {};\n        }\n\n        /**\n         * Register an event-listener method to the event dispatcher.\n         *\n         * @param {string} name Unique string value identifying the event.\n         *\n         * @param {Function} listener Function that will be called when the event is dispatched.\n         *\n         * @param {Object} context Context in which the listener method is called.\n         *\n         */\n        EventDispatcher.prototype.addEventListener = function(name, listener, context) {\n            if (!name || !listener) return;\n            context = context || window;\n\n            this._events[name] = (this._events[name] || []);\n            this._events[name].push({\n                cb: listener,\n                ctx: context\n            });\n        };\n\n        /**\n         * Un-register an event-listener method to the event dispatcher.\n         *\n         * NOTE: for an event listener to be removed all the three coordinates must match\n         * (name, listener and context) with the values provided during registration.\n         *\n         * @param {string} name Unique string value identifying the event.\n         *\n         * @param {Function} listener Function that will be called when the event is dispatched.\n         *\n         * @param {Object} context Context in which the listener method is called.\n         */\n        EventDispatcher.prototype.removeEventListener = function(name, listener, context) {\n            if (!name || !listener) return;\n            context = context || window;\n\n            // Check to see if the event name was registered with us.\n            var i, key, isNameRegistered = false;\n            for (key in this._events) {\n                if (name === key) {\n                    isNameRegistered = true;\n                    break;\n                }\n            }\n\n            // This event name was not registered with us. Just exit.\n            if (!isNameRegistered) return;\n\n            // Search for the target event listener\n            for (i = this._events[key].length - 1; i >= 0; i--) {\n                var _listener = this._events[key][i];\n                if (listener === _listener.cb && context === _listener.ctx) {\n                    this._events[key].splice(i, 1);\n                }\n            }\n\n            // If we are left with an empty list of listeners for a particular\n            // event name, we delete it.\n            if (!this._events[key].length) delete this._events[key];\n        };\n\n        /**\n         * Dispatch en event. It goes through the entire list of listener methods that are registered\n         * for the target event and calls that function in the specified context.\n         *\n         * @param {string} name The name of the event.\n         */\n        EventDispatcher.prototype.dispatchEvent = function(name) {\n            if (!name) return;\n\n            var key, i;\n            for (key in this._events) {\n                if (this._events.hasOwnProperty(key) && name === key) {\n                    var listeners = this._events[key],\n                        copyOnWrite = listeners.slice(0),\n                        length = copyOnWrite.length;\n\n                    for (i = 0; i < length; i++) {\n                        copyOnWrite[i].cb.call(copyOnWrite[i].ctx);\n                    }\n                    break;\n                }\n            }\n        };\n\n        function NotificationCenter() {\n            // Provide a singleton EventDispatcher\n            if (!NotificationCenter.prototype._instance) {\n                NotificationCenter.prototype._instance = new EventDispatcher();\n            }\n\n            return NotificationCenter.prototype._instance;\n        }\n\n        // Export symbols.\n        window.NotificationCenter = NotificationCenter;\n    })();\n\n    /*\n * ADOBE SYSTEMS INCORPORATED\n * Copyright 2015 Adobe Systems Incorporated\n * All Rights Reserved.\n\n * NOTICE:  Adobe permits you to use, modify, and distribute this file in accordance with the\n * terms of the Adobe license agreement accompanying it.  If you have received this file from a\n * source other than Adobe, then your use, modification, or distribution of it requires the prior\n * written permission of Adobe.\n */\n\n    (function() {\n        \'use strict\';\n\n        var HeartbeatDelegate = ADB.va.HeartbeatDelegate,\n            AdobeHeartbeatPluginDelegate = ADB.va.plugins.ah.AdobeHeartbeatPluginDelegate,\n            AdobeAnalyticsPluginDelegate = ADB.va.plugins.aa.AdobeAnalyticsPluginDelegate,\n            VideoPlayerPluginDelegate = ADB.va.plugins.videoplayer.VideoPlayerPluginDelegate;\n\n        //SNIHeartbeatDelegate\n        $.extend(SNIHeartbeatDelegate.prototype, HeartbeatDelegate.prototype);\n\n        function SNIHeartbeatDelegate() {}\n        SNIHeartbeatDelegate.prototype.onError = function(errorInfo) {};\n        //SNIAdobeHeartbeatPluginDelegate\n        $.extend(SNIAdobeHeartbeatPluginDelegate.prototype, AdobeHeartbeatPluginDelegate.prototype);\n\n        function SNIAdobeHeartbeatPluginDelegate() {}\n        SNIAdobeHeartbeatPluginDelegate.prototype.onError = function(errorInfo) {};\n        //SNIAdobeAnalyticsPluginDelegate\n        $.extend(SNIAdobeAnalyticsPluginDelegate.prototype, AdobeAnalyticsPluginDelegate.prototype);\n\n        function SNIAdobeAnalyticsPluginDelegate() {}\n        SNIAdobeAnalyticsPluginDelegate.prototype.onError = function(errorInfo) {};\n\n        $.extend(SNIVideoPlayerPluginDelegate.prototype, VideoPlayerPluginDelegate.prototype);\n\n        function SNIVideoPlayerPluginDelegate(player) {\n            this._player = player;\n        }\n        SNIVideoPlayerPluginDelegate.prototype.getVideoInfo = function() {\n            SNI.Analytics.debugLog("Calling SNI.Analytics.getVideoInfo");\n            SNI.Analytics.debugLog(this._player);\n            return SNI.Analytics.getVideoInfo(this._player);\n        };\n        SNIVideoPlayerPluginDelegate.prototype.getAdBreakInfo = function() {\n            return SNI.Analytics.getAdBreakInfo(this._player);\n        };\n        SNIVideoPlayerPluginDelegate.prototype.getAdInfo = function() {\n            return SNI.Analytics.getAdInfo(this._player);\n        };\n        SNIVideoPlayerPluginDelegate.prototype.getChapterInfo = function() {\n            return SNI.Analytics.getChapterInfo(this._player);\n        };\n        SNIVideoPlayerPluginDelegate.prototype.getQoSInfo = function() {\n            return SNI.Analytics.getQoSInfo(this._player);\n        };\n\n        var Heartbeat = ADB.va.Heartbeat;\n        var HeartbeatConfig = ADB.va.HeartbeatConfig;\n\n        var VideoPlayerPlugin = ADB.va.plugins.videoplayer.VideoPlayerPlugin;\n        var VideoPlayerPluginConfig = ADB.va.plugins.videoplayer.VideoPlayerPluginConfig;\n\n        var AdobeAnalyticsPlugin = ADB.va.plugins.aa.AdobeAnalyticsPlugin;\n        var AdobeAnalyticsPluginConfig = ADB.va.plugins.aa.AdobeAnalyticsPluginConfig;\n\n        var AdobeHeartbeatPlugin = ADB.va.plugins.ah.AdobeHeartbeatPlugin;\n        var AdobeHeartbeatPluginConfig = ADB.va.plugins.ah.AdobeHeartbeatPluginConfig;\n\n\n        function VideoAnalyticsProvider(player) {\n            if (!player) {\n                throw new Error("Illegal argument. Player reference cannot be null.")\n            }\n            this._player = player;\n\n            // Setup the video-player plugin\n            this._playerPlugin = new VideoPlayerPlugin(new SNIVideoPlayerPluginDelegate(this._player));\n            var playerPluginConfig = new VideoPlayerPluginConfig();\n            playerPluginConfig.debugLogging = typeof SNI === "object" && typeof SNI.Analytics === "object" ? SNI.Analytics.debugFlag : false; // set this to false for production apps.\n            this._playerPlugin.configure(playerPluginConfig);\n\n\t\t\ts.account = s.account || s.fun;\n            this._aaPlugin = new AdobeAnalyticsPlugin(s, new SNIAdobeAnalyticsPluginDelegate());\n            var aaPluginConfig = new AdobeAnalyticsPluginConfig();\n            aaPluginConfig.channel = HBConfiguration.HEARTBEAT.CHANNEL;\n            aaPluginConfig.debugLogging = typeof SNI === "object" && typeof SNI.Analytics === "object" ? SNI.Analytics.debugFlag : false; // set this to false for production apps.\n            this._aaPlugin.configure(aaPluginConfig);\n\n            // Setup the AdobeHeartbeat plugin.\n            var ahPlugin = new AdobeHeartbeatPlugin(new SNIAdobeHeartbeatPluginDelegate());\n            var ahPluginConfig = new AdobeHeartbeatPluginConfig(\n                HBConfiguration.HEARTBEAT.TRACKING_SERVER,\n                HBConfiguration.HEARTBEAT.PUBLISHER);\n            ahPluginConfig.ovp = HBConfiguration.HEARTBEAT.OVP;\n            ahPluginConfig.sdk = HBConfiguration.HEARTBEAT.SDK;\n            ahPluginConfig.debugLogging = typeof SNI === "object" && typeof SNI.Analytics === "object" ? SNI.Analytics.debugFlag : false; // set this to false for production apps.\n            \n\t\t\t\n\t\t\tahPluginConfig.ssl = location.protocol==="http:"?false:true;\n\t\t\t\n\t\t\t//ahPluginConfig.ssl = true;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tahPlugin.configure(ahPluginConfig);\n\n            var plugins = [this._playerPlugin, this._aaPlugin, ahPlugin];\n\n            // Setup and configure the Heartbeat lib.\n            this._heartbeat = new Heartbeat(new SNIHeartbeatDelegate(), plugins);\n            var configData = new HeartbeatConfig();\n            configData.debugLogging = typeof SNI === "object" && typeof SNI.Analytics === "object" ? SNI.Analytics.debugFlag : false; // set this to false for production apps.\n            this._heartbeat.configure(configData);\n\t\t\tSNI.Analytics.debugLog("config _heartbeat");\n\t\t\tSNI.Analytics.debugLog(configData);\n            this._installEventListeners();\n        }\n\n        VideoAnalyticsProvider.prototype.destroy = function() {\n            if (this._player) {\n                this._heartbeat.destroy();\n                this._heartbeat = null;\n\n                this._uninstallEventListeners();\n                this._player = null;\n            }\n        };\n\n        /////////\n        // Notification handlers\n        /////////\n\n        VideoAnalyticsProvider.prototype._onLoad = function() {\n            SNI.Analytics.debugLog(\'Player event: VIDEO_LOAD\');\n            this._playerPlugin.trackVideoLoad();\n\n        };\n\n        VideoAnalyticsProvider.prototype._onUnload = function() {\n            SNI.Analytics.debugLog(\'Player event: VIDEO_UNLOAD\');\n            this._playerPlugin.trackVideoUnload();\n        };\n\n        VideoAnalyticsProvider.prototype._onPlay = function() {\n            SNI.Analytics.debugLog(\'Player event: PLAY\');\n            SNI.Analytics.debugLog(this);\n            this._playerPlugin.trackPlay();\n        };\n\n        VideoAnalyticsProvider.prototype._onPause = function() {\n            SNI.Analytics.debugLog(\'Player event: PAUSE\');\n            SNI.Analytics.debugLog(this);\n            this._playerPlugin.trackPause();\n        };\n\n        VideoAnalyticsProvider.prototype._onSeekStart = function() {\n            SNI.Analytics.debugLog(\'Player event: SEEK_START\');\n            this._playerPlugin.trackSeekStart();\n        };\n\n        VideoAnalyticsProvider.prototype._onSeekComplete = function() {\n            SNI.Analytics.debugLog(\'Player event: SEEK_COMPLETE\');\n            this._playerPlugin.trackSeekComplete();\n        };\n\n        VideoAnalyticsProvider.prototype._onBufferStart = function() {\n            SNI.Analytics.debugLog(\'Player event: BUFFER_START\');\n            this._playerPlugin.trackBufferStart();\n        };\n\n        VideoAnalyticsProvider.prototype._onBufferComplete = function() {\n            SNI.Analytics.debugLog(\'Player event: BUFFER_COMPLETE\');\n            this._playerPlugin.trackBufferComplete();\n        };\n\n        VideoAnalyticsProvider.prototype._onAdStart = function() {\n            SNI.Analytics.debugLog(\'Player event: AD_START\');\n            //this._aaPlugin.setAdMetadata({\n            //    affiliate: "",\n            //    campaign: ""\n            //});\n            this._playerPlugin.trackAdStart();\n        };\n\n        VideoAnalyticsProvider.prototype._onAdComplete = function() {\n            SNI.Analytics.debugLog(\'Player event: AD_COMPLETE\');\n            this._playerPlugin.trackAdComplete();\n        };\n\n        VideoAnalyticsProvider.prototype._onChapterStart = function() {\n            SNI.Analytics.debugLog(\'Player event: CHAPTER_START\');\n            this._aaPlugin.setChapterMetadata({\n                segmentType: "SNI segment type"\n            });\n            this._playerPlugin.trackChapterStart();\n        };\n\n        VideoAnalyticsProvider.prototype._onChapterComplete = function() {\n            SNI.Analytics.debugLog(\'Player event: CHAPTER_COMPLETE\');\n            this._playerPlugin.trackChapterComplete();\n        };\n\n        VideoAnalyticsProvider.prototype._onComplete = function() {\n            SNI.Analytics.debugLog(\'Player event: COMPLETE\');\n            this._playerPlugin.trackComplete(function() {\n                SNI.Analytics.debugLog("The completion of the content has been tracked.");\n            });\n        };\n\n        VideoAnalyticsProvider.prototype._installEventListeners = function() {\n            // We register as observers to various VideoPlayer events.\n            NotificationCenter().addEventListener(HBPlayerEvent.VIDEO_LOAD, this._onLoad, this);\n            NotificationCenter().addEventListener(HBPlayerEvent.VIDEO_UNLOAD, this._onUnload, this);\n            NotificationCenter().addEventListener(HBPlayerEvent.PLAY, this._onPlay, this);\n            NotificationCenter().addEventListener(HBPlayerEvent.PAUSE, this._onPause, this);\n            NotificationCenter().addEventListener(HBPlayerEvent.SEEK_START, this._onSeekStart, this);\n            NotificationCenter().addEventListener(HBPlayerEvent.SEEK_COMPLETE, this._onSeekComplete, this);\n            NotificationCenter().addEventListener(HBPlayerEvent.BUFFER_START, this._onBufferStart, this);\n            NotificationCenter().addEventListener(HBPlayerEvent.BUFFER_COMPLETE, this._onBufferComplete, this);\n            NotificationCenter().addEventListener(HBPlayerEvent.AD_START, this._onAdStart, this);\n            NotificationCenter().addEventListener(HBPlayerEvent.AD_COMPLETE, this._onAdComplete, this);\n            NotificationCenter().addEventListener(HBPlayerEvent.CHAPTER_START, this._onChapterStart, this);\n            NotificationCenter().addEventListener(HBPlayerEvent.CHAPTER_COMPLETE, this._onChapterComplete, this);\n            NotificationCenter().addEventListener(HBPlayerEvent.COMPLETE, this._onComplete, this);\n        };\n\n        VideoAnalyticsProvider.prototype._uninstallEventListeners = function() {\n            // We register as observers to various VideoPlayer events.\n            NotificationCenter().removeEventListener(HBPlayerEvent.VIDEO_LOAD, this._onLoad, this);\n            NotificationCenter().removeEventListener(HBPlayerEvent.VIDEO_UNLOAD, this._onUnload, this);\n            NotificationCenter().removeEventListener(HBPlayerEvent.PLAY, this._onPlay, this);\n            NotificationCenter().removeEventListener(HBPlayerEvent.PAUSE, this._onPause, this);\n            NotificationCenter().removeEventListener(HBPlayerEvent.SEEK_START, this._onSeekStart, this);\n            NotificationCenter().removeEventListener(HBPlayerEvent.SEEK_COMPLETE, this._onSeekComplete, this);\n            NotificationCenter().removeEventListener(HBPlayerEvent.BUFFER_START, this._onBufferStart, this);\n            NotificationCenter().removeEventListener(HBPlayerEvent.BUFFER_COMPLETE, this._onBufferComplete, this);\n            NotificationCenter().removeEventListener(HBPlayerEvent.AD_START, this._onAdStart, this);\n            NotificationCenter().removeEventListener(HBPlayerEvent.AD_COMPLETE, this._onAdComplete, this);\n            NotificationCenter().removeEventListener(HBPlayerEvent.CHAPTER_START, this._onChapterStart, this);\n            NotificationCenter().removeEventListener(HBPlayerEvent.CHAPTER_COMPLETE, this._onChapterComplete, this);\n            NotificationCenter().removeEventListener(HBPlayerEvent.COMPLETE, this._onComplete, this);\n        };\n\n        // Export symbols.\n        window.SNIHeartbeatDelegate = SNIHeartbeatDelegate;\n        window.SNIAdobeHeartbeatPluginDelegate = SNIAdobeHeartbeatPluginDelegate;\n        window.SNIAdobeAnalyticsPluginDelegate = SNIAdobeAnalyticsPluginDelegate;\n        window.SNIVideoPlayerPluginDelegate = SNIVideoPlayerPluginDelegate;\n        window.VideoAnalyticsProvider = VideoAnalyticsProvider;\n        window.HBPlayerEvent = {\n            VIDEO_LOAD: \'video_load\',\n            VIDEO_UNLOAD: \'video_unload\',\n            PLAY: \'play\',\n            PAUSE: \'pause\',\n            COMPLETE: \'COMPLETE\',\n            BUFFER_START: \'buffer_start\',\n            BUFFER_COMPLETE: \'buffer_complete\',\n            SEEK_START: \'seek_start\',\n            SEEK_COMPLETE: \'seek_complete\',\n            AD_START: "ad_start",\n            AD_COMPLETE: "ad_complete",\n            CHAPTER_START: "chapter_start",\n            CHAPTER_COMPLETE: "chapter_complete"\n        };\n    })();\n\n    SNI = window.SNI || {};\n    SNI.Analytics = window.SNI.Analytics || {};\n    SNI.Analytics.debugFlag = false;\n    try {\n\t\tSNI.Analytics.debugFlag = localStorage.sdsat_debug == "true" ? true : false;\n\t} catch(e){\n\t\t// localstorage er\n\t}\t\n    SNI.Analytics.debugLog = function f_debugLog(value) {\n        if (SNI.Analytics.debugFlag && typeof console === "object") {\n            console.log(value);\n            //console.log("caller: " + f_debugLog.caller);\n        }\n    };\n\n    SNI.Analytics.startThirdPartyTracking = function f_startThirdPartyTracking(playerObj) {\n        //Nielsen Video Capture - on video content start\n        var davImg = new Image(),\n    \tScRandom = Math.ceil(Math.random() * 1000000000),\n        //ScImgSrc = "https://secure-us.imrworldwide.com/cgi-bin/m?ci=us-200639",\n        \n\t\tScImgSrc = location.protocol==="https:"?"https://secure-us.imrworldwide.com/cgi-bin/m?ci=us-200639":"http://secure-us.imrworldwide.com/cgi-bin/m?ci=us-200639";\n\t\t\n\t\tenShowTitle = mdManager.getParameterString("showTitle");\n        enVideoTitle = mdManager.getParameterString("videoTitle");\n        prettyBrands = {\n        \t"food" : ["Food Network","Food Network"],\n        \t"foodcom" : ["Food.com","*null"],\n        \t"gac" : ["Great American Country","Great American Country"],\n        \t"hgtv" : ["HGTV","HGTV"],\n        \t"diy" : ["DIY Network","DIY Network"],\n        \t"cook" : ["Cooking Channel","Cooking Channel"],\n        \t"travel" : ["Travel Channel","Travel Channel"],\n\t\t\t"discovery" : ["Discovery","Discovery"]\n        },\n        site = typeof sniSite !== "undefined" ? sniSite : mdManager.getParameterString("site");\n        if (enShowTitle != "") {\n            ScImgSrc += "&cg=" + enShowTitle;\n        } else {\n            csImgSrc += "&c4=" + mdManager.getParameterString("Title");\n        } //Added temporarily because hgtv video player not passing show title 02/03/2015\n        //else {csImgSrc += "&c4=" + escape("No Show Title");}\n        ScImgSrc += "&tl=dav0-" + enVideoTitle;\n        //ScImgSrc += \'&c3=st,a\' + escape(\'StreamType\');  //Use only if the video stream is an advertisement\n        ScImgSrc += "&c6=vc,c16"; //VideoCensus ID - specified by Nielsen - varies per entity\n        ScImgSrc += "&cc=1"; //Cookie Check (Always on)\n        ScImgSrc += "&rnd=" + ScRandom;\n        davImg = "";\n        davImg = new Image();\n        davImg.src = ScImgSrc;\n\n        //comScore Video Capture - on video content start\n        var csImg = new Image();\n        var csImgSrc;\n        \n\t\tcsImgSrc = location.protocol==="https:"?"https://sb.scorecardresearch.com/p?c1=1&c2=6035648":"http://b.scorecardresearch.com/p?c1=1&c2=6035648";\n\t\t\n\t\t//csImgSrc = "https://sb.scorecardresearch.com/p?c1=1&c2=6035648";\n        csImgSrc += "&c3=" + s.account;\n        if (enShowTitle != "") {\n            csImgSrc += "&c4=" + enShowTitle;\n        } else {\n            csImgSrc += "&c4=" + escape("No Show Title");\n        }\n        //determine ad or content\n        if (mdManager.getParameterString("videoAdTitle") != "") { //ad\n            csImgSrc += "&c5=01&c10=01-01";\n        } else {\n            var runTime = mdManager.getParameterString("videoRunTime");\n            runTime = Math.floor(parseFloat(runTime));\n            var videoType = (runTime > 480) ? "03" : "02"; //3 longform; 2 shortform\n            csImgSrc += "&c5=" + videoType + "&c10=01-01";\n        }\n\n        csImgSrc += "&ns_st_st=" + ( prettyBrands[site] ? prettyBrands[site][0] : "*null" );\n        csImgSrc += "&ns_st_pu=" + ( prettyBrands[site] ? prettyBrands[site][1] : "*null" );\n        csImgSrc += "&ns_st_pr=" + mdManager.getParameterString("showTitle");\n        csImgSrc += "&ns_st_ep=" + mdManager.getParameterString("videoTitle");\n        csImgSrc += "&ns_st_sn=" + ( playerObj.currentVideo && playerObj.currentVideo.season ? ("0" + playerObj.currentVideo.season).slice(-2) : "*null");\n        csImgSrc += "&ns_st_en=" + ( playerObj.currentVideo && playerObj.currentVideo.episodeNumber ? ("0" + playerObj.currentVideo.episodeNumber).slice(-2) : "*null");\n        csImgSrc += "&ns_st_ge=" + "Lifestyle";\n\n        csImg = "";\n        csImg = new Image();\n        csImg.src = csImgSrc;\n\n    };\n    SNI.Analytics.endThirdPartyTracking = function f_endThirdPartyTracking() {\n        //Nielsen Video Capture - on video content complete\n        var davImg = new Image();\n        var ScImgSrc;\n        var ScRandom = Math.ceil(Math.random() * 1000000000);\n        //ScImgSrc = "https://secure-us.imrworldwide.com/cgi-bin/m?ci=us-200639";\n        \n\t\tScImgSrc = location.protocol==="https:"?"https://secure-us.imrworldwide.com/cgi-bin/m?ci=us-200639":"http://secure-us.imrworldwide.com/cgi-bin/m?ci=us-200639";\n\t\t\n\t\t//var enShowTitle = escape(vpw._videoMeta.showTitle);\n        //var enVideoTitle = escape(vpw._videoMeta.title);\n        var enShowTitle = mdManager.getParameterString("showTitle");\n        var enVideoTitle = mdManager.getParameterString("videoTitle");\n        if (enShowTitle != "") {\n            ScImgSrc += "&cg=" + enShowTitle;\n        } else {\n            ScImgSrc += "&cg=" + escape("No Show Title");\n        }\n        ScImgSrc += "&tl=dav2-" + enVideoTitle;\n        //ScImgSrc += \'&c3=st,a\' + escape(\'StreamType\');  //Use only if the video stream is an advertisement\n        ScImgSrc += "&c6=vc,c16"; //VideoCensus ID - specified by Nielsen - varies per entity           \n        ScImgSrc += "&cc=1"; //Cookie Check (Always on)\n        ScImgSrc += "&rnd=" + ScRandom;\n        davImg = "";\n        davImg = new Image();\n        davImg.src = ScImgSrc;\n    };\n    SNI.Analytics.getVideoInfo = function f_getVideoInfo(playerObj) {\n        var videoInfo = new ADB.va.plugins.videoplayer.VideoInfo();\n        SNI.Analytics.debugLog("Getting videoInfo");\n        videoInfo.playerName = "PDK : " + SNI.Video.Util.getRuntime(); \n        // The following fields need to be stored when we have a callback from OnMediaPlaying, we might want to delay the return until we can determine a length\n        //        videoInfo.id = playerObj.baseClip.contentCustomData.scrid;\n        //        videoInfo.name = playerObj.baseClip.contentCustomData.showName; //Optional\n        if (playerObj.playing) {\n        \t// don\'t return a scrid if this player instance isn\'t playing\n        \t// prevents double-tracking\n            videoInfo.id = mdManager.getParameterString("videoSCRID") + (mdManager.getParameterString("videoWindowing") && "|"+ mdManager.getParameterString("videoWindowing"));\n   \t        SNI.Analytics.debugLog(playerObj.$container.selector + " scrid is " +  mdManager.getParameterString("videoSCRID"));\t\n        } else {\n   \t        SNI.Analytics.debugLog(playerObj.$container.selector + " was falsey");\t\n        }\n        videoInfo.name = mdManager.getParameterString("showTitle") + "|" + mdManager.getParameterString("videoTitle"); //Optional\n        videoInfo.length = Math.round(mdManager.getParameterString("videoRunTime")); //Needs to be in seconds\n        videoInfo.playhead = playerObj.playhead || 0; // Needs to be in seconds\n        videoInfo.streamType = ADB.va.plugins.videoplayer.AssetType.ASSET_TYPE_VOD;\n        SNI.Analytics.debugLog("Returning videoInfo");\n        SNI.Analytics.debugLog(videoInfo);\n        return videoInfo;\n    };\n    SNI.Analytics.getAdBreakInfo = function f_getAdBreakInfo(playerObj) {\n        var adBreakInfo = {},\n        position = 1, \n        posarray = [],\n        name = "preroll";\n        if ( playerObj.eventData && typeof playerObj.eventData === "object" && typeof playerObj.eventData.baseClip === "object" && playerObj.eventData.baseClip.guid ) {\n        \tposarray = playerObj.eventData.baseClip.guid.match(/midroll_(\\d)/);\t\n        \tif ( posarray && posarray[1] ) {\n        \t\tname = "midroll";\n        \t\tposition = parseInt(posarray[1],10);\n     \t\t}\n        }\n        if ( playerObj.eventData && typeof playerObj.eventData === "object" && typeof playerObj.eventData.baseClip === "object" \n        \t&& typeof playerObj.eventData.baseClip.contentCustomData === "object" \n        \t&& typeof playerObj.eventData.baseClip.contentCustomData[\'fw:customData\'] === "string" \n        \t&& playerObj.eventData.baseClip.contentCustomData[\'fw:customData\'].match("midroll") ) {\n        \t name = "midroll"; \n        }\n        adBreakInfo.playerName = "PDK : " + SNI.Video.Util.getRuntime(); //Up to analytics team if they want the runtime\n        adBreakInfo.name = name;//Optional value, must be stored due to HTML5 not reporting if we are working with a midroll\n        adBreakInfo.position = position;\n        //adBreakInfo.startTime = playerObj.playhead; // Optional, defaults to the playhead inside the main content at the time of trackAdStartCall\n        return adBreakInfo;\n    };\n    SNI.Analytics.getAdInfo = function f_getAdInfo(playerObj) {\n        var adInfo = {},\n        position;\n        if ( playerObj.eventData && typeof playerObj.eventData === "object" && typeof playerObj.eventData.baseClip === "object" && playerObj.eventData.baseClip.guid ) {\n        \tposition = playerObj.eventData.baseClip.guid.split(":");\t\n        \tposition = Array.isArray(position) && position[1] ? parseInt(position[1],10) + 1 : 1;\n        }\n        adInfo.id = playerObj.eventData && typeof playerObj.eventData === "object" && typeof playerObj.eventData.baseClip === "object" ? playerObj.eventData.id : null;\n        adInfo.length = playerObj.eventData && typeof playerObj.eventData === "object" && typeof playerObj.eventData.baseClip === "object" && !isNaN(playerObj.eventData.length) ? Math.round(playerObj.eventData.length / 1000) : -1;\n        adInfo.position = position; \n        adInfo.name = playerObj.eventData && typeof playerObj.eventData === "object" && typeof playerObj.eventData.baseClip === "object" && typeof playerObj.eventData.baseClip.contentCustomData === "object" && typeof playerObj.eventData.baseClip.contentCustomData[\'fw:customData\'] === "string" ? playerObj.eventData.baseClip.contentCustomData[\'fw:customData\'] : null; //Optional value that is the title or name of the advertisement\n        SNI.Analytics.debugLog("Returning adInfo");\n        SNI.Analytics.debugLog(adInfo);\n        return adInfo;\n    };\n\n    SNI.Analytics.getChapterInfo = function f_getChapterInfo(playerObj) {\n    \tvar chapterInfo = new ADB.va.plugins.videoplayer.ChapterInfo();\n        if ( typeof playerObj.eventData === "object" ) {\n        \tchapterInfo.name =  ( playerObj.eventData.chapter.title ? playerObj.eventData.chapter.title : mdManager.getParameterString("videoTitle") ) +"|"+ playerObj.eventData.chapter.index;  //The name of the chapter (opaque string value)\n\t\t\tchapterInfo.length = Math.round(playerObj.eventData.chapter.length / 1000);\t// The duration (in seconds) of the chapter\n\t\t\tchapterInfo.position = playerObj.eventData.chapter.index + 1; //The position of the chapter inside the main content (starting from 1)\n\t\t\tchapterInfo.startTime = Math.round(playerObj.eventData.chapter.startTime / 1000); //The offset inside the main content where the chapter starts\n        } else {\n        \tchapterInfo.position = 1; //The position of the chapter inside the main content (starting from 1)\n\t\t\tchapterInfo.startTime = 0;\n\t\t\tchapterInfo.length = Math.round(mdManager.getParameterString("videoRunTime"));\n\t\t}\n        return chapterInfo;\n    };\n\n    SNI.Analytics.getQoSInfo = function f_getQoSInfo(playerObj) {\n        var qoSInfo = new ADB.va.plugins.videoplayer.QoSInfo();\n        SNI.Analytics.debugLog("getQoSInfo");\n        SNI.Analytics.debugLog(playerObj);\n        qoSInfo.bitrate = playerObj.eventData && typeof playerObj.eventData === "object" && typeof playerObj.eventData.baseClip === "object" && !isNaN(playerObj.eventData.baseClip.bitrate) ? playerObj.eventData.baseClip.bitrate : null;\n        qoSInfo.fps = playerObj.eventData && typeof playerObj.eventData === "object" && typeof playerObj.eventData.baseClip === "object" && !isNaN(playerObj.eventData.baseClip.frameRate) ? playerObj.eventData.baseClip.frameRate : null;\n        qoSInfo.droppedFrames = null;\n        qoSInfo.startupTime = playerObj.eventData && typeof playerObj.eventData === "object" && typeof playerObj.eventData.baseClip === "object" ? playerObj.eventData.baseClip.loadTime : null;\n        return qoSInfo;\n    };\n\n\tSNI.Analytics.trackedPlayers = [];\n\n    SNI.Analytics.resovleActivePlayer = function f_resovleActivePlayer(playerObj) {\n      // Check the players that are being tracked. \n      // Make sure all the non-current players have their playing & activeSession flags set false\n      var i = SNI.Analytics.trackedPlayers.length || 0;\n      while (i--){\n      \tif ( SNI.Analytics.trackedPlayers[i].$container.selector !== playerObj.$container.selector ) {\n      \t\tSNI.Analytics.trackedPlayers[i].playing = false;\n      \t\tSNI.Analytics.trackedPlayers[i].activeSession = false;\n      \t}\n      }\n      // A new video is starting in an active player -- set the flags to false.\n      if ( playerObj.activeId !== mdManager.getParameterString("videoSCRID") ) {\n      \t\tplayerObj.playing = false;\n      \t\tplayerObj.activeSession = false;\n      \t\tplayerObj.blockduplicate = false;\n      }\n    }\n    \t\n\tSNI.Analytics.resetTrackingEvars = function f_resetTrackingEvars() {\n    \t// reset click tracking evars\t\n        s.contextData["moduleName"] = "";\n        s.contextData["linkPosition"] = "";\n        s.contextData["linkTitle"] = "";\n        s.contextData["targetURL"] = "";\n        s.contextData["locURL"] = "";\n    }\n\n    SNI.Analytics.heartbeatInit = function f_heartbeatInit(playerObj) {    \n        // Create the AnalyticsProvider instance and attach it to the VideoPlayer instance.\n        HBConfiguration.HEARTBEAT.CHANNEL = s.channel;\n        HBConfiguration.HEARTBEAT.OVP = mdManager.getParameterString("site") || "SNI";\n        HBConfiguration.HEARTBEAT.SDK = \'js-v1.5.6 (sni-1.3.0)\';\n\t\t\n        var analyticsProvider = new VideoAnalyticsProvider(playerObj),\n        setVideoMetadata = function() {\n                var metaDataToTrack ={\n            \t\t"videoPlayerType": mdManager.getParameterString("videoPlayerType") + ":heartbeat:" + playerObj.getVideoType(),\n\t\t\t\t\t"videoTitle": mdManager.getParameterString("videoTitle"),\n\t\t\t\t\t"showTitle": mdManager.getParameterString("showTitle"),\n\t\t\t\t\t"videoPlayerName": mdManager.getParameterString("videoPlayerName"),\n\t\t\t\t\t"videoShowAbbr": mdManager.getParameterString("Show_Abbr"),\n\t\t\t\t\t"videoChannelName" : mdManager.getParameterString("videoChannelName"),\n\t\t\t\t\t"videoPublisherID" : mdManager.getParameterString("videoPublisherID"),\n\t\t\t\t\t"videoPlayType" : mdManager.getParameterString("videoPlayType"),\n\t\t\t\t\t"videoNLVID" : mdManager.getParameterString("videoNLVID"),\n\t\t\t\t\t"videoDigitalID" : mdManager.getParameterString("videoNLVID"),\n                    "videoSCRID" : mdManager.getParameterString("videoSCRID"),\n                    "videoGlobalID": mdManager.getParameterString("videoSCRID"),\n\t\t\t\t\t"videoCMSID" : mdManager.getParameterString("videoCMSID"),\n\t\t\t\t\t"videoGUID" : mdManager.getParameterString("videoGUID"),\n\t\t\t\t\t"videoRunTime" : mdManager.getParameterString("videoRunTime") && mdManager.getParameterString("videoRunTime").indexOf(":") === -1 ? Math.round(mdManager.getParameterString("videoRunTime")) : mdManager.getParameterString("videoRunTime"),\n\t\t\t\t\t"videoScreenType" : mdManager.getParameterString("videoScreenType"),\n\t\t\t\t\t"videoSponsor" : mdManager.getParameterString("videoSponsor"),\n\t\t\t\t\t"videoMVPD" : mdManager.getParameterString("videoMVPDProvider") ? mdManager.getParameterString("videoMVPDProvider").replace("AUTH_","") : "mvpd not required",\n\t\t\t\t\t"videoWindowing" : mdManager.getParameterString("videoWindowing"),\n\t\t\t\t\t"videoSiteSection" :  mdManager.getParameterString("CategoryDspName") && mdManager.getParameterString("CategoryDspName").toLowerCase(),\n\t\t\t\t\t"videoSponsorship" : mdManager.getParameterString("Sponsorship") ? mdManager.getParameterString("Sponsorship") : "no sponsorship",\n\t\t\t\t\t"editorialTracking" : mdManager.getParameterString("EditorialTracking") ? mdManager.getParameterString("EditorialTracking") : "no editorial tracking",\n\t\t\t\t\t"brand" : mdManager.getParameterString("site"),\n                    "businessUnit" : "discovery digital studios"\n                };\n                if ( _satellite.getVar("Core:Constant:Analytics Code Version") ) {\n                    metaDataToTrack["analyticsCodeVersion"] = _satellite.getVar("Core:Constant:Analytics Code Version");\n                };\n                if (_satellite.getVar("Core:Constant:Distribution Product")) {\n                    metaDataToTrack["productDetails"] = _satellite.getVar("Core:Constant:Distribution Product");\n                };\n\t\t\t\tanalyticsProvider._aaPlugin.setVideoMetadata(metaDataToTrack);\n        \t};\n        window.testpointer = analyticsProvider;\n\t\tSNI.Analytics.trackedPlayers.push(playerObj);\n\t\t\n        /////////\n        // Private helper functions\n        /////////\n        //Autoplay ON, or user clicks play\n        playerObj.subscribe("OnMediaStart", function(event) {\n            clearTimeout(SNI.Analytics.playerTimeout);\n        \tSNI.Analytics.debugLog("OnMediaStart");\n            SNI.Analytics.debugLog(event.data);\n            SNI.Analytics.debugLog("Received a OnMediaStart event from " + playerObj.config.player.containerId);\n            SNI.Analytics.resovleActivePlayer(playerObj);\n            // blockduplicate prevents duplicate tracking when there are multiple players on the page\n            if ( playerObj.blockduplicate ) {\n            \tplayerObj.blockduplicate = false;\n            \treturn;\n            }\n           \tplayerObj.blockduplicate = true;\n            playerObj.eventData = event.data;\n            playerObj.playing = true;\n            playerObj.starttime = new Date().getTime();\n            playerObj.activeId = mdManager.getParameterString("videoSCRID");\n            SNI.Analytics.resetTrackingEvars();\n            // reset linkTrackVars\n   \t\t\ts.linkTrackVars = "";\n   \t\t\ts.events = "";\n\t\t\t\n\t\t\t//fbq(\'track\', \'VideoStart\');  //fires on both ad and content starts\n\t\t\t\n   \t\t\ttypeof s.trackFromLS === "function" && s.trackFromLS();\n   \t\t\ttypeof s.trackModLocalStorage  === "function" && s.trackModLocalStorage();\n   \t\t\tsetVideoMetadata();\n            if (playerObj.eventData && typeof playerObj.eventData === "object" && typeof playerObj.eventData.baseClip === "object" && playerObj.eventData.baseClip.isAd) {\n                if (!playerObj.activeSession) {\n                    SNI.Analytics.debugLog("Called NotificationCenter().dispatchEvent(HBPlayerEvent.VIDEO_LOAD); 1");\n                    NotificationCenter().dispatchEvent(HBPlayerEvent.VIDEO_LOAD);\n                    playerObj.activeSession = true;\n                }\n\t\t\t\t\n\t\t\t\trndNum1 = Math.random();\n\t\t\t\tfbq(\'track\', \'VideoAdStart\',{\'content_name\':location.host + location.pathname + \':\' + rndNum1});\n\t\t\t\tvar gtagAdStartID = "";\n\t\t\t\tif (location.host == "www.hgtv.com") {gtagAdStartID="YTptCP6a7JQBEMSJ9tMD";}\n\t\t\t\telse if (location.host == "www.foodnetwork.com") {gtagAdStartID="JeIhCN_b5ZQBEMSJ9tMD";}\n\t\t\t\telse if (location.host == "www.travelchannel.com") {gtagAdStartID="Hl-RCNmjj5UBEMSJ9tMD";}\n\t\t\t\tif (gtagAdStartID != "") {\n\t\t\t\t\tgtag(\'event\', \'conversion\',{\'send_to\': \'AW-981304516/\' + gtagAdStartID});\n\t\t\t\t}\n\t\t\t\t\n                SNI.Analytics.debugLog("Called NotificationCenter().dispatchEvent(HBPlayerEvent.AD_START);");\n                NotificationCenter().dispatchEvent(HBPlayerEvent.AD_START);\n            } else {\n                if (!playerObj.activeSession) {\n                    NotificationCenter().dispatchEvent(HBPlayerEvent.VIDEO_LOAD);\n                    SNI.Analytics.debugLog("Called NotificationCenter().dispatchEvent(HBPlayerEvent.VIDEO_LOAD); 2");\n                    playerObj.activeSession = true;\n                }\n                if ( playerObj.eventData.chapter.startTime === 0 ) {\n\t                NotificationCenter().dispatchEvent(HBPlayerEvent.VIDEO_START);\n\t                SNI.Analytics.debugLog("Called NotificationCenter().dispatchEvent(HBPlayerEvent.VIDEO_START);");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trndNum1 = Math.random();\n\t\t\t\tfbq(\'track\', \'VideoContentStart\',{\'content_name\':location.host + location.pathname + \':\' + rndNum1});\n\t\t\t\tvar gtagContentStartID = "";\n\t\t\t\tif (location.host == "www.hgtv.com") {gtagContentStartID="AV5vCM698pQBEMSJ9tMD";}\n\t\t\t\telse if (location.host == "www.foodnetwork.com") {gtagContentStartID="BXnvCMm4_5QBEMSJ9tMD";}\n\t\t\t\telse if (location.host == "www.travelchannel.com") {gtagContentStartID="gKoBCOTOopUBEMSJ9tMD";}\n\t\t\t\tif (gtagContentStartID != "") {\n\t\t\t\t\tgtag(\'event\', \'conversion\',{\'send_to\': \'AW-981304516/\' + gtagContentStartID});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n                NotificationCenter().dispatchEvent(HBPlayerEvent.CHAPTER_START);\n                SNI.Analytics.debugLog("Called NotificationCenter().dispatchEvent(HBPlayerEvent.CHAPTER_START);");\n            }\n            SNI.Analytics.startThirdPartyTracking(playerObj);\n            NotificationCenter().dispatchEvent(HBPlayerEvent.BUFFER_COMPLETE);\n            NotificationCenter().dispatchEvent(HBPlayerEvent.PLAY);\n            // clean up contextData,linkTrackVars and events\n            s.contextData = {};\n  \t\t\ts.linkTrackVars = "";\n   \t\t\ts.events = "";\n        }, playerObj.config.player.containerId);\n        //Playback stop/pause\n        playerObj.subscribe("OnMediaPause", function() {\n            playerObj.playing = false;\n            clearTimeout(SNI.Analytics.playerTimeout);\n            NotificationCenter().dispatchEvent(HBPlayerEvent.PAUSE);\n        }, playerObj.config.player.containerId);\n        //Playback stop/pause\n        playerObj.subscribe("OnMediaUnpause", function() {\n            SNI.Analytics.resovleActivePlayer(playerObj);\n            playerObj.playing = true;\n            playerObj.activeId = mdManager.getParameterString("videoSCRID");\n   \t\t\tsetVideoMetadata();\n            if (!playerObj.activeSession) {\n                    NotificationCenter().dispatchEvent(HBPlayerEvent.VIDEO_LOAD);\n            \t\tNotificationCenter().dispatchEvent(HBPlayerEvent.VIDEO_START);\n                    playerObj.activeSession = true;\n            }\n            NotificationCenter().dispatchEvent(HBPlayerEvent.BUFFER_COMPLETE);\n\t\t\tNotificationCenter().dispatchEvent(HBPlayerEvent.PLAY);\n        }, playerObj.config.player.containerId);\n        //Playback complete\n        playerObj.subscribe("OnMediaEnd", function() {\n            SNI.Analytics.debugLog("OnMediaEnd");\n            clearTimeout(SNI.Analytics.playerTimeout);\n            playerObj.blockduplicate = false;\n            if (playerObj.eventData && typeof playerObj.eventData === "object" && typeof playerObj.eventData.baseClip === "object" && playerObj.eventData.baseClip.isAd) {\n                NotificationCenter().dispatchEvent(HBPlayerEvent.AD_COMPLETE);\n                NotificationCenter().dispatchEvent(HBPlayerEvent.BUFFER_START);\n\t\t\t\t\n\t\t\t\t//fbq(\'track\', \'VideoAdComplete\');\n\t\t\t\t//rndNum = rndNum + 1;\n\t\t\t\trndNum1 = Math.random();\n\t\t\t\tfbq(\'track\', \'VideoAdComplete\',{\'content_name\':location.host + location.pathname + \':\' + rndNum1});\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n   \t            playerObj.playing = false;\n            } else if ( playerObj.eventData && typeof playerObj.eventData === "object" && playerObj.eventData.chapter.endTime !== playerObj.eventData.chapter.chapters.aggregateLength ) {\n                 NotificationCenter().dispatchEvent(HBPlayerEvent.CHAPTER_COMPLETE);\n                 NotificationCenter().dispatchEvent(HBPlayerEvent.BUFFER_START);\n\t\t\t\t \n\t\t\t\t //fbq(\'track\', \'VideoChapterComplete\');  //use this if fb pixel needed for chapter complete events\n\t\t\t\t \n   \t            playerObj.playing = false;\n            } else {\n            \tif ( new Date().getTime() - playerObj.starttime < 3000 ) {\n            \t\tNotificationCenter().dispatchEvent(HBPlayerEvent.TRACK_ERROR);\n            \t} else {\t\n\t                NotificationCenter().dispatchEvent(HBPlayerEvent.COMPLETE);\n\t                playerObj.activeSession = false;\n    \t\t\t}\n            }\n            SNI.Analytics.endThirdPartyTracking();\n        }, playerObj.config.player.containerId);\n        //Playback complete\n        playerObj.subscribe("OnMediaComplete", function(event) {\n        \t\n           \tif ( new Date().getTime() - playerObj.starttime < 3000 ) {\n            \tNotificationCenter().dispatchEvent(HBPlayerEvent.TRACK_ERROR);\n           \t} else {\n\t            SNI.Analytics.debugLog("OnMediaComplete");\n\t            SNI.Analytics.debugLog(event);\n\t            playerObj.playing = false;\n\t            clearTimeout(SNI.Analytics.playerTimeout);\n\t            if ( playerObj.eventData && typeof playerObj.eventData === "object" && typeof playerObj.eventData.baseClip === "object" && playerObj.eventData.baseClip.isAd ) {\n\t            \tSNI.Analytics.debugLog("OnMediaComplete - isAd - no event dispatched");\n\t            } else {\n\t            \tNotificationCenter().dispatchEvent(HBPlayerEvent.COMPLETE);\n\t            \tNotificationCenter().dispatchEvent(HBPlayerEvent.VIDEO_UNLOAD);\n\t            \t\n\t\t\t\t\t//fbq(\'track\', \'VideoContentComplete\');\n\t\t\t\t\t//rndNum = rndNum + 1;\n\t\t\t\t\trndNum1 = Math.random();\n\t\t\t\t\tfbq(\'track\', \'VideoContentComplete\',{\'content_name\':location.host + location.pathname + \':\' + rndNum1});\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tSNI.Analytics.endThirdPartyTracking();\n\t\t\t\t\t\n    \t        \tplayerObj.activeSession = false;\n        \t\t}\n        \t}\n        }, playerObj.config.player.containerId);\n        //Seek start\n        playerObj.subscribe("OnMediaSeek", function() {\n            //NotificationCenter().dispatchEvent(HBPlayerEvent.SEEK_START);\n            //NotificationCenter().dispatchEvent(HBPlayerEvent.SEEK_COMPLETE);\n            NotificationCenter().dispatchEvent(HBPlayerEvent.PLAY);\n        }, playerObj.config.player.containerId);\n        //Seek complete\n        playerObj.subscribe("OnMediaPlay", function() {\n            SNI.Analytics.debugLog("OnMediaPlay");\n            NotificationCenter().dispatchEvent(HBPlayerEvent.BUFFER_COMPLETE);\n            NotificationCenter().dispatchEvent(HBPlayerEvent.PLAY);\n        }, playerObj.config.player.containerId);\n        //Buffer start\n        playerObj.subscribe("OnMediaBuffering", function() {\n            SNI.Analytics.debugLog("OnMediaBuffering");\n            NotificationCenter().dispatchEvent(HBPlayerEvent.BUFFER_START);\n            playerObj.playing = false;\n        }, playerObj.config.player.containerId);\n\n        playerObj.subscribe("OnMediaPlaying", function(event) {\n            //SNI.Analytics.debugLog("Received a OnMediaPlaying event from " + playerObj.config.player.containerId);\n            playerObj.playhead = parseInt(event.data.currentTimeAggregate / 1000, 10) || parseInt(event.data.currentTime / 1000, 10);\n            playerObj.playheadChapter = parseInt(event.data.currentTime / 1000, 10);\n            clearTimeout(SNI.Analytics.playerTimeout);\n            if ( playerObj.activeId !== mdManager.getParameterString("videoSCRID") ) {\n                SNI.Analytics.resovleActivePlayer(playerObj);\n            \tplayerObj.activeId = mdManager.getParameterString("videoSCRID");\n   \t\t\t\tsetVideoMetadata();\n            }\n            if ( playerObj.playing === false) {\n\t            playerObj.playing = true;\n                NotificationCenter().dispatchEvent(HBPlayerEvent.BUFFER_COMPLETE);\n                NotificationCenter().dispatchEvent(HBPlayerEvent.PLAY);\n            }\n            // If we haven\'t heard a OnMediaPlaying for 500ms, assume we\'re buffering\n            SNI.Analytics.playerTimeout = setTimeout(function() {\n                NotificationCenter().dispatchEvent(HBPlayerEvent.BUFFER_START);\n                playerObj.playing = false;\n            }, 500);\n           // SNI.Analytics.debugLog(event);\n        }, playerObj.config.player.containerId);\n    };',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL45970ae524d445afbdcc94cc42c74711',
                    name: 'Core:Library Loaded:Module AB Test Tracking',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                global: !0,
                                source: '// Trigger rule at Top of Page \n// Non-Sequential Javascript\n// Execute Globally\nvar mdlTrck = function (obj,moduleName,linkTitle,linkPosition,locUrl,targetUrl,abTestVersion) {\nvar contextVars = [\'moduleName\',\'linkTitle\',\'linkPosition\',\'locUrl\',\'targetUrl\',\'abTestVersion\'];\ns.linkTrackVars = \'contextData.\' + contextVars.join(\',contextData.\');\ns.linkTrackEvents = ""; //****event24 should be set via module track processing rule - confirm event24 and all module evars/props are set from this function*****\ns.contextData[\'moduleName\'] = moduleName;\ns.contextData[\'linkTitle\'] = linkTitle;\ns.contextData[\'linkPosition\'] = linkPosition;\ns.contextData[\'locUrl\'] = locUrl;\ns.contextData[\'targetUrl\'] = targetUrl;\ns.contextData[\'abTestVersion\'] = abTestVersion;\ns.events=""; //event24 should be set in processing rules - confirm; also see if any cases where other events are needed\ns.tl(obj,\'o\',moduleName + \'|\' + linkTitle);\nwhile ( contextVars.length > 0 ) {\n\ts.contextData[contextVars.pop()] = "";\n}\ns.events=null;\n}',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL9135fa08d7f346f9a9811d97ceca7814',
                    name: 'Core:DOM Ready:Gigya AAM Sync',
                    events: [{
                            modulePath: 'core/src/lib/events/domReady.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: 'https://assets.adobedtm.com/e090d2ba2d7e/fbb645d4812f/670333e0bf03/RC301108b9775b4b1c80a7f92543b7d528-source.min.js',
                                language: 'javascript',
                                isExternal: !0
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL8f1921806d8d4adda9296febee12a280',
                    name: 'Core:Page Bottom:Trackonomics - TLCme',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [
                        {
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: { domains: ['tlcme.com'] },
                            timeout: 2000
                        },
                        {
                            modulePath: 'core/src/lib/conditions/path.js',
                            settings: { paths: [{ value: '/' }] },
                            negate: !0,
                            timeout: 2000
                        }
                    ],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '<script id="funnel-relay-installer" data-property-id="PROPERTY_ID" data-customer-id="discovery_gjS38Lk6t_tlcme" src="https://cdn-magiclinks.trackonomics.net/client/static/v2/discovery_gjS38Lk6t_tlcme.js" async="async"></script>',
                                language: 'html'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLdd21392c1d1d423e83c6b41f8b294b5d',
                    name: 'Core:Page Bottom:Sizmek VersaTag Pixel - HGTV',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [
                        {
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: { domains: ['hgtv.com'] },
                            timeout: 2000
                        },
                        {
                            modulePath: 'core/src/lib/conditions/valueComparison.js',
                            settings: {
                                comparison: {
                                    operator: 'contains',
                                    caseInsensitive: !0
                                },
                                leftOperand: '%Core:Custom Code:Page Type%',
                                rightOperand: 'video'
                            },
                            negate: !0,
                            timeout: 2000
                        }
                    ],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '<!--needs to only load on non-video pages-->\n\n\n<!--HGTV Sizmek VersaTag-->\n<script>\nvar versaTag = {};\nversaTag.id = "7816";\nversaTag.sync = 0;\nversaTag.dispType = "js";\nversaTag.ptcl = "HTTPS";\nversaTag.bsUrl = "bs.serving-sys.com/BurstingPipe";\nversaTag.activityParams = {\n\t"Session":""\n};\nversaTag.retargetParams = {};\nversaTag.dynamicRetargetParams = {};\nversaTag.conditionalParams = {};\n</script>\n<script id="ebOneTagUrlId" src="https://secure-ds.serving-sys.com/SemiCachedScripts/ebOneTag.js"></script>\n\n\n<noscript>\n<iframe src="https://bs.serving-sys.com/BurstingPipe?cn=ot&amp;onetagid=7816&amp;ns=1&amp;activityValues=$$Session=[Session]$$&amp;retargetingValues=$$$$&amp;dynamicRetargetingValues=$$$$&amp;acp=$$$$&amp;" style="display:none;width:0px;height:0px"></iframe>\n</noscript>',
                                language: 'html'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLb8cd52c8f3c846c9929a5aea3b94ca19',
                    name: 'Core:Library Loaded:Email AAM Sync',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [
                        {
                            modulePath: 'core/src/lib/conditions/queryStringParameter.js',
                            settings: {
                                name: 'bid',
                                value: '.*'
                            },
                            timeout: 2000
                        },
                        {
                            modulePath: 'core/src/lib/conditions/queryStringParameter.js',
                            settings: {
                                name: 'c32',
                                value: '.*'
                            },
                            timeout: 2000
                        }
                    ],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '(function(){\n  var aamSync = function(partnerId,uid){\n \t\tvar aamBaseUrl = \'//dpm.demdex.net/ibs:\',\n   \tsrc = aamBaseUrl + \'dpid=\' + partnerId + \'&dpuuid=\' + uid,\n    img = document.createElement("img");\n    img.src = src;\n    document.body.appendChild(img);\n  },\n  mailid = document.location.search.match(/c32=([^&$]*)/i);\n  if ( Array.isArray(mailid) && mailid.length ) {\n      aamSync(468,mailid[1]);\n  }\n})();',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLeb4dddf0c38145739498a4fda8093ea1',
                    name: 'Core:Library Loaded:Facebook Pixel Pageview',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [
                        {
                            modulePath: 'facebook-pixel/src/lib/actions/sendPageView.js',
                            settings: {},
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: 'fbq(\'init\', \'248157156503723\');',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'facebook-pixel/src/lib/actions/sendPageView.js',
                            settings: {},
                            timeout: 2000,
                            delayNext: !0
                        }
                    ]
                },
                {
                    id: 'RLec2cc3b6c0664f488b6ce7fe5f14e420',
                    name: 'Core:Library Loaded:Load shopTrack function',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                global: !0,
                                source: '// Trigger rule at DOM Ready\n// Non-Sequential Javascript\n// execute globally\n// Revision 20201006 RD + JKM\nvar shopTrack = function (obj,shopping,componentName,componentTitle,partner,products,imageCount,productCount,visibleProductCount,perImageProductCount,productPosition,eventType) {\n\t_satellite.logger.log(\'Calling shopTrack Function\'); \n  \n  \tvar shopArgs = [].slice.call(arguments);\n\t_satellite.logger.log(shopArgs);\n  \n    sessionStorage.setItem("prodSetByShopTrack", "true");  // this will prevent the analytics doplugins code from overwriting products data set in this function\n\ts.trackExternalLinks=false;\n\ts.products="";\n    s.contextData["shoppingProducts"] = "";\n    // create products string\n\tif(products.indexOf("|") == -1) {\n\t\tproductList=products.replace(/,;/g, ",;s|na|").replace(/&quot;/g, \'\\"\').replace(/&amp;/g, \'\\&\').replace(/&apos;/g, \'\\\'\');\n        s.products =";s|na|" + productList;\n\t}\n\telse {\n\t\tproductList=products.replace(/,;/g, ",;s|").replace(/&quot;/g, \'\\"\').replace(/&amp;/g, \'\\&\').replace(/&apos;/g, \'\\\'\');\n\t\ts.products =";s|" + productList;\n    }\n    s.products += ",;c|" + componentName;\n    s.products += "|" + componentTitle;\n    s.products += "|" + imageCount;\n    s.products += "|" + productCount;\n    s.products += "|" + visibleProductCount;\n    s.products += "|" + perImageProductCount;\n    s.products += "|" + productPosition;\n\ts.products=s.products.toLowerCase();\n    // set relevant context data    \n\ts.contextData["shoppingProducts"] = "D=products";\n\ts.contextData["partner"] = partner;\t\n\t// mention all variables to track\n\tvar contextVars = [\'shopping\',\'componentName\',\'componentTitle\',\'partner\',\'products\',\'imageCount\',\'productCount\',\'visibleProductCount\',\'perImageProductCount\',\'productPosition\',\'eventType\'];\n    s.linkTrackVars = \'products,contextData.shoppingProducts\';\n    s.linkTrackVars += \',contextData.\' + contextVars.join(\',contextData.\');\n    \n    // send click beacons\n\ts.events=null; // make sure this has been cleared\n\tif(eventType == "impression") {\n        // Additional variables set to track custom event\n        s.linkTrackVars += ",contextData.eventShoppingProductsImpressions";\n        s.contextData["eventShoppingProductsImpressions"] = "1";\n        // track prodView, out-of-box event\n        s.linkTrackEvents = "prodView";\n        s.events = "prodView";\n        \n\t\ts.tl(this,"o","shopping - products impression");\n\t}\n\telse if(eventType == "click") {\n        // track scAdd, out-of-box event\n\t\ts.linkTrackEvents = "scAdd";\n        s.events = "scAdd";        \n\t\ts.tl(this,"o","shopping - product click");\n        console.log(\'2021-14-04 shoptrack function fired\');\n\t}\n    \n    // Clear some of these products-specific variables\n\twhile ( contextVars.length > 0 ) {\n\t\ts.contextData[contextVars.pop()] = "";\n\t}\n\ts.events="";\n\ts.products="";\n\ts.contextData["shoppingProducts"]="";\n\ts.contextData["partner"]="";\n\t\n    // Probably meant to make sure it doesn\'t run twice\n\tsessionStorage.setItem("prodSetByShopTrack", "false");\n}',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLfb507b49d3bd410d8d5b45669fda8602',
                    name: 'Core:Page Bottom:Attach Module Click-Tracking (Food)',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [{
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: {
                                domains: [
                                    'foodnetwork.com',
                                    'cookingchanneltv.com'
                                ]
                            },
                            timeout: 2000
                        }],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '// connect click events\n(function(){\n\nvar clickSelector = \'a,button,div[data-launch-selector]\';\n\nvar linkTitle = function($element, $cardConfig) {\n    var wsRegex = /\\s+/g;\n    var innerText;\n    var cardType = $cardConfig.cardType ? $cardConfig.cardType + "|" : "|";\n    var hasImg = $element.has(\'img\').length;\n    if ($element[0].hasAttribute(\'title\')) {\n        var result = \'\';\n        if (hasImg) {\n          result += \'IMG|\'\n        } else {\n          result += \'TXT|\'\n        }\n        result += cardType;\n        result += $element.attr(\'title\').trim().replace(wsRegex, \' \');\n        return result;\n    }\n    if ($element.is(\'[data-launch-selector]\')) {\n      return \'TXT|\' + cardType + $element\n            .find(\'[class*=a-HeadlineText]\')\n            .first()\n            .text()\n            .trim()\n            .replace(wsRegex, \' \')\n    }\n    if (hasImg) {\n      return \'IMG|\' + cardType + $element\n            .closest(\'[class*=m-MediaWrap]\', \'.parbase\')\n            .siblings(\'[class*=m-TextWrap]\')\n            .find(\'[class*=a-HeadlineText]\')\n            .text()\n            .trim()\n            .replace(wsRegex, \' \');\n    }\n    innerText = $element.first().text().trim().replace(wsRegex, \' \');\n    if (innerText.length) {\n        return \'TXT|\'+ cardType + innerText;\n    }\n}\n\n/*$( window ).on( "load", function() {\n    window.s.ActivityMap.link = function(el) { \n   debugger;\n      $cardConfig = {\'cardType\':\'\'};\n      return linkTitle($(el), $cardConfig ); \n    }\n});*/\n\nvar clickTrack = function($element) {\n    var $tracker = $element.parents().siblings(".clicktracking").first();\n    var $module = $tracker.parent();\n    var moduleName = $tracker.attr(\'data-resource-type\').split(\'/\').pop();\n    var moduleIndex = $(\'.clicktracking\').index($tracker)\n    var linkIndex = $module.find(clickSelector).index($element)\n    var cardPayload, $cardConfig = {\'cardType\':\'\'};\n  var componentPayload, $componentConfig = {\'componentTitle\':\'\'};\n    try {\n        //var componentConfig = JSON.parse($module.find(\'[data-analytics-config]\').text());\n        componentPayload = $module.find(\'[data-analytics-config]\').text();\n        if (componentPayload) {\n            $componentConfig = JSON.parse(componentPayload);\n        }\n    } catch (err) {\n        $componentConfig = {\'componentTitle\':\'\'};\n    }\n    try {\n        cardPayload = $element.closest(\'[data-analytics]\', $module).attr(\'data-analytics\');\n        if (cardPayload) {\n            $cardConfig = JSON.parse(cardPayload);\n        }\n    } catch (err) {\n      cardConfig = {\'cardType\':\'\'};\n    }\n    return Object.assign({}, {\n        ModuleName: moduleName,\n        ModuleIndex: moduleIndex,\n        LinkTitle: linkTitle($element,  $cardConfig),\n        LocUrl: window.location.href,\n        LinkPosition: linkIndex,\n        TargetUrl: $element.attr(\'href\'),\n        ComponentTitle: $componentConfig.componentTitle\n        });//, componentConfig, cardConfig);\n}\n\n\n  $(\'.clicktracking\').parent().find(clickSelector)\n    .not(\'.a-Button--Save\')\n    .not(\'.a-Button--Print\')    \n    .not(\'[data-type="product-link"]\')\n    .not(\'#add-recipe-card-link\')\n    .not(\'.tabs__tab-content\')\n    .off(\'click.sni_analytics\').on(\'click.sni_analytics\',function (data) {\n    _satellite.logger.log(\'Click detected on \' + this,1);\n    _satellite.logger.log(\'Calling moduleTrackLS\',1);\n    SNI.Analytics.moduleTrackLS($(this), clickTrack($(this)));\n});\n  $(\'#add-recipe-card-link\')\n    .off(\'click.sni_analytics\').on(\'click.sni_analytics\',function (data) {\n    _satellite.logger.log(\'Click detected on \' + this,1);\n    _satellite.logger.log(\'Calling moduleTrackLS\',1);\n    SNI.Analytics.moduleTrackLS($(this), {\n                ModuleName: "myRecipeSaves",\n                LinkTitle: \'TXT||Add a Personal Recipe\',\n                LinkPosition: "4",\n      \t\t\t\t\tTargetUrl:"www.foodnetwork.com/PersonalRecipe",\n                LocUrl:"myRecipeSaves"\n            });\n\n});\n   $(\'.card-add-recipe__header\')\n    .off(\'click.sni_analytics\').on(\'click.sni_analytics\',function (data) {\n    _satellite.logger.log(\'Click detected on \' + this,1);\n    _satellite.logger.log(\'Calling moduleTrackLS\',1);\n    SNI.Analytics.moduleTrackLS($(this), {\n                ModuleName: "myRecipeSaves",\n                LinkTitle: \'TXT||Discover Recipe\',\n                LinkPosition: "4",\n      \t\t\t\t\tTargetUrl:"www.foodnetwork.com/DiscoverRecipe",\n                LocUrl:"myRecipeSaves"\n            });\n      });\n      $(\'.card-folder-new__icon\')\n    .off(\'click.sni_analytics\').on(\'click.sni_analytics\',function (data) {\n    _satellite.logger.log(\'Click detected on \' + this,1);\n    _satellite.logger.log(\'Calling moduleTrackLS\',1);\n    SNI.Analytics.moduleTrackLS($(this), {\n                ModuleName: "myRecipeSaves",\n                LinkTitle: \'TXT||Add New Collection\',\n                LinkPosition: "7",\n      \t\t\t\t\tTargetUrl:"www.foodnetwork.com/AddNewCollection",\n                LocUrl:"myRecipeSaves"\n            });\n\n});\n  \n  \n  $(\'.card-folder-new__header\')\n    .off(\'click.sni_analytics\').on(\'click.sni_analytics\',function (data) {\n    _satellite.logger.log(\'Click detected on \' + this,1);\n    _satellite.logger.log(\'Calling moduleTrackLS\',1);\n    SNI.Analytics.moduleTrackLS($(this), clickTrack($(this)));\n});\n  $(\'.actions--right__search-icon\')\n    .off(\'click.sni_analytics\').on(\'click.sni_analytics\',function (data) {\n    _satellite.logger.log(\'Click detected on \' + this,1);\n    _satellite.logger.log(\'Calling moduleTrackLS\',1);\n    SNI.Analytics.moduleTrackLS($(this), {\n                ModuleName: "myRecipeSaves",\n                LinkTitle: \'IMG||Search\',\n                LinkPosition: "7"\n            });\n      });\n   \n  \n})();',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL08ac3cddf97145c18cffd05eb03bff9f',
                    name: 'Core:DOM Ready:moduleTrack',
                    events: [{
                            modulePath: 'core/src/lib/events/domReady.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                global: !0,
                                source: 'https://assets.adobedtm.com/e090d2ba2d7e/fbb645d4812f/670333e0bf03/RC5edfea8b576e4a6994e584b8a73e8992-source.min.js',
                                language: 'javascript',
                                isExternal: !0
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLa1a191c67d434df9a73485f291c20ef6',
                    name: 'Core:Library Loaded:Activate EngageSweepsManager',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: 'window.SNI = window.SNI || {};\nSNI.EngageSweepsManager = SNI.EngageSweepsManager || {};\nSNI.EngageSweepsManager.initConfig = {};\nSNI.EngageSweepsManager.activate = function(config) {\n  config = config || {};\n\tif ( typeof SNI.EngageSweepsManager.init  === "function" ) {\n\t\t// the EngageSweepsManager init method is available, call it. \n\t\tSNI.EngageSweepsManager.init(config);\n\t} else {\n\t\tif ( config.src ) {\n\t\t\t// the config has a src attribute,\n\t\t\t// load that file and pass it back into this method\n\t\t\t$.getJSON(config.src,function(data) {\n\t\t\t\tSNI.EngageSweepsManager.activate(data);\n\t\t\t})\n\t\t} else {\n\t\t\t// load config into the initConfig object and fire the direct call rule\n\t\t\tSNI.EngageSweepsManager.initConfig = config || {};\n\t\t\t_satellite.track(\'esmInit\');\n\t\t}\n\t}\n}',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLc6ccf807c29b4865aea6e22801d7c695',
                    name: 'Core:Page Bottom:Trackonomics - HGTV',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [
                        {
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: { domains: ['hgtv.com'] },
                            timeout: 2000
                        },
                        {
                            modulePath: 'core/src/lib/conditions/path.js',
                            settings: { paths: [{ value: '/' }] },
                            negate: !0,
                            timeout: 2000
                        }
                    ],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '<script id="funnel-relay-installer" data-property-id="PROPERTY_ID" data-customer-id="discovery_gjS38Lk6t_hgtv" src="https://cdn-magiclinks.trackonomics.net/client/static/v2/discovery_gjS38Lk6t_hgtv.js" async="async"></script>',
                                language: 'html'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLdea339c18f8d4d4b8e1fddff5680daeb',
                    name: 'Core:Page Bottom:TrueAnthem',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '<script src="//tru.am/scripts/custom/scripps.js"></script>',
                                language: 'html'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL4a12e8ba2fab4b3fae56569dc742d0fc',
                    name: 'Core:Page Bottom:Sizmek VersaTag Pixel - Travel Channel',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [
                        {
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: { domains: ['travelchannel.com'] },
                            timeout: 2000
                        },
                        {
                            modulePath: 'core/src/lib/conditions/valueComparison.js',
                            settings: {
                                comparison: {
                                    operator: 'contains',
                                    caseInsensitive: !0
                                },
                                leftOperand: '%Core:Custom Code:Page Type%',
                                rightOperand: 'video'
                            },
                            negate: !0,
                            timeout: 2000
                        }
                    ],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '<!--needs to only load on non-video pages-->\n\n\n<!--Travel Channel Sizmek VersaTag-->\n<script>\nvar versaTag = {};\nversaTag.id = "7817";\nversaTag.sync = 0;\nversaTag.dispType = "js";\nversaTag.ptcl = "HTTPS";\nversaTag.bsUrl = "bs.serving-sys.com/BurstingPipe";\nversaTag.activityParams = {\n\t"Session":""\n};\nversaTag.retargetParams = {};\nversaTag.dynamicRetargetParams = {};\nversaTag.conditionalParams = {};\n</script>\n<script id="ebOneTagUrlId" src="https://secure-ds.serving-sys.com/SemiCachedScripts/ebOneTag.js"></script>\n\n\n<noscript>\n<iframe src="https://bs.serving-sys.com/BurstingPipe?cn=ot&amp;onetagid=7817&amp;ns=1&amp;activityValues=$$Session=[Session]$$&amp;retargetingValues=$$$$&amp;dynamicRetargetingValues=$$$$&amp;acp=$$$$&amp;" style="display:none;width:0px;height:0px"></iframe>\n</noscript>',
                                language: 'html'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLe33ce08cb4da4c908ae117c3db842252',
                    name: 'Core:Direct Call:EngageSweepsManager Init',
                    events: [{
                            modulePath: 'core/src/lib/events/directCall.js',
                            settings: { identifier: 'esmInit' },
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                global: !0,
                                source: 'https://assets.adobedtm.com/e090d2ba2d7e/fbb645d4812f/670333e0bf03/RC9bb6237793de4a729b5d568f3a6d1ae8-source.min.js',
                                language: 'javascript',
                                isExternal: !0
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLcf40fc3e40ab48cd9249e4c913a6e986',
                    name: 'Core:Library Loaded:Twitter Pixel (HGTV. Food Network)',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [{
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: {
                                domains: [
                                    'hgtv.com',
                                    'foodnetwork.com'
                                ]
                            },
                            timeout: 2000
                        }],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '<script type="text/javascript">\n//Twitter Pixel\n!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);\n},s.version=\'1.1\',s.queue=[],u=t.createElement(n),u.async=!0,u.src=\'//static.ads-twitter.com/uwt.js\',\na=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,\'script\');\n// Insert Twitter Pixel ID and Standard Event data below\ntwq(\'init\',\'nw037\');\ntwq(\'track\',\'PageView\');\n</script>',
                                language: 'html'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLb177ca9398534980bc7692ebea849a58',
                    name: '!Core:Library Loaded:SNI.Analyitcs Namespace / Methods',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                global: !1,
                                source: '//SNI.Analyitcs Namespace / Methods\n//Update: 20201202\n\nwindow.SNI = window.SNI || {};\nSNI.Analytics = SNI.Analytics || {};\nSNI.Analytics.hasLocalStorage = (function () {\n    var test = \'test\';\n    try {\n        localStorage.setItem(test, test);\n        localStorage.removeItem(test);\n        return true;\n    } catch (e) {\n        return false;\n    }\n})();\n\nSNI.Analytics.moduleTrackLS = function (obj, options) {\n    s.contextData["brand"] = mdManager.getParameter("site"); // make sure it is set on each use\n    var origVars;\n    if (!options.TargetUrl) {\n        options.TargetUrl = "on page interaction";\n    }\n    if (!options.LocUrl) {\n        options.LocUrl = document.location.href;\n    }\n\t\n\t\n\tif (SNI.Analytics.hasLocalStorage && options.TargetUrl !== "on page interaction" && options.TargetUrl !== options.LocUrl && options.TargetUrl.indexOf(document.location.hostname) !== -1 && options.TargetUrl.indexOf(\'mailto:\') !== 0 && options.LinkTitle.indexOf(\'Facebook Messenger\') === -1) {\n    _satellite.logger.log("Saving event to local storage to fire on next page load");\n    localStorage.setItem("TRACKMOD", JSON.stringify(options));\n    } else {\n        origVars = s.linkTrackVars;\n        s.linkTrackVars = "";\n        for (var key in options) {\n            s.contextData[key] = options[key].toString().replace(/https?:\\/\\/([^.]*).*.com\\/?/, "$1.../");\n            s.linkTrackVars += ",contextData." + key;\n            _satellite.logger.log(key.toString() + ":" + s.contextData[key], 1);\n        }\n        // Add custom event\n        s.contextData["eventModuleLinkClick"] = "1";\n        s.linkTrackVars += ",contextData.eventModuleLinkClick";\n        // fire beacon\n        _satellite.logger.log(\'Sending s.tl call from moduleTackLS.\');\n        s.tl(obj, \'o\', options.ModuleName);\n        // clear everything out\n        for (var clearKey in options) {\n            s.contextData[clearKey] = "";\n        }\n        s.contextData["eventModuleLinkClick"] = "";\n        if (typeof s.events === "string") { s.events = s.events.replace(/event24,?/, ""); };\n        s.linkTrackVars = origVars;\n    }\n};\n\n// // We should no longer use the fireEvent function since it relied on hard-coded events\n// SNI.Analytics.fireEvent = function (events, opts) {\n//     // events: comma-seperated list of events to include\n//     // opts.trackvars: comma-seperated list of props and evars to include\n//     // opts.linktitle: value for custom links report\n//     if (!events || typeof events !== "string") {\n//         return false;\n//     }\n//     opts = opts || {\n//         trackvars: "prop5,prop6,prop7,prop8,prop9,prop10,prop11,prop12,prop13",\n//         linktitle: "event tracking link"\n//     };\n//     if (typeof opts === "object") {\n//         opts.trackvars = typeof opts.trackvars === "string" && opts.trackvars ? opts.trackvars + ",events" : "prop5,prop6,prop7,prop8,prop9,prop10,prop11,prop12,prop13,events";\n//         opts.linktitle = typeof opts.linktitle === "string" && opts.linktitle ? opts.linktitle : "event tracking link";\n//     }\n//     s.linkTrackEvents = events;\n//     _satellite.logger.error("This function should no longer use events. Misused on: " + window.location.href);\n//     s.linkTrackVars = opts.trackvars;\n//     s.events = events;\n//     s.tl(this, \'o\', opts.linktitle);\n//     return true;\n// };\n\n// // We should no longer use the optlyEvent function since it relied on hard-coded events\n// SNI.Analytics.optlyEvent = function (events, opts) {\n//     // events: comma-seperated list of events to include\n//     // opts.trackvars: comma-seperated list of props and evars to include\n//     // opts.linktitle: value for custom links report\n//     if (!events || typeof events !== "string") {\n//         return false;\n//     }\n//     opts = opts || {\n//         trackvars: "prop5,prop6,prop7,prop8,prop9,prop10,prop11,prop12,prop13",\n//         linktitle: "optimizely test link"\n//     };\n//     if (typeof opts === "object") {\n//         opts.trackvars = typeof opts.trackvars === "string" && opts.trackvars ? opts.trackvars + ",events" : "prop5,prop6,prop7,prop8,prop9,prop10,prop11,prop12,prop13,events";\n//         opts.linktitle = typeof opts.linktitle === "string" && opts.linktitle ? opts.linktitle : "optimizely test link";\n//     }\n//     s.linkTrackEvents = events;\n//     s.linkTrackVars = opts.trackvars;\n//     s.events = events;\n//     SNI.Analytics.refreshContext();\n//     s.tl(this, \'o\', opts.linktitle);\n//     return true;\n// };\n\n// write an arbitrary set of analytics data to a \n// localStorage record call TRACKLSANALYTICS\nif (SNI.Analytics.hasLocalStorage && typeof localStorage === "object") {\n    SNI.Analytics.trackViaLS = function (opts) {\n        var lsval = JSON.stringify(opts),\n            retval;\n        try {\n            localStorage.setItem("TRACKLSANALYTICS", lsval);\n            retval = true;\n        } catch (e) {\n            //console.log("couldn\'t write localStorage");\n            retval = false;\n        }\n        return retval;\n    };\n}\n\nSNI.Analytics.refreshContext = function refreshContext() {\n    // OrigPubDate modification logic\n    cleanOrigPubDate = function s_cleanOrigPubDate() {\n        var opd = mdManager.getParameterString("OrigPubDate"),\n            opd_array = [],\n            opd_days = 0,\n            opd_string = "",\n            orig_date,\n            mod_date;\n        try {\n            if (opd && typeof opd === "string") {\n                opd_array = opd.match(/\\d\\d\\d\\d-\\d\\d-\\d\\d/g);\n                opd_string = opd_array ? opd_array.join("|") : "";\n                if (opd_string !== "") {\n                    if (opd_array[0]) {\n                        orig_date = new Date(opd_array[0]);\n                        opd_string += "|" + dateDeltas(orig_date);\n                    }\n                    if (opd_array[1]) {\n                        mod_date = new Date(opd_array[1]);\n                        opd_string += "|" + dateDeltas(mod_date);\n                    }\n                }\n            }\n        } catch (e) {\n            //  something went wrong\n        }\n        return opd_string;\n    }\n    dateDeltas = function s_dateDeltas(dateObj) {\n        var today = new Date(),\n            days = Math.floor(Math.abs(today.getTime() - dateObj.getTime()) / (1000 * 3600 * 24));\n        if (days < 8) {\n            return (days + (days === 1 ? " day" : " days"));\n        } else if (days > 7 && days < 31) {\n            return ("8 days-1 month");\n        } else if (days > 30 && days < 366) {\n            return (Math.floor(days / 30.417) + "-" + Math.ceil(days / 30.417) + " months");\n        } else if (days > 365) {\n            return ">1 year";\n        }\n    }\n\n    // refresh context data\n    var key,value,upperKey;\n    for (key in mdManager.getKeys()) {\n        value = mdManager.getParameter(key);\n        upperKey = key.toString().toUpperCase();\n        if (upperKey  !== "UNIQUEID") { value = value.toString().toLowerCase(); }\n\n        // remap mdManager to appropriate contextData variables\n\t\tif (upperKey === "URL") { key = "pageName"; }\n\t\telse if (upperKey  === "TITLE") { key = "pageTitle"; }\n\t\telse if (upperKey  === "CATEGORYDSPNAME") { key = "contentSiteSection"; }\n\t\telse if (upperKey  === "SCTNDSPNAME") { key = "contentSubSection"; }\n\t\telse if (upperKey  === "SUBSECTION") { key = "contentSubSection2"; }\n\t\telse if (upperKey  === "SUBSECTIONL2") { key = "contentSubSection3"; } // verify key is correct format and if this is being used at all\n\t\telse if (upperKey  === "TYPE") { key = "contentPageType"; }\n\t\telse if (upperKey  === "UNIQUEID") { key = "pageUniqueID"; }\n\t\telse if (upperKey  === "DELIVERY_CHANNEL") { key = "deliveryChannel"; }\n\t\telse if (upperKey  === "IMGURL") { key = "imageURL"; }\n        else if (upperKey  === "ORIGPUBDATE") {\n            s.contextData["originalPublishDate"] = mdManager.getParameter(key).split("|")[0];\n            s.contextData["latestPublishDate"] = mdManager.getParameter(key).split("|")[1];\n            value = cleanOrigPubDate();\n        }\n        else if (upperKey  === "SHOW_ABBR") { key = "showName"; }\n        else if (upperKey  === "POINTOFINTEREST") { key="poi"; }\n        else if (upperKey  === "FILTER") { key = "searchFilters"; }\n        else if (upperKey  === "SEARCHTERMS") { key = "searchTermContextual"; }\n        else if (upperKey  === "DIMENSIONS") { key = "searchDimensions"; }\n        else if (upperKey  === "DIMENSIONVALUES") { key = "searchDimensionValues"; }\n        else if (upperKey  === "NOSEARCHRESULTS") { key = "noResultsSearchTerm"; }\n\t\telse if (upperKey  === "TAGGROUP1") { key = "contentTags"; }\n      \n\n        delete s.contextData[key];\n        s.contextData[key] = value;\n    }\t\n  \n  \n    // content tags and s.products\n    setContentTagsFromHeaders = function conTagFromH (tagHeaders) {\n        if ( !Array.isArray(tagHeaders) ) { return false; };\n        s.contextData["contentTags"] = "";\n        var tagArray = [];\n        for (var i = 0; i < tagHeaders.length; i++) {\n            var currentHeader = tagHeaders[i];\n            var tagItem = currentHeader + "|";\n            if (mdManager.getParameter(currentHeader) != undefined) { tagItem += mdManager.getParameter(currentHeader) }\n            tagArray.push(tagItem);\n        }\n        s.contextData["contentTags"] = tagArray.join().toLowerCase();\n    };\n    var tagHeaders = [],lowerCaseType;\n    var fullURL = location.href;\n    var domainRegex = /^https?\\:\\/\\/(?:.*\\.)?(?:([^\\.]+)\\.com).*$/;\n    var domain = fullURL.match(domainRegex)[1];\n    lowerCaseType = mdManager.getParameter("type").toString().toLowerCase();\n    // collect tags and s.products under certain conditions\n    if (lowerCaseType === "recipe" && (domain === "foodnetwork" || domain === "cookingchanneltv")) {\n        tagHeaders = ["cuisine", "difficulty", "mainingredient", "mealpart", "preptime", "technique", "dish", "mealtype", "nutrition", "occasions", "courses", "taste"];\n        setContentTagsFromHeaders(tagHeaders);\n    } else if (lowerCaseType === "example_other_page_type" && domain === "someParticularSite") {\n        tagHeaders = ["ex_tag_header_1", "ex_tag_header_2"];\n        setContentTagsFromHeaders(tagHeaders);\n    } else {\n        // overwrite contentTags if any of the following are present\n        if (sessionStorage.getItem("prodSetByShopTrack") != "true") {\n            if (mdManager.getParameterString("Overlay_TagGroup1") != "") {\n                s.contextData["contentTags"] = mdManager.getParameterString("Overlay_TagGroup1").replace(/;/g, "|");\n            } else if (mdManager.getParameterString("TagGroup1") != "") {\n                s.contextData["contentTags"] = mdManager.getParameterString("TagGroup1").replace(/;/g, "|");\n            }\n            // remove legacy wayfair stl from the photo tags/list2 meta-data\n            if (s.contextData["contentTags"] && s.contextData["contentTags"].indexOf("wayfair/shop_this_look") != -1) {\n                s.contextData["contentTags"] = s.contextData["contentTags"].replace("partner|wayfair/shop_this_look,", "");\n            }\n            if (mdManager.getParameterString("shopping").toString().toLowerCase() == "shopping") {\n                if (mdManager.getParameter("products").indexOf("|") == -1) {\n                    productList = mdManager.getParameter("products").replace(/,;/g, ",;s|na|");\n                    s.products = ";s|na|" + productList;\n                } else {\n                    productList = mdManager.getParameter("products").replace(/,;/g, ",;s|");\n                    s.products = ";s|" + productList;\n                }\n                s.products += ",;c|" + mdManager.getParameter("componentName");\n                s.products += "|" + mdManager.getParameter("componentTitle");\n                s.products += "|" + mdManager.getParameter("imageCount");\n                s.products += "|" + mdManager.getParameter("productCount");\n                s.products += "|" + mdManager.getParameter("visibleProductCount");\n                s.products += "|" + mdManager.getParameter("perImageProductCount");\n                s.products += "|" + mdManager.getParameter("productPosition");\n\n                s.products = s.products.toLowerCase();\n                s.contextData["shoppingProducts"] = "D=products";\n                s.contextData["eventShoppingProductsImpressions"] = "1";\n                s.events = s.apl(s.events, "prodView", ",", 2);\n            \n                //For Apple News shopping product clicks\n                if (location.host.indexOf("click.tinysharks.") != -1 || location.host.indexOf("click.home.") != -1 || location.host.indexOf("click.fnr.") != -1) {\n                    s.events = "scAdd";\n                    s.contextData["eventShoppingProductsImpressions"] = "";\n                    s.contextData["moduleName"] = mdManager.getParameter("componentName");\n                    s.contextData["linkTitle"] = mdManager.getParameter("sourcePageTitle");\n                    s.contextData["linkPosition"] = "apple news";\n                    s.contextData["targetURL"] = location.host + location.pathname;\n                    s.contextData["locURL"] = mdManager.getParameter("sourcePageUrl");\n                }  \n            }\n            sessionStorage.setItem("prodSetByShopTrack", "false");\n        }\t\n    }\n}\n\nSNI.Analytics.track = function sni_analytics_track() {\n    _satellite.logger.log(\'Running SNI.Analytics.track function.\');\n    if (location.host.indexOf(".sni.") == -1) {\n        $.ajax({\n            url: window.location.origin + \'/comscore.md5.25cae8f4235bdaab3ce06717dfb25199.js\',\n            cache: false\n        })\n    }\n    // SNI.Analytics.refreshContext(); // now attached directly to s.t\n    s.t();\n};\n\nSNI.Analytics.trackLink = function sni_analytics_tracklink() {\n    _satellite.logger.log(\'Running SNI.Analytics.trackLink function.\');\n\t// SNI.Analytics.refreshContext(); // now attached directly to s.tl\n    s.tl();\n};\n\nSNI.Analytics.attachClickTracking = function sni_analytics_attachclicktracking(opts) {\n    var $container = $(opts.selector);\n    $(opts.selector).find("button,a").off(\'click.sni_analytics\').on(\'click.sni_analytics\', function () {\n        SNI.Analytics.moduleTrackLS(this, {\n            ModuleName: opts.namespace,\n            LinkTitle: $(this).attr("title") ? $(this).attr("title") : $(this).html(),\n            LinkPosition: $container.index(this),\n            TargetUrl: $(this).attr("href") && $(this).attr("href")\n        });\n    });\n    _satellite.logger.log("attachClickTracking: " + JSON.stringify(opts), 1);\n};\n\n$(function () {\n    if (typeof s === "object") {\n        s.trackModLocalStorage = function () {\n            var modName, contextVars, i;\n            try {\n                if (localStorage.getItem("TRACKMOD")) {\n                    modName = JSON.parse(localStorage.getItem("TRACKMOD")),\n                        contextVars = Object.keys(modName).sort(),\n                        i = contextVars.length || 0;\n                    while (i--) {\n                        s.contextData[contextVars[i]] = modName[contextVars[i]];\n                    }\n                    // s.events = s.apl(s.events, "event24", ",", 2);\n                    s.contextData["eventModuleLinkClick"] = "1";\n                    if (typeof s.Integrate === "object" && typeof s.Integrate.removeTrackMod !== "object") {\n                        s.Integrate.add("removeTrackMod");\n                        s.Integrate.removeTrackMod.useVars = function () {\n                            _satellite.logger.log("DELETING TRACKMOD", 1);\n                            localStorage.removeItem("TRACKMOD");\n                        }\n                    }\n                    return true;\n                }\n            } catch (e) {\n                // couldn\'t read localstorage\n            }\n        };\n    }\n});',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLb07ec1b5881d4f9c967b289b98d68b94',
                    name: 'Core:Window Loaded:Qualtrics',
                    events: [{
                            modulePath: 'core/src/lib/events/windowLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: 'https://assets.adobedtm.com/e090d2ba2d7e/fbb645d4812f/670333e0bf03/RC310ce9cf22dd4a4ca1604fba35cd92fe-source.min.js',
                                language: 'javascript',
                                isExternal: !0
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL2e41cdcb77f749c1b88d784e74e63ecd',
                    name: 'Core:Page Bottom:Attach Module Click-Tracking (Home) ',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [{
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: {
                                domains: [
                                    'tlcme.com',
                                    'hgtv.com',
                                    'diynetwork.com',
                                    'travelchannel.com',
                                    'greatamericancountry.com',
                                    'discovery.com',
                                    'investigationdiscovery.com'
                                ]
                            },
                            timeout: 2000
                        }],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '// connect click events\nwindow.clicktrackselect = (function () {\n\n    var clickSelector = \'a,button,div[data-launch-selector]\';\n\n    var linkTitle = function ($element, $cardConfig) {\n        var wsRegex = /\\s+/g;\n        var innerText;\n        var cardType = $cardConfig.cardType ? $cardConfig.cardType + "|" : "|";\n        var hasImg = $element.has(\'img\').length;\n        if ($element[0].hasAttribute(\'title\')) {\n            var result = \'\';\n            if (hasImg) {\n                result += \'IMG|\'\n            } else {\n                result += \'TXT|\'\n            }\n            result += cardType;\n            result += $element.attr(\'title\').trim().replace(wsRegex, \' \');\n            return result;\n        }\n        if ($element.is(\'[data-launch-selector]\')) {\n            return \'TXT|\' + cardType + $element\n                .find(\'[class*=a-HeadlineText]\')\n                .first()\n                .text()\n                .trim()\n                .replace(wsRegex, \' \')\n        }\n        if (hasImg) {\n            return \'IMG|\' + cardType + $element\n                .closest(\'[class*=m-MediaWrap]\', \'.parbase\')\n                .siblings(\'[class*=m-TextWrap]\')\n                .find(\'[class*=a-HeadlineText]\')\n                .text()\n                .trim()\n                .replace(wsRegex, \' \');\n        }\n        innerText = $element.first().text().trim().replace(wsRegex, \' \');\n        if (innerText.length) {\n            return \'TXT|\' + cardType + innerText;\n        }\n    }\n\n    /*$( window ).on( "load", function() {\n        window.s.ActivityMap.link = function(el) { \n       debugger;\n          $cardConfig = {\'cardType\':\'\'};\n          return linkTitle($(el), $cardConfig ); \n        }\n    });*/\n\n    var clickTrack = function ($element) {\n        var $tracker = $element.parents().siblings(".clicktracking").first();\n        var $module = $tracker.parent();\n        var moduleName = $tracker.attr(\'data-resource-type\').split(\'/\').pop();\n        var moduleIndex = $(\'.clicktracking\').index($tracker)\n        var linkIndex = $module.find(clickSelector).index($element)\n        var cardPayload, $cardConfig = {\n            \'cardType\': \'\'\n        };\n        var componentPayload, componentAlt, $componentConfig = {\n            \'componentTitle\': \'\'\n        };\n        try {\n            //var componentConfig = JSON.parse($module.find(\'[data-analytics-config]\').text());\n            componentPayload = $module.find(\'[data-analytics-config]\').text();\n            componentAlt = $element.closest(\'[data-analytics-comp]\', $module).attr(\'data-analytics-comp\');\n            if (componentPayload) {\n                $componentConfig = JSON.parse(componentPayload);\n            } else if (componentAlt) {\n                $componentConfig = JSON.parse(componentAlt);\n            }\n        } catch (err) {\n            $componentConfig = {\n                \'componentTitle\': \'\'\n            };\n        }\n        try {\n            cardPayload = $element.closest(\'[data-analytics]\', $module).attr(\'data-analytics\');\n            if (cardPayload) {\n                $cardConfig = JSON.parse(cardPayload);\n            }\n        } catch (err) {\n            cardConfig = {\n                \'cardType\': \'\'\n            };\n        }\n        return Object.assign({}, {\n            ModuleName: moduleName,\n            ModuleIndex: moduleIndex,\n            LinkTitle: linkTitle($element, $cardConfig),\n            LocUrl: window.location.href,\n            LinkPosition: linkIndex,\n            TargetUrl: $element.attr(\'href\'),\n            ComponentTitle: $componentConfig.componentTitle\n        }); //, componentConfig, cardConfig);\n    }\n\n\n    $(\'.clicktracking\').parent().find(clickSelector)\n        .not(\'.a-Button--Save\')\n        .not(\'.a-Button--Print\')\n        .not(\'[data-type="product-link"]\')\n        .off(\'click.sni_analytics\').on(\'click.sni_analytics\', function (data) {\n            _satellite.logger.log(\'Click detected on \' + this, 1);\n            _satellite.logger.log(\'Calling moduleTrackLS\', 1);\n            SNI.Analytics.moduleTrackLS($(this), clickTrack($(this)));\n        });\n        return true;\n});\n\nwindow.clicktrackselect();',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLc4fd6d7773264505aa5e570b66a05281',
                    name: 'Core:Page Bottom:Trackonomics - Travel Channel',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [
                        {
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: { domains: ['travelchannel.com'] },
                            timeout: 2000
                        },
                        {
                            modulePath: 'core/src/lib/conditions/path.js',
                            settings: { paths: [{ value: '/' }] },
                            negate: !0,
                            timeout: 2000
                        }
                    ],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '<script id="funnel-relay-installer" data-property-id="PROPERTY_ID" data-customer-id="discovery_gjS38Lk6t_travel_channel" src="https://cdn-magiclinks.trackonomics.net/client/static/v2/discovery_gjS38Lk6t_travel_channel.js" async="async"></script>',
                                language: 'html'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLbaf195d1d63a4877b7ac4c9273d28ffd',
                    name: 'Core:Page Bottom:Load DFP Data',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: 'SniAds.ready(function() {\n  \tvar dfpSlots;\n    SniAds.Event.subscribe("slotRenderComplete", function(object) {\n\t  if ( object.lineItemId ) {\n      try {\n        dfpSlots = localStorage.getItem(\'analyticsdfpslots\');\n        dfpSlots = dfpSlots ? dfpSlots + "," + object.lineItemId : object.lineItemId;\n        localStorage.setItem(\'analyticsdfppage\', mdManager.getUniqueId());\n        localStorage.setItem(\'analyticsdfpslots\', dfpSlots);\n      }\n      catch(e) {\n      }\n      }\n     });\n});',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL66fff8607fbe4f2fa4912947e362cbe8',
                    name: 'Core:Click:Show More (mobile)',
                    events: [{
                            modulePath: 'core/src/lib/events/click.js',
                            settings: {
                                elementSelector: 'section[class*="o-ReadMore"]',
                                bubbleFireIfParent: !0,
                                bubbleFireIfChildFired: !0
                            },
                            ruleOrder: 50
                        }],
                    conditions: [
                        {
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: { domains: ['foodnetwork.com'] },
                            timeout: 2000
                        },
                        {
                            modulePath: 'core/src/lib/conditions/deviceType.js',
                            settings: {
                                deviceTypes: [
                                    'iPhone',
                                    'iPad',
                                    'iPod',
                                    'Nokia',
                                    'Windows Phone',
                                    'Blackberry',
                                    'Android'
                                ]
                            },
                            timeout: 2000
                        }
                    ],
                    actions: [
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/setVariables.js',
                            settings: {
                                customSetup: {
                                    source: function (e, t) {
                                        var n = {
                                            moduleName: 'load more',
                                            linkTitle: 'load more',
                                            linkPosition: 'n/a',
                                            locURL: window.location.href,
                                            targetURL: 'on-page interaction',
                                            brand: mdManager.getParameter('site'),
                                            eventLoadMore: '1'
                                        };
                                        for (var a in ('undefined' == typeof t.linkTrackVars && (t.linkTrackVars = ''), n))
                                            t.contextData[a] = n[a], t.linkTrackVars += ',contextData.' + a;
                                    }
                                },
                                trackerProperties: {}
                            },
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/sendBeacon.js',
                            settings: {
                                type: 'link',
                                linkName: 'load more',
                                linkType: 'o'
                            },
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: 'https://assets.adobedtm.com/e090d2ba2d7e/fbb645d4812f/670333e0bf03/RC2a460267159b452e92417d2cc277837b-source.min.js',
                                language: 'javascript',
                                isExternal: !0
                            },
                            timeout: 2000,
                            delayNext: !0
                        }
                    ]
                },
                {
                    id: 'RL1f1f4496404d4a53ba021b66b8155225',
                    name: 'Core:Window Loaded:Nielsen DCR Tracking Code',
                    events: [{
                            modulePath: 'core/src/lib/events/windowLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [{
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: {
                                domains: [
                                    'cookingchanneltv.com',
                                    'discovery.com',
                                    'foodnetwork.com',
                                    'travelchannel.com',
                                    'diynetwork.com',
                                    'hgtv.com',
                                    'investigationdiscovery.com',
                                    'tlcme.com',
                                    'hgtv.dtm2launch.sni.hgtv.com'
                                ]
                            },
                            timeout: 2000
                        }],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                global: !0,
                                source: 'https://assets.adobedtm.com/e090d2ba2d7e/fbb645d4812f/670333e0bf03/RCa19988acd8854b3f815e58691797788d-source.min.js',
                                language: 'javascript',
                                isExternal: !0
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL20db0a0743d34ff9961bb3d77b79940e',
                    name: 'Core:Page Bottom:Sizmek VersaTag Pixel - Food Network',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [
                        {
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: { domains: ['foodnetwork.com'] },
                            timeout: 2000
                        },
                        {
                            modulePath: 'core/src/lib/conditions/valueComparison.js',
                            settings: {
                                comparison: {
                                    operator: 'contains',
                                    caseInsensitive: !0
                                },
                                leftOperand: '%Core:Custom Code:Page Type%',
                                rightOperand: 'video'
                            },
                            negate: !0,
                            timeout: 2000
                        }
                    ],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '<!--needs to only load on non-video pages-->\n\n\n<!--Food Network Sizmek VersaTag-->\n<script>\nvar versaTag = {};\nversaTag.id = "7815";\nversaTag.sync = 0;\nversaTag.dispType = "js";\nversaTag.ptcl = "HTTPS";\nversaTag.bsUrl = "bs.serving-sys.com/BurstingPipe";\nversaTag.activityParams = {\n\t"Session":""\n};\nversaTag.retargetParams = {};\nversaTag.dynamicRetargetParams = {};\nversaTag.conditionalParams = {};\n</script>\n<script id="ebOneTagUrlId" src="https://secure-ds.serving-sys.com/SemiCachedScripts/ebOneTag.js"></script>\n\n\n<noscript>\n<iframe src="https://bs.serving-sys.com/BurstingPipe?cn=ot&amp;onetagid=7815&amp;ns=1&amp;activityValues=$$Session=[Session]$$&amp;retargetingValues=$$$$&amp;dynamicRetargetingValues=$$$$&amp;acp=$$$$&amp;" style="display:none;width:0px;height:0px"></iframe>\n</noscript>',
                                language: 'html'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL68264a2799b949cbaa0f978e022a7ddc',
                    name: 'Core:Click:Print Recipe',
                    events: [{
                            modulePath: 'core/src/lib/events/click.js',
                            settings: {
                                elementSelector: 'a[data-type*="print-asset"]',
                                bubbleFireIfParent: !0,
                                bubbleFireIfChildFired: !0
                            },
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/setVariables.js',
                            settings: {
                                customSetup: {
                                    source: function (e, t) {
                                        var n = {
                                            moduleName: 'global-toolbar',
                                            linkTitle: 'print asset',
                                            linkPosition: '2',
                                            locURL: window.location.href,
                                            targetURL: 'on-page interaction',
                                            brand: mdManager.getParameter('site')
                                        };
                                        for (var a in ('undefined' == typeof t.linkTrackVars && (t.linkTrackVars = ''), n))
                                            t.contextData[a] = n[a], t.linkTrackVars += ',contextData.' + a;
                                    }
                                },
                                trackerProperties: {}
                            },
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/sendBeacon.js',
                            settings: {
                                type: 'link',
                                linkName: 'Print Asset',
                                linkType: 'o'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }
                    ]
                },
                {
                    id: 'RLae8e67e64fb548f4a930e528277ab169',
                    name: 'Core:Click:Save Recipe',
                    events: [{
                            modulePath: 'core/src/lib/events/click.js',
                            settings: {
                                elementSelector: 'a[data-type*="save-asset"]',
                                bubbleFireIfParent: !0,
                                bubbleFireIfChildFired: !0
                            },
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/setVariables.js',
                            settings: {
                                customSetup: {
                                    source: function (e, t) {
                                        var n = {
                                            moduleName: 'global-toolbar',
                                            linkTitle: 'save asset',
                                            linkPosition: '1',
                                            locURL: window.location.href,
                                            targetURL: 'on-page interaction',
                                            brand: mdManager.getParameter('site')
                                        };
                                        for (var a in ('undefined' == typeof t.linkTrackVars && (t.linkTrackVars = ''), n))
                                            t.contextData[a] = n[a], t.linkTrackVars += ',contextData.' + a;
                                    }
                                },
                                trackerProperties: {}
                            },
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/sendBeacon.js',
                            settings: {
                                type: 'link',
                                linkName: 'Save Asset',
                                linkType: 'o'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }
                    ]
                },
                {
                    id: 'RL12cbbc4965cd40a2a975b1dd0fca45d3',
                    name: 'Core:Window Loaded:Modify s.tl() to always track required context data.',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/clearVariables.js',
                            settings: {},
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                global: !0,
                                source: '(function(){\n    /* Update s.tl() to rely on context data */\n    // function to refresh context data\n    function refreshContextData(e,t,extra1,extra2,extra3,callback) {\n        _satellite.logger.log(\'Refreshing Context Data.\');\n        // OrigPubDate modification logic\n        cleanOrigPubDate = function s_cleanOrigPubDate() {\n            var opd = mdManager.getParameterString("OrigPubDate"),\n                opd_array = [],\n                opd_days = 0,\n                opd_string = "",\n                orig_date,\n                mod_date;\n            try {\n                if (opd && typeof opd === "string") {\n                    opd_array = opd.match(/\\d\\d\\d\\d-\\d\\d-\\d\\d/g);\n                    opd_string = opd_array ? opd_array.join("|") : "";\n                    if (opd_string !== "") {\n                        if (opd_array[0]) {\n                            orig_date = new Date(opd_array[0]);\n                            opd_string += "|" + dateDeltas(orig_date);\n                        }\n                        if (opd_array[1]) {\n                            mod_date = new Date(opd_array[1]);\n                            opd_string += "|" + dateDeltas(mod_date);\n                        }\n                    }\n                }\n            } catch (e) {\n                //  something went wrong\n            }\n            return opd_string;\n        }\n        dateDeltas = function s_dateDeltas(dateObj) {\n            var today = new Date(),\n                days = Math.floor(Math.abs(today.getTime() - dateObj.getTime()) / (1000 * 3600 * 24));\n            if (days < 8) {\n                return (days + (days === 1 ? " day" : " days"));\n            } else if (days > 7 && days < 31) {\n                return ("8 days-1 month");\n            } else if (days > 30 && days < 366) {\n                return (Math.floor(days / 30.417) + "-" + Math.ceil(days / 30.417) + " months");\n            } else if (days > 365) {\n                return ">1 year";\n            }\n        }\n\n        // refresh context data\n        var key,value,upperKey;\n        for (key in mdManager.getKeys()) {\n            value = mdManager.getParameter(key);\n            upperKey = key.toString().toUpperCase();\n            if (upperKey  !== "UNIQUEID") { value = value.toString().toLowerCase(); }\n\n            // remap mdManager to appropriate contextData variables\n    \t\tif (upperKey === "URL") { key = "pageName"; }\n    \t\telse if (upperKey  === "TITLE") { key = "pageTitle"; }\n    \t\telse if (upperKey  === "CATEGORYDSPNAME") { key = "contentSiteSection"; }\n    \t\telse if (upperKey  === "SCTNDSPNAME") { key = "contentSubSection"; }\n    \t\telse if (upperKey  === "SUBSECTION") { key = "contentSubSection2"; }\n    \t\telse if (upperKey  === "SUBSECTIONL2") { key = "contentSubSection3"; } // verify key is correct format and if this is being used at all\n    \t\telse if (upperKey  === "TYPE") { key = "contentPageType"; }\n    \t\telse if (upperKey  === "UNIQUEID") { key = "pageUniqueID"; }\n    \t\telse if (upperKey  === "DELIVERY_CHANNEL") { key = "deliveryChannel"; }\n    \t\telse if (upperKey  === "IMGURL") { key = "imageURL"; }\n            else if (upperKey  === "ORIGPUBDATE") {\n                s.contextData["originalPublishDate"] = mdManager.getParameter(key).split("|")[0];\n                s.contextData["latestPublishDate"] = mdManager.getParameter(key).split("|")[1];\n                value = cleanOrigPubDate();\n            }\n            else if (upperKey  === "SHOW_ABBR") { key = "showName"; }\n            else if (upperKey  === "POINTOFINTEREST") { key="poi"; }\n            else if (upperKey  === "FILTER") { key = "searchFilters"; }\n            else if (upperKey  === "SEARCHTERMS") { key = "searchTermContextual"; }\n            else if (upperKey  === "DIMENSIONS") { key = "searchDimensions"; }\n            else if (upperKey  === "DIMENSIONVALUES") { key = "searchDimensionValues"; }\n            else if (upperKey  === "NOSEARCHRESULTS") { key = "noResultsSearchTerm"; }\n    \t\telse if (upperKey  === "TAGGROUP1") { key = "contentTags"; }\n        \n\n            delete s.contextData[key];\n            s.contextData[key] = value;\n        }\t\n    \n    \n        /** content tags and s.products **/\n        // clear values from previous clicks e.g. so data doesn\'t persist on slides that don\'t have products\n        var usingShopTrack = sessionStorage.getItem("prodSetByShopTrack") != "true"? false : true;\n        if (s.events && !usingShopTrack) {\n            s.events = s.events.replace(/,?prodView/, "");\n        }\n        if (s.linkTrackVars && !usingShopTrack) { // don\'t clear out these values if using shopTrack() function\n            s.linkTrackVars = s.linkTrackVars.replace(/,?shoppingProducts/, "");\n            s.linkTrackVars = s.linkTrackVars.replace(/,?eventShoppingProductsImpressions/, "");\n        }\n        // set values\n        setContentTagsFromHeaders = function conTagFromH (tagHeaders) {\n            if ( !Array.isArray(tagHeaders) ) { return false; };\n            s.contextData["contentTags"] = "";\n            var tagArray = [];\n            for (var i = 0; i < tagHeaders.length; i++) {\n                var currentHeader = tagHeaders[i];\n                var tagItem = currentHeader + "|";\n                if (mdManager.getParameter(currentHeader) != undefined) { tagItem += mdManager.getParameter(currentHeader) }\n                tagArray.push(tagItem);\n            }\n            s.contextData["contentTags"] = tagArray.join().toLowerCase();\n        };\n        var tagHeaders = [],lowerCaseType;\n        var fullURL = location.href;\n        var domainRegex = /^https?\\:\\/\\/(?:.*\\.)?(?:([^\\.]+)\\.com).*$/;\n        var domain = fullURL.match(domainRegex)[1];\n        lowerCaseType = mdManager.getParameter("type").toString().toLowerCase();\n        // collect tags and s.products under certain conditions\n        if (lowerCaseType === "recipe" && (domain === "foodnetwork" || domain === "cookingchanneltv")) {\n            tagHeaders = ["cuisine", "difficulty", "mainingredient", "mealpart", "preptime", "technique", "dish", "mealtype", "nutrition", "occasions", "courses", "taste"];\n            setContentTagsFromHeaders(tagHeaders);\n        } else if (lowerCaseType === "example_other_page_type" && domain === "someParticularSite") {\n            tagHeaders = ["ex_tag_header_1", "ex_tag_header_2"];\n            setContentTagsFromHeaders(tagHeaders);\n        } else {\n            // overwrite contentTags if any of the following are present\n            if (!usingShopTrack) {\n                if (mdManager.getParameterString("Overlay_TagGroup1") != "") {\n                    s.contextData["contentTags"] = mdManager.getParameterString("Overlay_TagGroup1").replace(/;/g, "|");\n                } else if (mdManager.getParameterString("TagGroup1") != "") {\n                    s.contextData["contentTags"] = mdManager.getParameterString("TagGroup1").replace(/;/g, "|");\n                }\n                // remove legacy wayfair stl from the photo tags/list2 meta-data\n                if (s.contextData["contentTags"] && s.contextData["contentTags"].indexOf("wayfair/shop_this_look") != -1) {\n                    s.contextData["contentTags"] = s.contextData["contentTags"].replace("partner|wayfair/shop_this_look,", "");\n                }\n                if (mdManager.getParameterString("shopping").toString().toLowerCase() == "shopping") {\n                    if (mdManager.getParameter("products").indexOf("|") == -1) {\n                        productList = mdManager.getParameter("products").replace(/,;/g, ",;s|na|");\n                        s.products = ";s|na|" + productList;\n                    } else {\n                        productList = mdManager.getParameter("products").replace(/,;/g, ",;s|");\n                        s.products = ";s|" + productList;\n                    }\n                    s.products += ",;c|" + mdManager.getParameter("componentName");\n                    s.products += "|" + mdManager.getParameter("componentTitle");\n                    s.products += "|" + mdManager.getParameter("imageCount");\n                    s.products += "|" + mdManager.getParameter("productCount");\n                    s.products += "|" + mdManager.getParameter("visibleProductCount");\n                    s.products += "|" + mdManager.getParameter("perImageProductCount");\n                    s.products += "|" + mdManager.getParameter("productPosition");\n\n                    s.products = s.products.toLowerCase();\n                    s.contextData["shoppingProducts"] = "D=products";\n                    s.contextData["eventShoppingProductsImpressions"] = "1";\n                    s.linkTrackVars = s.linkTrackVars || "";\n                    s.linkTrackVars += ",shoppingProducts,eventShoppingProductsImpressions";\n                    s.events = s.events || "";\n                    s.events += ",prodView";\n                    \n                \n                    //For Apple News shopping product clicks\n                    if (location.host.indexOf("click.tinysharks.") != -1 || location.host.indexOf("click.home.") != -1 || location.host.indexOf("click.fnr.") != -1) {\n                        s.events = "scAdd";\n                        s.contextData["eventShoppingProductsImpressions"] = "";\n                        s.contextData["moduleName"] = mdManager.getParameter("componentName");\n                        s.contextData["linkTitle"] = mdManager.getParameter("sourcePageTitle");\n                        s.contextData["linkPosition"] = "apple news";\n                        s.contextData["targetURL"] = location.host + location.pathname;\n                        s.contextData["locURL"] = mdManager.getParameter("sourcePageUrl");\n                    }  \n                }\n                sessionStorage.setItem("prodSetByShopTrack", "false"); // just make sure we\'re still not using shopTrack()\n            }\t\n        }\n\n        // allow a callback\n        if (typeof callback === "function") { callback(e,t,extra1,extra2,extra3); };\n    }\n\n    _satellite.logger.info("Updating s.tl() to include required context data.");\n    var tempLinkTrack = s.tl.bind({});\n    s.tl = function(e,t,extra1,extra2,extra3) {\n        _satellite.logger.log("running modified s.tl() function.")\n        // Code to run before old s.tl() call\n        // set linkTrackVars with constant required data\n        var required_context_array = ["productDetails","brand","businessUnit"];\n        if (!s.linkTrackVars || s.linkTrackVars === "") {\n            s.linkTrackVars = "contextData." + required_context_array.join(",contextData.");\n        } else {\n            s.linkTrackVars += ",contextData." + required_context_array.join(",contextData.");;\n        };\n        if (_satellite.getVar("Core:Constant:Analytics Code Version")) {\n            s.contextData["analyticsCodeVersion"] = _satellite.getVar("Core:Constant:Analytics Code Version");\n            s.linkTrackVars += ",contextData.analyticsCodeVersion";\n        };\n        if (_satellite.getVar("Core:Constant:Distribution Product")) {\n            s.contextData["productDetails"] = _satellite.getVar("Core:Constant:Distribution Product");\n            s.linkTrackVars += ",contextData.productDetails";\n        };\n        // set constant required data\n        s.contextData["businessUnit"] = "discovery digital studios";\n        // old s.tl() call as callback to refreshing context data\n        refreshContextData(e,t,extra1,extra2,extra3,tempLinkTrack);\n        // Code to run after old s.tl() call\n    }\n    \n})();',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }
                    ]
                },
                {
                    id: 'RLb9df4bea7081469385582c492dd0a78c',
                    name: 'Core:DOM Ready:moduleTrack2',
                    events: [{
                            modulePath: 'core/src/lib/events/domReady.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                global: !0,
                                source: 'https://assets.adobedtm.com/e090d2ba2d7e/fbb645d4812f/670333e0bf03/RC04d6332c45ff4c0b8f1de7ca0fa1c83c-source.min.js',
                                language: 'javascript',
                                isExternal: !0
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL9c37c5d0ed6b4d24ba72225806e2d82e',
                    name: 'Core:DOM Ready:Add omniTrackBYGender() function',
                    events: [{
                            modulePath: 'core/src/lib/events/domReady.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                global: !0,
                                source: 'https://assets.adobedtm.com/e090d2ba2d7e/fbb645d4812f/670333e0bf03/RCf8d8f809e5e14e029df3f7771488642c-source.min.js',
                                language: 'javascript',
                                isExternal: !0
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL48d80b90ce584a8abb62535314765564',
                    name: 'Core:Library Loaded:Blueshift - Pageload',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '(function () {\n\nfunction setBlueShiftID() {\n    // use this function to dynamically determine Blueshift ID\n    var sandboxID = \'c678732e187ca89aa81988110c374b6c\';\n  var newSandboxID = \'40cae7530a075ba4e4c833cafa75a2a4\';\n    var productionID = \'d3ca8b2666be5f1e24b88896fa856552\';\n    return productionID;\n};\n\nwindow._blueshiftid=setBlueShiftID();window.blueshift=window.blueshift||[];if(blueshift.constructor===Array){blueshift.load=function(){var d=function(a){return function(){blueshift.push([a].concat(Array.prototype.slice.call(arguments,0)))}},e=["config","identify","track","click","pageload","capture","retarget","live"];for(var f=0;f<e.length;f++)blueshift[e[f]]=d(e[f])};}\nblueshift.load();\n_satellite.logger.log("sending Blueshift pageload");\nblueshift.pageload();\nif(blueshift.constructor===Array){(function(){var b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src=("https:"===document.location.protocol?"https:":"http:")+"//cdn.getblueshift.com/blueshift.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);})()}\n})();',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL802103c9a7c44851877f71d2d79781d1',
                    name: 'Core:Page Bottom:Blueshift - View',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '(function () {\n\n    function viewDataToSend() {\n        var data = {};\n        if (typeof window.mdManager === "undefined") {\n            _satellite.logger.warn("Couldn\'t find mdManager data to send into Blueshift.");\n            return data;\n        }\n        var getParam = window.mdManager.getParameter;\n        // Include all mdManager, but specifically need to map product_id\n        for (var key in window.mdManager.getKeys()) {\n            // req: Jonah mentioned we need lowercase keys\n            var low_key = key.toLowerCase();\n            if (low_key === \'uniqueid\') { // ANY-1174\n                data["detailid"] = getParam("UNIQUEID");\n            }\n            else if (low_key === \'detailid\') { // ANY-1174\n                data["product_id"] = getParam("DETAILID");\n            }\n            else {\n                data[low_key] = getParam(key);\n            }\n        }\n        \n        return data;\n    }\n    _satellite.logger.log("sending Blueshift view");\n    blueshift.track("view",viewDataToSend());\n    \n    })();',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL2441aa8f441e4f81b0ab76a7f25a7d1e',
                    name: 'Core:Library Loaded:Modify s.referrer',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'adobe-analytics/src/lib/actions/setVariables.js',
                            settings: {
                                customSetup: {
                                    source: function (e, t) {
                                        -1 < window.navigator.userAgent.indexOf('FBAN/FBIOS') && !t.referrer && (t.referrer = 'http://m.facebook.com/?app');
                                    }
                                },
                                trackerProperties: {}
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RL1250851652cd41b4b05af32635cf45ac',
                    name: 'Core:Click:Target Load Mbox on Buy Now Button',
                    events: [{
                            modulePath: 'core/src/lib/events/click.js',
                            settings: {
                                elementSelector: '[data-type="product-link"],.url-link',
                                bubbleFireIfParent: !0,
                                bubbleFireIfChildFired: !0
                            },
                            ruleOrder: 50
                        }],
                    conditions: [{
                            modulePath: 'core/src/lib/conditions/customCode.js',
                            settings: {
                                source: function () {
                                    s.contextData.pageName = '/how-to/packages/shopping/product-reviews/best-air-fryer';
                                }
                            },
                            timeout: 2000
                        }],
                    actions: []
                },
                {
                    id: 'RL3fcb9e12f1d64a92a2dc47df010978f9',
                    name: 'Core:Library Loaded:Google and FB Conversion Scripts',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [
                        {
                            modulePath: 'core/src/lib/conditions/path.js',
                            settings: {
                                paths: [
                                    {
                                        value: 'sweepstakes/hgtv-smart-home/sweepstakes/thanks/?',
                                        valueIsRegex: !0
                                    },
                                    {
                                        value: 'sponsored/hgtv-smart-home/thanks/?',
                                        valueIsRegex: !0
                                    }
                                ]
                            },
                            timeout: 2000
                        },
                        {
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: {
                                domains: [
                                    'hgtv.com',
                                    'discovery.com'
                                ]
                            },
                            timeout: 2000
                        }
                    ],
                    actions: [
                        {
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '<script> \n  gtag(\'event\', \'conversion\', {\'send_to\': \'AW-397208692/Vv8qCNDT0_4BEPTYs70B\'}); \n</script>',
                                language: 'html'
                            },
                            timeout: 2000,
                            delayNext: !0
                        },
                        {
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '<script> \nfbq(\'trackSingleCustom\', \'665960526897455\', \'CompleteRegistration\', { \n        content_name: \'SmartHome\',  \n        content_category: \'Sweeps\', \n        content_type: \'Sweeps\', \n      }); \n</script>',
                                language: 'html'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }
                    ]
                },
                {
                    id: 'RL488b2f9dc0564a309bca5d0044184258',
                    name: 'Verizon',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '<script type="application/javascript">(function(w,d,t,r,u){w[u]=w[u]||[];w[u].push({\'projectId\':\'10000\',\'properties\':{\'pixelId\':\'10040885\'}});var s=d.createElement(t);s.src=r;s.async=true;s.onload=s.onreadystatechange=function(){var y,rs=this.readyState,c=w[u];if(rs&&rs!="complete"&&rs!="loaded"){return}try{y=YAHOO.ywa.I13N.fireBeacon;w[u]=[];w[u].push=function(p){y([p])};y(c)}catch(e){}};var scr=d.getElementsByTagName(t)[0],par=scr.parentNode;par.insertBefore(s,scr)})(window,document,"script","https://s.yimg.com/wi/ytc.js","dotq");</script>',
                                language: 'html'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                },
                {
                    id: 'RLdfe7d1075955459baef942f19cc1197f',
                    name: 'Core:Library Loaded:AMP Pageview',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [
                        {
                            modulePath: 'core/src/lib/conditions/subdomain.js',
                            settings: {
                                subdomains: [{
                                        value: 'analytics',
                                        valueIsRegex: !0
                                    }]
                            },
                            timeout: 2000
                        },
                        {
                            modulePath: 'core/src/lib/conditions/domain.js',
                            settings: { domains: ['foodnetwork.com'] },
                            timeout: 2000
                        },
                        {
                            modulePath: 'core/src/lib/conditions/path.js',
                            settings: {
                                paths: [{
                                        value: 'stats',
                                        valueIsRegex: !0
                                    }]
                            },
                            timeout: 2000
                        }
                    ],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: 'contextData.pageName = s.Util.getQueryParam("pageURL");\ncontextData.brand = \'fnk\';\n_satellite.logger.log(\'amp pageview rule fired\');',
                                language: 'javascript'
                            },
                            timeout: 2000,
                            delayNext: !0
                        }]
                }
            ]
        };
        var $___var_28e9f1e66652912f = function () {
            'use strict';
            function e(n) {
                if (n.__esModule)
                    return n;
                var a = Object.defineProperty({}, '__esModule', { value: !0 });
                return Object.keys(n).forEach(function (e) {
                    var t = Object.getOwnPropertyDescriptor(n, e);
                    Object.defineProperty(a, e, t.get ? t : {
                        enumerable: !0,
                        get: function () {
                            return n[e];
                        }
                    });
                }), a;
            }
            function t(e) {
                var t = { exports: {} };
                return e(t, t.exports), t.exports;
            }
            function n(t) {
                var n = this.constructor;
                return this.then(function (e) {
                    return n.resolve(t()).then(function () {
                        return e;
                    });
                }, function (e) {
                    return n.resolve(t()).then(function () {
                        return n.reject(e);
                    });
                });
            }
            function l(e) {
                return Boolean(e && 'undefined' != typeof e.length);
            }
            function a() {
            }
            function r(e, t) {
                return function () {
                    e.apply(t, arguments);
                };
            }
            function i(e) {
                if (!(this instanceof i))
                    throw new TypeError('Promises must be constructed via new');
                if ('function' != typeof e)
                    throw new TypeError('not a function');
                this._state = 0, this._handled = !1, this._value = undefined, this._deferreds = [], p(e, this);
            }
            function o(a, r) {
                for (; 3 === a._state;)
                    a = a._value;
                0 !== a._state ? (a._handled = !0, i._immediateFn(function () {
                    var e = 1 === a._state ? r.onFulfilled : r.onRejected;
                    if (null !== e) {
                        var t;
                        try {
                            t = e(a._value);
                        } catch (n) {
                            return void c(r.promise, n);
                        }
                        s(r.promise, t);
                    } else
                        (1 === a._state ? s : c)(r.promise, a._value);
                })) : a._deferreds.push(r);
            }
            function s(e, t) {
                try {
                    if (t === e)
                        throw new TypeError('A promise cannot be resolved with itself.');
                    if (t && ('object' == typeof t || 'function' == typeof t)) {
                        var n = t.then;
                        if (t instanceof i)
                            return e._state = 3, e._value = t, void u(e);
                        if ('function' == typeof n)
                            return void p(r(n, t), e);
                    }
                    e._state = 1, e._value = t, u(e);
                } catch (a) {
                    c(e, a);
                }
            }
            function c(e, t) {
                e._state = 2, e._value = t, u(e);
            }
            function u(e) {
                2 === e._state && 0 === e._deferreds.length && i._immediateFn(function () {
                    e._handled || i._unhandledRejectionFn(e._value);
                });
                for (var t = 0, n = e._deferreds.length; t < n; t++)
                    o(e, e._deferreds[t]);
                e._deferreds = null;
            }
            function d(e, t, n) {
                this.onFulfilled = 'function' == typeof e ? e : null, this.onRejected = 'function' == typeof t ? t : null, this.promise = n;
            }
            function p(e, t) {
                var n = !1;
                try {
                    e(function (e) {
                        n || (n = !0, s(t, e));
                    }, function (e) {
                        n || (n = !0, c(t, e));
                    });
                } catch (a) {
                    if (n)
                        return;
                    n = !0, c(t, a);
                }
            }
            function f(e) {
                if (null === e || e === undefined)
                    throw new TypeError('Object.assign cannot be called with null or undefined');
                return Object(e);
            }
            function h() {
                try {
                    if (!Object.assign)
                        return !1;
                    var e = new String('abc');
                    if (e[5] = 'de', '5' === Object.getOwnPropertyNames(e)[0])
                        return !1;
                    for (var t = {}, n = 0; n < 10; n++)
                        t['_' + String.fromCharCode(n)] = n;
                    if ('0123456789' !== Object.getOwnPropertyNames(t).map(function (e) {
                            return t[e];
                        }).join(''))
                        return !1;
                    var a = {};
                    return 'abcdefghijklmnopqrst'.split('').forEach(function (e) {
                        a[e] = e;
                    }), 'abcdefghijklmnopqrst' === Object.keys(Object.assign({}, a)).join('');
                } catch (r) {
                    return !1;
                }
            }
            function g(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t);
            }
            if (window.atob) {
                var m = function (e) {
                        var n = [];
                        return e.forEach(function (t) {
                            t.events && t.events.forEach(function (e) {
                                n.push({
                                    rule: t,
                                    event: e
                                });
                            });
                        }), n.sort(function (e, t) {
                            return e.event.ruleOrder - t.event.ruleOrder;
                        });
                    }, v = 'debug', b = function (t, e) {
                        var n = function () {
                                return 'true' === t.getItem(v);
                            }, a = function (e) {
                                t.setItem(v, e);
                            }, r = [], i = function (e) {
                                r.push(e);
                            };
                        return e.outputEnabled = n(), {
                            onDebugChanged: i,
                            getDebugEnabled: n,
                            setDebugEnabled: function (t) {
                                n() !== t && (a(t), e.outputEnabled = t, r.forEach(function (e) {
                                    e(t);
                                }));
                            }
                        };
                    }, y = 'Module did not export a function.', _ = function (i, o) {
                        return function (e, t, n) {
                            n = n || [];
                            var a = i.getModuleExports(e.modulePath);
                            if ('function' != typeof a)
                                throw new Error(y);
                            var r = o(e.settings || {}, t);
                            return a.bind(null, r).apply(null, n);
                        };
                    }, S = function (e) {
                        return 'string' == typeof e ? e.replace(/\s+/g, ' ').trim() : e;
                    }, T = {
                        LOG: 'log',
                        INFO: 'info',
                        DEBUG: 'debug',
                        WARN: 'warn',
                        ERROR: 'error'
                    }, C = '\uD83D\uDE80', w = 10 === parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase()) || [])[1]) ? '[Launch]' : C, k = !1, I = function (e) {
                        if (k && window.console) {
                            var t = Array.prototype.slice.call(arguments, 1);
                            t.unshift(w), e !== T.DEBUG || window.console[e] || (e = T.INFO), window.console[e].apply(window.console, t);
                        }
                    }, P = I.bind(null, T.LOG), D = I.bind(null, T.INFO), E = I.bind(null, T.DEBUG), A = I.bind(null, T.WARN), x = I.bind(null, T.ERROR), N = {
                        log: P,
                        info: D,
                        debug: E,
                        warn: A,
                        error: x,
                        deprecation: function () {
                            var e = k;
                            k = !0, I.apply(null, Array.prototype.concat(T.WARN, Array.prototype.slice.call(arguments))), e || (k = !1);
                        },
                        get outputEnabled() {
                            return k;
                        },
                        set outputEnabled(e) {
                            k = e;
                        },
                        createPrefixedLogger: function (e) {
                            var t = '[' + e + ']';
                            return {
                                log: P.bind(null, t),
                                info: D.bind(null, t),
                                debug: E.bind(null, t),
                                warn: A.bind(null, t),
                                error: x.bind(null, t)
                            };
                        }
                    }, O = 'undefined' != typeof globalThis ? globalThis : 'undefined' != typeof window ? window : 'undefined' != typeof global ? global : 'undefined' != typeof self ? self : {}, M = t(function (a) {
                        !function (e) {
                            if (a.exports = e(), !!0) {
                                var t = window.Cookies, n = window.Cookies = e();
                                n.noConflict = function () {
                                    return window.Cookies = t, n;
                                };
                            }
                        }(function () {
                            function c() {
                                for (var e = 0, t = {}; e < arguments.length; e++) {
                                    var n = arguments[e];
                                    for (var a in n)
                                        t[a] = n[a];
                                }
                                return t;
                            }
                            function u(e) {
                                return e.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
                            }
                            function e(l) {
                                function s() {
                                }
                                function n(e, t, n) {
                                    if ('undefined' != typeof document) {
                                        'number' == typeof (n = c({ path: '/' }, s.defaults, n)).expires && (n.expires = new Date(1 * new Date() + 86400000 * n.expires)), n.expires = n.expires ? n.expires.toUTCString() : '';
                                        try {
                                            var a = JSON.stringify(t);
                                            /^[\{\[]/.test(a) && (t = a);
                                        } catch (o) {
                                        }
                                        t = l.write ? l.write(t, e) : encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), e = encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/[\(\)]/g, escape);
                                        var r = '';
                                        for (var i in n)
                                            n[i] && (r += '; ' + i, !0 !== n[i] && (r += '=' + n[i].split(';')[0]));
                                        return document.cookie = e + '=' + t + r;
                                    }
                                }
                                function t(e, t) {
                                    if ('undefined' != typeof document) {
                                        for (var n = {}, a = document.cookie ? document.cookie.split('; ') : [], r = 0; r < a.length; r++) {
                                            var i = a[r].split('='), o = i.slice(1).join('=');
                                            t || '"' !== o.charAt(0) || (o = o.slice(1, -1));
                                            try {
                                                var s = u(i[0]);
                                                if (o = (l.read || l)(o, s) || u(o), t)
                                                    try {
                                                        o = JSON.parse(o);
                                                    } catch (c) {
                                                    }
                                                if (n[s] = o, e === s)
                                                    break;
                                            } catch (c) {
                                            }
                                        }
                                        return e ? n[e] : n;
                                    }
                                }
                                return s.set = n, s.get = function (e) {
                                    return t(e, !1);
                                }, s.getJSON = function (e) {
                                    return t(e, !0);
                                }, s.remove = function (e, t) {
                                    n(e, '', c(t, { expires: -1 }));
                                }, s.defaults = {}, s.withConverter = e, s;
                            }
                            return e(function () {
                            });
                        });
                    }), L = {
                        get: M.get,
                        set: M.set,
                        remove: M.remove
                    }, R = window, j = 'com.adobe.reactor.', V = function (a, e) {
                        var r = j + (e || '');
                        return {
                            getItem: function (e) {
                                const $___old_3e132f9a4860ca4c = {}.constructor.getOwnPropertyDescriptor(window, 'localStorage');
                                try {
                                    if ($___old_3e132f9a4860ca4c)
                                        ({}.constructor.defineProperty(window, 'localStorage', $___mock_5681dcac222e7c62.localStorage));
                                    return function () {
                                        try {
                                            return R[a].getItem(r + e);
                                        } catch (t) {
                                            return null;
                                        }
                                    }.apply(this, arguments);
                                } finally {
                                    if ($___old_3e132f9a4860ca4c)
                                        ({}.constructor.defineProperty(window, 'localStorage', $___old_3e132f9a4860ca4c));
                                }
                            },
                            setItem: function (e, t) {
                                const $___old_fc89e0557ebbd7c0 = {}.constructor.getOwnPropertyDescriptor(window, 'localStorage'), $___old_733465a958538db1 = {}.constructor.getOwnPropertyDescriptor(window, 'sessionStorage');
                                try {
                                    if ($___old_fc89e0557ebbd7c0)
                                        ({}.constructor.defineProperty(window, 'localStorage', $___mock_5681dcac222e7c62.localStorage));
                                    if ($___old_733465a958538db1)
                                        ({}.constructor.defineProperty(window, 'sessionStorage', $___mock_5681dcac222e7c62.sessionStorage));
                                    return function () {
                                        try {
                                            return R[a].setItem(r + e, t), !0;
                                        } catch (n) {
                                            return !1;
                                        }
                                    }.apply(this, arguments);
                                } finally {
                                    if ($___old_fc89e0557ebbd7c0)
                                        ({}.constructor.defineProperty(window, 'localStorage', $___old_fc89e0557ebbd7c0));
                                    if ($___old_733465a958538db1)
                                        ({}.constructor.defineProperty(window, 'sessionStorage', $___old_733465a958538db1));
                                }
                            }
                        };
                    }, B = '_sdsat_', F = 'dataElements.', U = 'dataElementCookiesMigrated', H = V('localStorage'), q = V('sessionStorage', F), $ = V('localStorage', F), G = {
                        PAGEVIEW: 'pageview',
                        SESSION: 'session',
                        VISITOR: 'visitor'
                    }, Y = {}, K = function (e) {
                        var t;
                        try {
                            t = JSON.stringify(e);
                        } catch (n) {
                        }
                        return t;
                    }, Q = function (e, t, n) {
                        var a;
                        switch (t) {
                        case G.PAGEVIEW:
                            return void (Y[e] = n);
                        case G.SESSION:
                            return void ((a = K(n)) && q.setItem(e, a));
                        case G.VISITOR:
                            return void ((a = K(n)) && $.setItem(e, a));
                        }
                    }, z = function (e, t) {
                        var n = L.get(B + e);
                        n !== undefined && Q(e, t, n);
                    }, W = {
                        setValue: Q,
                        getValue: function (e, t) {
                            var n;
                            switch (t) {
                            case G.PAGEVIEW:
                                return Y.hasOwnProperty(e) ? Y[e] : null;
                            case G.SESSION:
                                return null === (n = q.getItem(e)) ? n : JSON.parse(n);
                            case G.VISITOR:
                                return null === (n = $.getItem(e)) ? n : JSON.parse(n);
                            }
                        },
                        migrateCookieData: function (t) {
                            H.getItem(U) || (Object.keys(t).forEach(function (e) {
                                z(e, t[e].storageDuration);
                            }), H.setItem(U, !0));
                        }
                    }, J = function (e, t, n, a) {
                        return 'Failed to execute data element module ' + e.modulePath + ' for data element ' + t + '. ' + n + (a ? '\n' + a : '');
                    }, X = function (s, c, l, u) {
                        return function (e, t) {
                            var n = c(e);
                            if (!n)
                                return u ? '' : undefined;
                            var a, r = n.storageDuration;
                            try {
                                a = s.getModuleExports(n.modulePath);
                            } catch (o) {
                                return void N.error(J(n, e, o.message, o.stack));
                            }
                            if ('function' == typeof a) {
                                var i;
                                try {
                                    i = a(l(n.settings, t), t);
                                } catch (o) {
                                    return void N.error(J(n, e, o.message, o.stack));
                                }
                                return r && (null != i ? W.setValue(e, r, i) : i = W.getValue(e, r)), null == i && null != n.defaultValue && (i = n.defaultValue), 'string' == typeof i && (n.cleanText && (i = S(i)), n.forceLowerCase && (i = i.toLowerCase())), i;
                            }
                            N.error(J(n, e, 'Module did not export a function.'));
                        };
                    }, Z = {
                        text: function (e) {
                            return e.textContent;
                        },
                        cleanText: function (e) {
                            return S(e.textContent);
                        }
                    }, ee = function (e, t, n) {
                        for (var a, r = e, i = 0, o = t.length; i < o; i++) {
                            if (null == r)
                                return undefined;
                            var s = t[i];
                            if (n && '@' === s.charAt(0)) {
                                var c = s.slice(1);
                                r = Z[c](r);
                            } else if (r.getAttribute && (a = s.match(/^getAttribute\((.+)\)$/))) {
                                var l = a[1];
                                r = r.getAttribute(l);
                            } else
                                r = r[s];
                        }
                        return r;
                    }, te = function (i, o, s) {
                        return function (e, t) {
                            var n;
                            if (o(e))
                                n = s(e, t);
                            else {
                                var a = e.split('.'), r = a.shift();
                                'this' === r ? t && (n = ee(t.element, a, !0)) : 'event' === r ? t && (n = ee(t, a)) : 'target' === r ? t && (n = ee(t.target, a)) : n = ee(i[r], a);
                            }
                            return n;
                        };
                    }, ne = function (n, a) {
                        return function (e) {
                            var t = e.split('.')[0];
                            return Boolean(a(e) || 'this' === t || 'event' === t || 'target' === t || n.hasOwnProperty(t));
                        };
                    }, ae = function (e, t, n) {
                        var a = { exports: {} };
                        return e.call(a.exports, a, a.exports, t, n), a.exports;
                    }, re = function () {
                        var o = {}, n = function (e) {
                                var t = o[e];
                                if (!t)
                                    throw new Error('Module ' + e + ' not found.');
                                return t;
                            }, e = function () {
                                Object.keys(o).forEach(function (e) {
                                    try {
                                        a(e);
                                    } catch (n) {
                                        var t = 'Error initializing module ' + e + '. ' + n.message + (n.stack ? '\n' + n.stack : '');
                                        N.error(t);
                                    }
                                });
                            }, a = function (e) {
                                var t = n(e);
                                return t.hasOwnProperty('exports') || (t.exports = ae(t.definition.script, t.require, t.turbine)), t.exports;
                            };
                        return {
                            registerModule: function (e, t, n, a, r) {
                                var i = {
                                    definition: t,
                                    extensionName: n,
                                    require: a,
                                    turbine: r
                                };
                                i.require = a, o[e] = i;
                            },
                            hydrateCache: e,
                            getModuleExports: a,
                            getModuleDefinition: function (e) {
                                return n(e).definition;
                            },
                            getModuleExtensionName: function (e) {
                                return n(e).extensionName;
                            }
                        };
                    }, ie = !1, oe = function (a) {
                        return function (t, n) {
                            var e = a._monitors;
                            e && (ie || (N.warn('The _satellite._monitors API may change at any time and should only be used for debugging.'), ie = !0), e.forEach(function (e) {
                                e[t] && e[t](n);
                            }));
                        };
                    }, se = function (r, i, o) {
                        var n, a, s, c, l = [], u = function (e, t, n) {
                                if (!r(t))
                                    return e;
                                l.push(t);
                                var a = i(t, n);
                                return l.pop(), null == a && o ? '' : a;
                            };
                        return n = function (e, n) {
                            var t = /^%([^%]+)%$/.exec(e);
                            return t ? u(e, t[1], n) : e.replace(/%(.+?)%/g, function (e, t) {
                                return u(e, t, n);
                            });
                        }, a = function (e, t) {
                            for (var n = {}, a = Object.keys(e), r = 0; r < a.length; r++) {
                                var i = a[r], o = e[i];
                                n[i] = c(o, t);
                            }
                            return n;
                        }, s = function (e, t) {
                            for (var n = [], a = 0, r = e.length; a < r; a++)
                                n.push(c(e[a], t));
                            return n;
                        }, c = function (e, t) {
                            return 'string' == typeof e ? n(e, t) : Array.isArray(e) ? s(e, t) : 'object' == typeof e && null !== e ? a(e, t) : e;
                        }, function (e, t) {
                            return 10 < l.length ? (N.error('Data element circular reference detected: ' + l.join(' -> ')), e) : c(e, t);
                        };
                    }, ce = function (r) {
                        return function (e, t) {
                            if ('string' == typeof e)
                                r[arguments[0]] = t;
                            else if (arguments[0]) {
                                var n = arguments[0];
                                for (var a in n)
                                    r[a] = n[a];
                            }
                        };
                    }, le = setTimeout;
                i.prototype['catch'] = function (e) {
                    return this.then(null, e);
                }, i.prototype.then = function (e, t) {
                    var n = new this.constructor(a);
                    return o(this, new d(e, t, n)), n;
                }, i.prototype['finally'] = n, i.all = function (t) {
                    return new i(function (r, i) {
                        function o(t, e) {
                            try {
                                if (e && ('object' == typeof e || 'function' == typeof e)) {
                                    var n = e.then;
                                    if ('function' == typeof n)
                                        return void n.call(e, function (e) {
                                            o(t, e);
                                        }, i);
                                }
                                s[t] = e, 0 == --c && r(s);
                            } catch (a) {
                                i(a);
                            }
                        }
                        if (!l(t))
                            return i(new TypeError('Promise.all accepts an array'));
                        var s = Array.prototype.slice.call(t);
                        if (0 === s.length)
                            return r([]);
                        for (var c = s.length, e = 0; e < s.length; e++)
                            o(e, s[e]);
                    });
                }, i.resolve = function (t) {
                    return t && 'object' == typeof t && t.constructor === i ? t : new i(function (e) {
                        e(t);
                    });
                }, i.reject = function (n) {
                    return new i(function (e, t) {
                        t(n);
                    });
                }, i.race = function (r) {
                    return new i(function (e, t) {
                        if (!l(r))
                            return t(new TypeError('Promise.race accepts an array'));
                        for (var n = 0, a = r.length; n < a; n++)
                            i.resolve(r[n]).then(e, t);
                    });
                }, i._immediateFn = 'function' == typeof setImmediate && function (e) {
                    setImmediate(e);
                } || function (e) {
                    le(e, 0);
                }, i._unhandledRejectionFn = function Pt(e) {
                    'undefined' != typeof console && console && console.warn('Possible Unhandled Promise Rejection:', e);
                };
                var ue = e(Object.freeze({
                        __proto__: null,
                        'default': i
                    })), de = 'undefined' != typeof window && window.Promise || void 0 !== O && O.Promise || ue['default'] || ue, pe = function (l, n, a) {
                        return function (s, t, c, e) {
                            return e.then(function () {
                                var i, o = s.delayNext;
                                return new de(function (e, t) {
                                    var n = l(s, c, [c]);
                                    if (!o)
                                        return e();
                                    var a = s.timeout, r = new de(function (e, t) {
                                            i = setTimeout(function () {
                                                t(new Error('A timeout occurred because the action took longer than ' + a / 1000 + ' seconds to complete. '));
                                            }, a);
                                        });
                                    de.race([
                                        n,
                                        r
                                    ]).then(e, t);
                                })['catch'](function (e) {
                                    return clearTimeout(i), e = n(e), a(s, t, e), de.reject(e);
                                }).then(function () {
                                    clearTimeout(i);
                                });
                            });
                        };
                    }, fe = function (c, n, a, r, l) {
                        return function (o, t, s, e) {
                            return e.then(function () {
                                var i;
                                return new de(function (e, t) {
                                    var n = c(o, s, [s]), a = o.timeout, r = new de(function (e, t) {
                                            i = setTimeout(function () {
                                                t(new Error('A timeout occurred because the condition took longer than ' + a / 1000 + ' seconds to complete. '));
                                            }, a);
                                        });
                                    de.race([
                                        n,
                                        r
                                    ]).then(e, t);
                                })['catch'](function (e) {
                                    return clearTimeout(i), e = n(e), r(o, t, e), de.reject(e);
                                }).then(function (e) {
                                    if (clearTimeout(i), !a(o, e))
                                        return l(o, t), de.reject();
                                });
                            });
                        };
                    }, he = de.resolve(), ge = function (a, r, e) {
                        return function (t, n) {
                            return t.conditions && t.conditions.forEach(function (e) {
                                he = a(e, t, n, he);
                            }), t.actions && t.actions.forEach(function (e) {
                                he = r(e, t, n, he);
                            }), he = (he = he.then(function () {
                                e(t);
                            }))['catch'](function () {
                            });
                        };
                    }, me = function (e) {
                        return Boolean(e && 'object' == typeof e && 'function' == typeof e.then);
                    }, ve = function (o, s, c, l) {
                        return function (e, t) {
                            var n;
                            if (e.conditions)
                                for (var a = 0; a < e.conditions.length; a++) {
                                    n = e.conditions[a];
                                    try {
                                        var r = o(n, t, [t]);
                                        if (me(r))
                                            throw new Error('Rule component sequencing must be enabled on the property for this condition to function properly.');
                                        if (!s(n, r))
                                            return c(n, e), !1;
                                    } catch (i) {
                                        return l(n, e, i), !1;
                                    }
                                }
                            return !0;
                        };
                    }, be = function (n, a) {
                        return function (e, t) {
                            n(e, t) && a(e, t);
                        };
                    }, ye = function (n) {
                        return function (e) {
                            var t = n.getModuleDefinition(e.modulePath);
                            return t && t.displayName || e.modulePath;
                        };
                    }, _e = function (r) {
                        return function (e) {
                            var t = e.rule, n = e.event, a = r.getModuleDefinition(n.modulePath).name;
                            return {
                                $type: r.getModuleExtensionName(n.modulePath) + '.' + a,
                                $rule: {
                                    id: t.id,
                                    name: t.name
                                }
                            };
                        };
                    }, Se = function (s, c, l, u, d, p) {
                        return function (n, e) {
                            var a = e.rule, t = e.event;
                            t.settings = t.settings || {};
                            try {
                                var r = d(e);
                                c(t, null, [function i(e) {
                                        var t = l(r, e);
                                        n(function () {
                                            s(t, a);
                                        });
                                    }]);
                            } catch (o) {
                                p.error(u(t, a, o));
                            }
                        };
                    }, Te = function (r, i, o, s) {
                        return function (e, t, n) {
                            var a = i(e);
                            o.error(r(a, t.name, n)), s('ruleActionFailed', {
                                rule: t,
                                action: e
                            });
                        };
                    }, Ce = function (r, i, o, s) {
                        return function (e, t, n) {
                            var a = i(e);
                            o.error(r(a, t.name, n)), s('ruleConditionFailed', {
                                rule: t,
                                condition: e
                            });
                        };
                    }, we = function (a, r, i) {
                        return function (e, t) {
                            var n = a(e);
                            r.log('Condition "' + n + '" for rule "' + t.name + '" was not met.'), i('ruleConditionFailed', {
                                rule: t,
                                condition: e
                            });
                        };
                    }, ke = function (t, n) {
                        return function (e) {
                            t.log('Rule "' + e.name + '" fired.'), n('ruleCompleted', { rule: e });
                        };
                    }, Ie = function (i, o, s) {
                        return function (e, t) {
                            var n;
                            if (e.actions)
                                for (var a = 0; a < e.actions.length; a++) {
                                    n = e.actions[a];
                                    try {
                                        i(n, t, [t]);
                                    } catch (r) {
                                        return void o(n, e, r);
                                    }
                                }
                            s(e);
                        };
                    }, Pe = function (n, a, r, i) {
                        return function (e, t) {
                            i('ruleTriggered', { rule: t }), n ? r(t, e) : a(t, e);
                        };
                    }, De = function (e, t, n) {
                        return 'Failed to execute "' + e + '" for "' + t + '" rule. ' + n.message + (n.stack ? '\n' + n.stack : '');
                    }, Ee = function (e, t) {
                        return t && !e.negate || !t && e.negate;
                    }, Ae = [], xe = !1, Ne = function (e) {
                        xe ? e() : Ae.push(e);
                    }, Oe = function (e, t, n) {
                        e(t).forEach(function (e) {
                            n(Ne, e);
                        }), xe = !0, Ae.forEach(function (e) {
                            e();
                        }), Ae = [];
                    }, Me = function (e) {
                        if (e || (e = new Error('The extension triggered an error, but no error information was provided.')), !(e instanceof Error)) {
                            var t = 'object' == typeof e ? JSON.stringify(e) : String(e);
                            e = new Error(t);
                        }
                        return e;
                    }, Le = Object.getOwnPropertySymbols, Re = Object.prototype.hasOwnProperty, je = Object.prototype.propertyIsEnumerable, Ve = h() ? Object.assign : function (e) {
                        for (var t, n, a = f(e), r = 1; r < arguments.length; r++) {
                            for (var i in t = Object(arguments[r]))
                                Re.call(t, i) && (a[i] = t[i]);
                            if (Le) {
                                n = Le(t);
                                for (var o = 0; o < n.length; o++)
                                    je.call(t, n[o]) && (a[n[o]] = t[n[o]]);
                            }
                        }
                        return a;
                    }, Be = function (e, t) {
                        return Ve(t = t || {}, e), t.hasOwnProperty('type') || Object.defineProperty(t, 'type', {
                            get: function () {
                                return N.deprecation('Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead.'), t.$type;
                            }
                        }), t;
                    }, Fe = function (c, l) {
                        return function (e, t) {
                            var n = c[e];
                            if (n) {
                                var a = n.modules;
                                if (a)
                                    for (var r = Object.keys(a), i = 0; i < r.length; i++) {
                                        var o = r[i], s = a[o];
                                        if (s.shared && s.name === t)
                                            return l.getModuleExports(o);
                                    }
                            }
                        };
                    }, Ue = function (e, t) {
                        return function () {
                            return t ? e(t) : {};
                        };
                    }, He = function (n, a) {
                        return function (e) {
                            if (a) {
                                var t = e.split('.');
                                t.splice(t.length - 1 || 1, 0, 'min'), e = t.join('.');
                            }
                            return n + e;
                        };
                    }, qe = '.js', $e = function (e) {
                        return e.substr(0, e.lastIndexOf('/'));
                    }, Ge = function (e, t) {
                        return -1 !== e.indexOf(t, e.length - t.length);
                    }, Ye = function (e, t) {
                        Ge(t, qe) || (t += qe);
                        var n = t.split('/'), a = $e(e).split('/');
                        return n.forEach(function (e) {
                            e && '.' !== e && ('..' === e ? a.length && a.pop() : a.push(e));
                        }), a.join('/');
                    }, Ke = document, Qe = function (n, a) {
                        return new de(function (e, t) {
                            a.onload = function () {
                                e(a);
                            }, a.onerror = function () {
                                t(new Error('Failed to load script ' + n));
                            };
                        });
                    }, ze = function (e) {
                        var t = document.createElement('script');
                        t.src = e, t.async = !0;
                        var n = Qe(e, t);
                        return document.getElementsByTagName('head')[0].appendChild(t), n;
                    }, We = function (e, t, n, a) {
                        t = t || '&', n = n || '=';
                        var r = {};
                        if ('string' != typeof e || 0 === e.length)
                            return r;
                        var i = /\+/g;
                        e = e.split(t);
                        var o = 1000;
                        a && 'number' == typeof a.maxKeys && (o = a.maxKeys);
                        var s = e.length;
                        0 < o && o < s && (s = o);
                        for (var c = 0; c < s; ++c) {
                            var l, u, d, p, f = e[c].replace(i, '%20'), h = f.indexOf(n);
                            0 <= h ? (l = f.substr(0, h), u = f.substr(h + 1)) : (l = f, u = ''), d = decodeURIComponent(l), p = decodeURIComponent(u), g(r, d) ? Array.isArray(r[d]) ? r[d].push(p) : r[d] = [
                                r[d],
                                p
                            ] : r[d] = p;
                        }
                        return r;
                    }, Je = function (e) {
                        switch (typeof e) {
                        case 'string':
                            return e;
                        case 'boolean':
                            return e ? 'true' : 'false';
                        case 'number':
                            return isFinite(e) ? e : '';
                        default:
                            return '';
                        }
                    }, Xe = function (n, a, r, e) {
                        return a = a || '&', r = r || '=', null === n && (n = undefined), 'object' == typeof n ? Object.keys(n).map(function (e) {
                            var t = encodeURIComponent(Je(e)) + r;
                            return Array.isArray(n[e]) ? n[e].map(function (e) {
                                return t + encodeURIComponent(Je(e));
                            }).join(a) : t + encodeURIComponent(Je(n[e]));
                        }).join(a) : e ? encodeURIComponent(Je(e)) + r + encodeURIComponent(Je(n)) : '';
                    }, Ze = t(function (e, t) {
                        t.decode = t.parse = We, t.encode = t.stringify = Xe;
                    }), et = '@adobe/reactor-', tt = {
                        cookie: L,
                        document: Ke,
                        'load-script': ze,
                        'object-assign': Ve,
                        promise: de,
                        'query-string': {
                            parse: function (e) {
                                return 'string' == typeof e && (e = e.trim().replace(/^[?#&]/, '')), Ze.parse(e);
                            },
                            stringify: function (e) {
                                return Ze.stringify(e);
                            }
                        },
                        window: R
                    }, nt = function (a) {
                        return function (e) {
                            if (0 === e.indexOf(et)) {
                                var t = e.substr(et.length), n = tt[t];
                                if (n)
                                    return n;
                            }
                            if (0 === e.indexOf('./') || 0 === e.indexOf('../'))
                                return a(e);
                            throw new Error('Cannot resolve module "' + e + '".');
                        };
                    }, at = function (e, o, s, c, l) {
                        var u = e.extensions, d = e.buildInfo, p = e.property.settings;
                        if (u) {
                            var f = Fe(u, o);
                            Object.keys(u).forEach(function (a) {
                                var r = u[a], e = Ue(c, r.settings);
                                if (r.modules) {
                                    var t = N.createPrefixedLogger(r.displayName), n = He(r.hostedLibFilesBaseUrl, d.minified), i = {
                                            buildInfo: d,
                                            getDataElementValue: l,
                                            getExtensionSettings: e,
                                            getHostedLibFileUrl: n,
                                            getSharedModule: f,
                                            logger: t,
                                            propertySettings: p,
                                            replaceTokens: c,
                                            onDebugChanged: s.onDebugChanged,
                                            get debugEnabled() {
                                                return s.getDebugEnabled();
                                            }
                                        };
                                    Object.keys(r.modules).forEach(function (n) {
                                        var e = r.modules[n], t = nt(function (e) {
                                                var t = Ye(n, e);
                                                return o.getModuleExports(t);
                                            });
                                        o.registerModule(n, e, a, t, i);
                                    });
                                }
                            }), o.hydrateCache();
                        }
                        return o;
                    }, rt = function (e, t, n, a, r) {
                        var i = N.createPrefixedLogger('Custom Script');
                        e.track = function (e) {
                            N.log('"' + e + '" does not match any direct call identifiers.');
                        }, e.getVisitorId = function () {
                            return null;
                        }, e.property = { name: t.property.name }, e.company = t.company, e.buildInfo = t.buildInfo, e.logger = i, e.notify = function (e, t) {
                            switch (N.deprecation('_satellite.notify is deprecated. Please use the `_satellite.logger` API.'), t) {
                            case 3:
                                i.info(e);
                                break;
                            case 4:
                                i.warn(e);
                                break;
                            case 5:
                                i.error(e);
                                break;
                            default:
                                i.log(e);
                            }
                        }, e.getVar = a, e.setVar = r, e.setCookie = function (e, t, n) {
                            var a = '', r = {};
                            n && (a = ', { expires: ' + n + ' }', r.expires = n);
                            var i = '_satellite.setCookie is deprecated. Please use _satellite.cookie.set("' + e + '", "' + t + '"' + a + ').';
                            N.deprecation(i), L.set(e, t, r);
                        }, e.readCookie = function (e) {
                            return N.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("' + e + '").'), L.get(e);
                        }, e.removeCookie = function (e) {
                            N.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("' + e + '").'), L.remove(e);
                        }, e.cookie = L, e.pageBottom = function () {
                        }, e.setDebug = n;
                        var o = !1;
                        Object.defineProperty(e, '_container', {
                            get: function () {
                                return o || (N.warn('_satellite._container may change at any time and should only be used for debugging.'), o = !0), t;
                            }
                        });
                    }, it = window._satellite;
                if (it && !window.__satelliteLoaded) {
                    window.__satelliteLoaded = !0;
                    var ot = it.container;
                    delete it.container;
                    var st = ot.property.settings.undefinedVarsReturnEmpty, ct = ot.property.settings.ruleComponentSequencingEnabled, lt = ot.dataElements || {};
                    W.migrateCookieData(lt);
                    var ut, dt = function (e) {
                            return lt[e];
                        }, pt = re(), ft = X(pt, dt, function () {
                            return ut.apply(null, arguments);
                        }, st), ht = {}, gt = ce(ht), mt = ne(ht, dt), vt = te(ht, dt, ft);
                    ut = se(mt, vt, st);
                    var bt = b(V('localStorage'), N);
                    rt(it, ot, bt.setDebugEnabled, vt, gt), at(ot, pt, bt, ut, ft);
                    var yt = oe(it), _t = _(pt, ut), St = ye(pt), Tt = we(St, N, yt), Ct = Ce(De, St, N, yt), wt = Te(De, St, N, yt), kt = ke(N, yt), It = Se(Pe(ct, be(ve(_t, Ee, Tt, Ct), Ie(_t, wt, kt)), ge(fe(_t, Me, Ee, Ct, Tt), pe(_t, Me, wt), kt), yt), _t, Be, De, _e(pt), N);
                    Oe(m, ot.rules || [], It);
                }
                return it;
            }
            console.warn('Adobe Launch is unsupported in IE 9 and below.');
        }();
        _satellite = $___var_28e9f1e66652912f;
    }())
}