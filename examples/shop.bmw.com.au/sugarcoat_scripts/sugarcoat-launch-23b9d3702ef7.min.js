var _satellite;
{
    const $___mock_c74fbeb467519a61 = {};
    (exports => {
        'use strict';
        let isSealed = false;
        class Storage {
            constructor() {
                if (isSealed) {
                    throw new TypeError('Illegal constructor');
                }
            }
            get length() {
                return Object.keys(this).length;
            }
            key(index) {
                const keys = Object.keys(this);
                if (index < 0 || index >= keys.length) {
                    return null;
                }
                return keys[index];
            }
            getItem(key) {
                return Object.prototype.hasOwnProperty.call(this, key) ? this[key] : null;
            }
            setItem(key, value) {
                this[key] = String(value);
            }
            removeItem(key) {
                delete this[key];
            }
            clear() {
                const keys = Object.keys(this);
                for (const key of keys) {
                    delete this[key];
                }
            }
        }
        exports.Storage = {
            configurable: true,
            enumerable: true,
            value: Storage,
            writable: true
        };
        const localStorage = new Storage();
        exports.localStorage = {
            configurable: true,
            enumerable: true,
            get() {
                return localStorage;
            }
        };
        const sessionStorage = new Storage();
        exports.sessionStorage = {
            configurable: true,
            enumerable: true,
            get() {
                return sessionStorage;
            }
        };
        isSealed = true;
    })($___mock_c74fbeb467519a61);
    (function () {
        window._satellite = window._satellite || {}, window._satellite.container = {
            buildInfo: {
                minified: !0,
                buildDate: '2021-07-08T08:00:17Z',
                environment: 'production',
                turbineBuildDate: '2021-04-26T16:54:28Z',
                turbineVersion: '27.1.3'
            },
            dataElements: {
                rsid: {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            try {
                                if (_satellite && 'production' == _satellite.buildInfo.environment) {
                                    var e = '{"shop.bmw.in":"bmwgroup.group.global.all,bmwgroup.bmw.in.market","shop.bmw.co.th":"bmwgroup.group.global.all,bmwgroup.bmw.th.market","online-store.bmw.co.jp":"bmwgroup.group.global.all,bmwgroup.bmw.jp.market","shop.mini.in":"bmwgroup.group.global.all,bmwgroup.mini.in.market","onlinestore.bmw.co.nz":"bmwgroup.group.global.all,bmwgroup.bmw.nz.market","shop.bmw.com.my":"bmwgroup.group.global.all,bmwgroup.bmw.my.market","shop.bmw.com.au":"bmwgroup.group.global.all,bmwgroup.bmw.au.market","accessbybmw.com.sg":"bmwgroup.group.global.all"}';
                                    return (e = JSON.parse(e))[window.location.hostname] || 'bmwgroup.group.global.test';
                                }
                                var t = '{"shop.bmw.in":"bmwgroup.group.global.test","shop.bmw.co.th":"bmwgroup.group.global.test","online-store.bmw.co.jp":"bmwgroup.group.global.test","shop.mini.in":"bmwgroup.group.global.test","onlinestore.bmw.co.nz":"bmwgroup.group.global.test","shop.bmw.com.my":"bmwgroup.group.global.test","shop.bmw.com.au":"bmwgroup.group.global.test","accessbybmw.com.sg":"bmwgroup.group.global.test"}';
                                return (t = JSON.parse(t))[window.location.hostname] || 'bmwgroup.group.global.test';
                            } catch (r) {
                                _satellite.logger.error(r);
                            }
                        }
                    }
                },
                tracy_staging: {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            try {
                                var e = [
                                        { 'stock > home': '{"version":["javascript: bmw group 2.0 | 2021-02-01"],"account":["BMW Group 2020"],"component":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'","componentName":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"},"category":{"primaryCategory":"stock locator","subCategory1":"javascript: parameter.stocklocatorType + \' stock locator\'","componentType":"standalone"},"attributes":{"componentVersion":"1.0","touchpoint":"web"}}],"dealer":[{"dealerInfo":{"dealerGroupName":"datalayer field empty","dealerGroupID":"datalayer field empty","dealerOutletName":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? parameter.dealer[0].dealerOutletName : \'datalayer field empty\'","dealerOutletID":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletId) ? parameter.dealer[0].dealerOutletId : \'datalayer field empty\'"},"attributes":{"selectionState":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? \'selected\' : \'unselected\'"}}],"user":[{"profile":[{"profileInfo":{"profileID":"datalayer field empty","language":"javascript: \'datalayer field empty\'","returningStatus":"javascript: \'datalayer field empty\'","type":"javascript: parameter.customerType"},"address":{"stateProvince":"datalayer field empty","country":"datalayer field empty"},"attributes":{"loggedInStatus":"javascript: parameter.customerLoginStatus"}}],"segment":"javascript: \'datalayer field empty\'"}],"page":{"pageInfo":{"pageID":"javascript: \'stock > \' + parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator > \' + \'home\'","pageName":"stock > home","destinationURL":"javascript: window.location.href","referringURL":"javascript: (parameter && parameter.referringUrl) ? parameter.referringUrl : document.referrer","timeStamp":"javascript: +new Date()","version":"1.0","language":"javascript: parameter.lang","geoRegion":"javascript: parameter.countryCode","author":"javascript: parameter.author","sysEnv":"javascript: parameter.env","variant":"javascript: parameter.pageVariant"},"category":{"primaryCategory":"javascript: parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"vehicle","subCategory2":"datalayer field empty","pageType":"overview"},"attributes":{"currencyCode":"javascript: parameter.currency","timeZone":"javascript: new Date().getUTCHours()+\':\'+new Date().getUTCMinutes()+\':\'+new Date().getUTCSeconds()","linkedProduct":[{"productInfo":{"productID":"datalayer field empty"}}],"brand":"javascript: parameter.brand"}}}' },
                                        { 'stock > search results': '{"version":["javascript: bmw group 2.0 | 2021-02-01"],"account":["BMW Group 2020"],"component":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","componentName":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"},"category":{"primaryCategory":"stock locator","subCategory1":"javascript: parameter.stocklocatorType + \' stock locator\'","componentType":"standalone"},"attributes":{"componentVersion":"1.0","touchpoint":"web"}}],"dealer":[{"dealerInfo":{"dealerGroupName":"datalayer field empty","dealerGroupID":"datalayer field empty","dealerOutletName":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? parameter.dealer[0].dealerOutletName : \'datalayer field empty\'","dealerOutletID":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletId) ? parameter.dealer[0].dealerOutletId : \'datalayer field empty\'"},"attributes":{"selectionState":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? \'selected\' : \'unselected\'"}}],"user":[{"profile":[{"profileInfo":{"profileID":"datalayer field empty","language":"javascript: \'datalayer field empty\'","returningStatus":"javascript: \'datalayer field empty\'","type":"javascript: parameter.customerType"},"address":{"stateProvince":"datalayer field empty","country":"datalayer field empty"},"attributes":{"loggedInStatus":"javascript: parameter.customerLoginStatus"}}],"segment":"javascript: \'datalayer field empty\'"}],"page":{"pageInfo":{"pageID":"javascript: \'stock > \' + parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator > \' + \'search results\'","pageName":"stock > search results","destinationURL":"javascript: window.location.href","referringURL":"javascript: (parameter && parameter.referringUrl) ? parameter.referringUrl : document.referrer","timeStamp":"javascript: +new Date()","version":"1.0","language":"javascript: parameter.lang","geoRegion":"javascript: parameter.countryCode","author":"javascript: parameter.author","sysEnv":"javascript: parameter.env","variant":"javascript: parameter.pageVariant"},"category":{"primaryCategory":"javascript: parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"vehicle","subCategory2":"datalayer field empty","pageType":"search"},"attributes":{"currencyCode":"javascript: parameter.currency","timeZone":"javascript: new Date().getUTCHours()+\':\'+new Date().getUTCMinutes()+\':\'+new Date().getUTCSeconds()","linkedProduct":[{"productInfo":{"productID":"datalayer field empty"}}],"brand":"javascript: parameter.brand"}}}' },
                                        { 'stock > vehicle details': '{"account":["BMW Group 2020"],"version":["javascript: bmw group 2.0 | 2021-02-01"],"component":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","componentName":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"},"category":{"primaryCategory":"stock locator","subCategory1":"javascript: parameter.stocklocatorType + \' stock locator\'","componentType":"standalone"},"attributes":{"componentVersion":"1.0","touchpoint":"web"}}],"dealer":[{"dealerInfo":{"dealerGroupName":"datalayer field empty","dealerGroupID":"datalayer field empty","dealerOutletName":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? parameter.dealer[0].dealerOutletName : \'datalayer field empty\'","dealerOutletID":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletId) ? parameter.dealer[0].dealerOutletId : \'datalayer field empty\'"},"attributes":{"selectionState":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? \'selected\' : \'unselected\'"}}],"user":[{"profile":[{"profileInfo":{"profileID":"datalayer field empty","language":"javascript: \'datalayer field empty\'","returningStatus":"javascript: \'datalayer field empty\'","type":"javascript: parameter.customerType"},"address":{"stateProvince":"datalayer field empty","country":"datalayer field empty"},"attributes":{"loggedInStatus":"javascript: parameter.customerLoginStatus"}}],"segment":"javascript: \'datalayer field empty\'"}],"page":{"pageInfo":{"pageID":"javascript: \'stock > \' + parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator > \' + \'vehicle details\'","pageName":"stock > vehicle details","destinationURL":"javascript: window.location.href","referringURL":"javascript: (parameter && parameter.referringUrl) ? parameter.referringUrl : document.referrer","timeStamp":"javascript: +new Date()","version":"1.0","language":"javascript: parameter.lang","geoRegion":"javascript: parameter.countryCode","author":"javascript: parameter.author","sysEnv":"javascript: parameter.env","variant":"javascript: parameter.pageVariant"},"category":{"primaryCategory":"javascript: parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"vehicle","subCategory2":"javascript: \'datalayer field empty\'","pageType":"product details"},"attributes":{"currencyCode":"javascript: parameter.currency","timeZone":"javascript: new Date().getUTCHours()+\':\'+new Date().getUTCMinutes()+\':\'+new Date().getUTCSeconds()","linkedProduct":[{"productInfo":{"productID":"datalayer field empty"}}],"brand":"javascript: parameter.brand"}}}' },
                                        { 'stock > customPage': '{"account":["BMW Group 2020"],"component":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","componentName":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"},"category":{"primaryCategory":"stock locator","subCategory1":"javascript: parameter.stocklocatorType + \' stock locator\'","componentType":"standalone"},"attributes":{"componentVersion":"1.0","touchpoint":"web"}}],"version":["javascript: bmw group 2.0 | 2021-05-21"],"dealer":[{"dealerInfo":{"dealerGroupName":"datalayer field empty","dealerGroupID":"datalayer field empty","dealerOutletName":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? parameter.dealer[0].dealerOutletName : \'datalayer field empty\'","dealerOutletID":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletId) ? parameter.dealer[0].dealerOutletId : \'datalayer field empty\'"},"attributes":{"selectionState":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? \'selected\' : \'unselected\'"}}],"user":[{"profile":[{"profileInfo":{"profileID":"datalayer field empty","language":"javascript: \'datalayer field empty\'","returningStatus":"javascript: \'datalayer field empty\'","type":"javascript: parameter.customerType"},"address":{"stateProvince":"datalayer field empty","country":"datalayer field empty"},"attributes":{"loggedInStatus":"javascript: parameter.customerLoginStatus"}}],"segment":"javascript: \'datalayer field empty\'"}],"page":{"pageInfo":{"pageID":"javascript: \'stock > \' + parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator > \' + parameter.customPage","pageName":"javascript: \'stock > \' + parameter.customPage","destinationURL":"javascript: window.location.href","referringURL":"javascript: (parameter && parameter.referringUrl) ? parameter.referringUrl : document.referrer","timeStamp":"javascript: +new Date()","version":"1.0","language":"javascript: parameter.lang","geoRegion":"javascript: parameter.countryCode","author":"javascript: parameter.author","sysEnv":"javascript: parameter.env","variant":"javascript: parameter.pageVariant"},"category":{"primaryCategory":"javascript: parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty","subCategory2":"datalayer field empty","pageType":"datalayer field empty"},"attributes":{"currencyCode":"javascript: parameter.currency","timeZone":"javascript: new Date().getUTCHours()+\':\'+new Date().getUTCMinutes()+\':\'+new Date().getUTCSeconds()","linkedProduct":[{"productInfo":{"productID":"datalayer field empty"}}],"brand":"javascript: parameter.brand"}}}' },
                                        { 'stock > customProduct': '{"product":[{"productInfo":{"productID":"javascript: parameter.productID","productName":"javascript: parameter.productName","color":"javascript: parameter.color","manufacturer":"javascript: parameter.brand"},"category":{"primaryCategory":"javascript: parameter.stocklocatorType","subCategory1":"build to stock","subCategory2":"datalayer field empty","productType":"javascript: parameter.productType"},"attributes":{"mmdr":"javascript: parameter.mmdr","modelCode":"javascript: parameter.modelCode","productionYear":"javascript: parameter.productionYear","yearOfRegistration":"javascript: parameter.yearOfRegistration","motorization":"javascript: parameter.gearing","configID":"datalayer field empty","configLink":"datalayer field empty","fin":{"deposit":"datalayer field empty","monthlyPayment":"datalayer field empty","term":"datalayer field empty","mileage":"datalayer field empty"},"fupo":{"registrationSource":"datalayer field empty","mappingStatus":"datalayer field empty","remoteServices":"datalayer field empty","tokenValidity":"datalayer field empty","offerStatus":"datalayer field empty","transactionType":"datalayer field empty"},"bodyType":"javascript: parameter.bodyType","hybridVersion":"javascript: parameter.hybridVersion","fuelType":"javascript: parameter.fuelType","gearing":"javascript: parameter.gearing","vehicleStatus":"javascript: parameter.vehicleStatus","series":"javascript: parameter.series"}}]}' },
                                        { 'stock > inbound': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"javascript: \'stock > \' + parameter.effect","eventName":"interaction","eventAction":"internal click","type":"javascript: parameter.type","cause":"default"},"category":{"primaryCategory":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > outbound': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"javascript: \'stock > \' + parameter.effect","eventName":"interaction","eventAction":"outbound click","type":"javascript: parameter.type","cause":"default"},"category":{"primaryCategory":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > error': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"javascript: \'stock > \' + parameter.errorMsg","eventAction":"javascript: parameter.userAction","type":"javascript: parameter.errorType","cause":"javascript: parameter.errorCause"},"category":{"primaryCategory":"javascript: \'stock > \' + parameter.errorMsg","subCategory1":"javascript: parameter.errorCode"},"attributes":{"requestedURL":"javascript: parameter.errorURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > filter search applied': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > filter search applied","eventName":"interaction","eventAction":"pageload","type":"vehicle","cause":"default"},"category":{"primaryCategory":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > form start intention': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > form start intention","eventName":"form","eventAction":"form fill","type":"javascript: (parameter && parameter.formType && (parameter.formType.toLowerCase() == \\"fs rfo\\" || parameter.formType.length == 3)) ? parameter.formType : \'datalayer field empty\'","cause":"automatic"},"category":{"primaryCategory":"local form","subCategory1":"javascript: parameter.formSubtype"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > form finish intention': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > form finish intention","eventName":"form","eventAction":"internal click","type":"javascript: (parameter && parameter.formType && (parameter.formType.toLowerCase() == \\"fs rfo\\" || parameter.formType.length == 3)) ? parameter.formType : \'datalayer field empty\'","cause":"automatic"},"category":{"primaryCategory":"local form","subCategory1":"javascript: parameter.formSubtype"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > form started': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > form started","eventName":"form","eventAction":"pageload","type":"javascript: (parameter && parameter.formType && (parameter.formType.toLowerCase() == \\"fs rfo\\" || parameter.formType.length == 3)) ? parameter.formType : \'datalayer field empty\'","cause":"automatic"},"category":{"primaryCategory":"local form","subCategory1":"javascript: parameter.formSubtype"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > form finished': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > form finished","eventName":"form","eventAction":"pageload","type":"javascript: (parameter && parameter.formType && (parameter.formType.toLowerCase() == \\"fs rfo\\" || parameter.formType.length == 3)) ? parameter.formType : \'datalayer field empty\'","cause":"automatic"},"category":{"primaryCategory":"local form","subCategory1":"javascript: parameter.formSubtype"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > packageOptions': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"javascript: \'stock > \' + parameter.package + \' options\'","eventName":"interaction","eventAction":"javascript: parameter.eventAction","type":"ux","cause":"default"},"category":{"primaryCategory":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > sort': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"javascript: \'stock > \' + parameter.sortType","eventName":"interaction","eventAction":"sort","type":"ux","cause":"default"},"category":{"primaryCategory":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > error page': '{"account":["BMW Group 2020"],"version":["javascript: bmw group 2.0 | 2021-02-17"],"component":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","componentName":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"},"category":{"primaryCategory":"stock locator","subCategory1":"javascript: parameter.stocklocatorType + \' stock locator\'","componentType":"standalone"},"attributes":{"componentVersion":"1.0","touchpoint":"web"}}],"dealer":[{"dealerInfo":{"dealerGroupName":"datalayer field empty","dealerGroupID":"datalayer field empty","dealerOutletName":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? parameter.dealer[0].dealerOutletName : \'datalayer field empty\'","dealerOutletID":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletId) ? parameter.dealer[0].dealerOutletId : \'datalayer field empty\'"},"attributes":{"selectionState":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? \'selected\' : \'unselected\'"}}],"user":[{"profile":[{"profileInfo":{"profileID":"datalayer field empty","language":"javascript: \'datalayer field empty\'","returningStatus":"javascript: \'datalayer field empty\'","type":"javascript: parameter.customerType"},"address":{"stateProvince":"datalayer field empty","country":"datalayer field empty"},"attributes":{"loggedInStatus":"javascript: parameter.customerLoginStatus"}}],"segment":"javascript: \'datalayer field empty\'"}],"page":{"pageInfo":{"pageID":"javascript: \'stock > \' + parameter.countryCode  + \' \' +  parameter.stocklocatorType + \' stock locator > error page\'","pageName":"javascript: \'stock > error page\'","destinationURL":"javascript: window.location.href","referringURL":"javascript: (parameter && parameter.referringUrl) ? parameter.referringUrl : document.referrer","timeStamp":"javascript: +new Date()","version":"1.0","language":"javascript: parameter.lang","geoRegion":"javascript: parameter.countryCode","author":"javascript: parameter.author","sysEnv":"javascript: parameter.env","variant":"javascript: parameter.pageVariant"},"category":{"primaryCategory":"javascript: parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty","subCategory2":"datalayer field empty","pageType":"error"},"attributes":{"currencyCode":"javascript: parameter.currency","timeZone":"javascript: new Date().getUTCHours()+\':\'+new Date().getUTCMinutes()+\':\'+new Date().getUTCSeconds()","linkedProduct":[{"productInfo":{"productID":"datalayer field empty"}}],"brand":"javascript: parameter.brand"}}}' },
                                        { vehicle: '{"product":[{"productInfo":{"productID":"javascript: parameter.productID","productName":"javascript: parameter.productName","color":"javascript: parameter.color","manufacturer":"javascript: parameter.brand"},"category":{"primaryCategory":"javascript: parameter.stocklocatorType","subCategory1":"build to stock","subCategory2":"datalayer field empty","productType":"javascript: parameter.productType"},"attributes":{"mmdr":"javascript: parameter.mmdr","modelCode":"javascript: parameter.modelCode","productionYear":"javascript: parameter.productionYear","yearOfRegistration":"javascript: parameter.yearOfRegistration","motorization":"javascript: parameter.gearing","configID":"datalayer field empty","configLink":"datalayer field empty","fin":{"deposit":"datalayer field empty","monthlyPayment":"datalayer field empty","term":"datalayer field empty","mileage":"datalayer field empty"},"fupo":{"registrationSource":"datalayer field empty","mappingStatus":"datalayer field empty","remoteServices":"datalayer field empty","tokenValidity":"datalayer field empty","offerStatus":"datalayer field empty","transactionType":"datalayer field empty"},"bodyType":"javascript: parameter.bodyType","hybridVersion":"javascript: parameter.hybridVersion","fuelType":"javascript: parameter.fuelType","gearing":"javascript: parameter.gearing","vehicleStatus":"javascript: parameter.vehicleStatus","series":"javascript: parameter.series"}}]}' },
                                        { 'stock > checkout start': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > checkout start","eventName":"commerce","eventAction":"pageload","type":"javascript: parameter.type","cause":"automatic"},"category":{"primaryCategory":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"javascript: parameter.formSubType"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javasctipt: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > checkout finish': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > checkout finish","eventName":"commerce","eventAction":"pageload","type":"javascript: parameter.type","cause":"automatic"},"category":{"primaryCategory":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"javascript: parameter.formSubType"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > form step trade in': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > form step > trade in","eventName":"form","eventAction":"pageload","type":"javascript: parameter.type","cause":"automatic"},"category":{"primaryCategory":"javascript: parameter.formType","subCategory1":"javascript: parameter.formSubType"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > dealer selection': '{"component":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'","componentName":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"},"category":{"primaryCategory":"stock locator","subCategory1":"javascript: parameter.stocklocatorType + \'  stock locator\'","componentType":"standalone"},"attributes":{"componentVersion":"1.0","touchpoint":"web"}}],"version":["javascript: bmw group 2.0 | 2021-05-26"],"account":["BMW Group 2020"],"dealer":[{"dealerInfo":{"dealerGroupName":"datalayer field empty","dealerGroupID":"datalayer field empty","dealerOutletName":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? parameter.dealer[0].dealerOutletName : \'datalayer field empty\'","dealerOutletID":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletId) ? parameter.dealer[0].dealerOutletId : \'datalayer field empty\'"},"attributes":{"selectionState":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? \'selected\' : \'unselected\'"}}],"user":[{"profile":[{"profileInfo":{"profileID":"datalayer field empty","language":"javascript: \'datalayer field empty\'","returningStatus":"javascript: \'datalayer field empty\'","type":"javascript: parameter.customerType"},"address":{"stateProvince":"datalayer field empty","country":"datalayer field empty"},"attributes":{"loggedInStatus":"javascript: parameter.customerLoginStatus"}}],"segment":"javascript: \'datalayer field empty\'"}],"page":{"pageInfo":{"pageID":"javascript: \'stock > \' + parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator > \' + \'dealer selection\'","pageName":"stock > dealer selection","destinationURL":"javascript: window.location.href","referringURL":"javascript: (parameter && parameter.referringUrl) ? parameter.referringUrl : document.referrer","timeStamp":"javascript: +new Date()","version":"1.0","language":"javascript: parameter.lang","geoRegion":"javascript: parameter.countryCode","author":"javascript: parameter.author","sysEnv":"javascript: parameter.env","variant":"virtual page"},"category":{"primaryCategory":"javascript: parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"vehicle","subCategory2":"datalayer field empty","pageType":"javascript: \'datalayer field empty\'"},"attributes":{"currencyCode":"javascript: parameter.currency","timeZone":"javascript: new Date().getUTCHours()+\':\'+new Date().getUTCMinutes()+\':\'+new Date().getUTCSeconds()","linkedProduct":[{"productInfo":{"productID":"datalayer field empty"}}],"brand":"javascript: parameter.brand"}}}' },
                                        { 'stock > user interaction': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"javascript: \'stock > \' + parameter.formType","eventName":"interaction","eventAction":"pageload","type":"javascript: parameter.formType","cause":"automatic"},"category":{"primaryCategory":"local form","subCategory1":"javascript: parameter.formSubtype"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' }
                                    ], t = {};
                                for (var r in e)
                                    if (e[r]) {
                                        var a = Object.keys(e[r])[0], n = JSON.parse(e[r][a]);
                                        t[a] = n;
                                    }
                                return t;
                            } catch (o) {
                                _satellite.logger.error('error_in_datalayer', o);
                            }
                        }
                    }
                },
                tracy_prod: {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            try {
                                var e = [
                                        { 'stock > home': '{"version":["javascript: bmw group 2.0 | 2021-02-01"],"account":["BMW Group 2020"],"component":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'","componentName":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"},"category":{"primaryCategory":"stock locator","subCategory1":"javascript: parameter.stocklocatorType + \' stock locator\'","componentType":"standalone"},"attributes":{"componentVersion":"1.0","touchpoint":"web"}}],"dealer":[{"dealerInfo":{"dealerGroupName":"datalayer field empty","dealerGroupID":"datalayer field empty","dealerOutletName":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? parameter.dealer[0].dealerOutletName : \'datalayer field empty\'","dealerOutletID":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletId) ? parameter.dealer[0].dealerOutletId : \'datalayer field empty\'"},"attributes":{"selectionState":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? \'selected\' : \'unselected\'"}}],"user":[{"profile":[{"profileInfo":{"profileID":"datalayer field empty","language":"javascript: \'datalayer field empty\'","returningStatus":"javascript: \'datalayer field empty\'","type":"javascript: parameter.customerType"},"address":{"stateProvince":"datalayer field empty","country":"datalayer field empty"},"attributes":{"loggedInStatus":"javascript: parameter.customerLoginStatus"}}],"segment":"javascript: \'datalayer field empty\'"}],"page":{"pageInfo":{"pageID":"javascript: \'stock > \' + parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator > \' + \'home\'","pageName":"stock > home","destinationURL":"javascript: window.location.href","referringURL":"javascript: (parameter && parameter.referringUrl) ? parameter.referringUrl : document.referrer","timeStamp":"javascript: +new Date()","version":"1.0","language":"javascript: parameter.lang","geoRegion":"javascript: parameter.countryCode","author":"javascript: parameter.author","sysEnv":"javascript: parameter.env","variant":"javascript: parameter.pageVariant"},"category":{"primaryCategory":"javascript: parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"vehicle","subCategory2":"datalayer field empty","pageType":"overview"},"attributes":{"currencyCode":"javascript: parameter.currency","timeZone":"javascript: new Date().getUTCHours()+\':\'+new Date().getUTCMinutes()+\':\'+new Date().getUTCSeconds()","linkedProduct":[{"productInfo":{"productID":"datalayer field empty"}}],"brand":"javascript: parameter.brand"}}}' },
                                        { 'stock > search results': '{"version":["javascript: bmw group 2.0 | 2021-02-01"],"account":["BMW Group 2020"],"component":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","componentName":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"},"category":{"primaryCategory":"stock locator","subCategory1":"javascript: parameter.stocklocatorType + \' stock locator\'","componentType":"standalone"},"attributes":{"componentVersion":"1.0","touchpoint":"web"}}],"dealer":[{"dealerInfo":{"dealerGroupName":"datalayer field empty","dealerGroupID":"datalayer field empty","dealerOutletName":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? parameter.dealer[0].dealerOutletName : \'datalayer field empty\'","dealerOutletID":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletId) ? parameter.dealer[0].dealerOutletId : \'datalayer field empty\'"},"attributes":{"selectionState":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? \'selected\' : \'unselected\'"}}],"user":[{"profile":[{"profileInfo":{"profileID":"datalayer field empty","language":"javascript: \'datalayer field empty\'","returningStatus":"javascript: \'datalayer field empty\'","type":"javascript: parameter.customerType"},"address":{"stateProvince":"datalayer field empty","country":"datalayer field empty"},"attributes":{"loggedInStatus":"javascript: parameter.customerLoginStatus"}}],"segment":"javascript: \'datalayer field empty\'"}],"page":{"pageInfo":{"pageID":"javascript: \'stock > \' + parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator > \' + \'search results\'","pageName":"stock > search results","destinationURL":"javascript: window.location.href","referringURL":"javascript: (parameter && parameter.referringUrl) ? parameter.referringUrl : document.referrer","timeStamp":"javascript: +new Date()","version":"1.0","language":"javascript: parameter.lang","geoRegion":"javascript: parameter.countryCode","author":"javascript: parameter.author","sysEnv":"javascript: parameter.env","variant":"javascript: parameter.pageVariant"},"category":{"primaryCategory":"javascript: parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"vehicle","subCategory2":"datalayer field empty","pageType":"search"},"attributes":{"currencyCode":"javascript: parameter.currency","timeZone":"javascript: new Date().getUTCHours()+\':\'+new Date().getUTCMinutes()+\':\'+new Date().getUTCSeconds()","linkedProduct":[{"productInfo":{"productID":"datalayer field empty"}}],"brand":"javascript: parameter.brand"}}}' },
                                        { 'stock > vehicle details': '{"account":["BMW Group 2020"],"version":["javascript: bmw group 2.0 | 2021-02-01"],"component":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","componentName":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"},"category":{"primaryCategory":"stock locator","subCategory1":"javascript: parameter.stocklocatorType + \' stock locator\'","componentType":"standalone"},"attributes":{"componentVersion":"1.0","touchpoint":"web"}}],"dealer":[{"dealerInfo":{"dealerGroupName":"datalayer field empty","dealerGroupID":"datalayer field empty","dealerOutletName":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? parameter.dealer[0].dealerOutletName : \'datalayer field empty\'","dealerOutletID":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletId) ? parameter.dealer[0].dealerOutletId : \'datalayer field empty\'"},"attributes":{"selectionState":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? \'selected\' : \'unselected\'"}}],"user":[{"profile":[{"profileInfo":{"profileID":"datalayer field empty","language":"javascript: \'datalayer field empty\'","returningStatus":"javascript: \'datalayer field empty\'","type":"javascript: parameter.customerType"},"address":{"stateProvince":"datalayer field empty","country":"datalayer field empty"},"attributes":{"loggedInStatus":"javascript: parameter.customerLoginStatus"}}],"segment":"javascript: \'datalayer field empty\'"}],"page":{"pageInfo":{"pageID":"javascript: \'stock > \' + parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator > \' + \'vehicle details\'","pageName":"stock > vehicle details","destinationURL":"javascript: window.location.href","referringURL":"javascript: (parameter && parameter.referringUrl) ? parameter.referringUrl : document.referrer","timeStamp":"javascript: +new Date()","version":"1.0","language":"javascript: parameter.lang","geoRegion":"javascript: parameter.countryCode","author":"javascript: parameter.author","sysEnv":"javascript: parameter.env","variant":"javascript: parameter.pageVariant"},"category":{"primaryCategory":"javascript: parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"vehicle","subCategory2":"javascript: \'datalayer field empty\'","pageType":"product details"},"attributes":{"currencyCode":"javascript: parameter.currency","timeZone":"javascript: new Date().getUTCHours()+\':\'+new Date().getUTCMinutes()+\':\'+new Date().getUTCSeconds()","linkedProduct":[{"productInfo":{"productID":"datalayer field empty"}}],"brand":"javascript: parameter.brand"}}}' },
                                        { 'stock > customPage': '{"account":["BMW Group 2020"],"component":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","componentName":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"},"category":{"primaryCategory":"stock locator","subCategory1":"javascript: parameter.stocklocatorType + \' stock locator\'","componentType":"standalone"},"attributes":{"componentVersion":"1.0","touchpoint":"web"}}],"version":["javascript: bmw group 2.0 | 2021-05-21"],"dealer":[{"dealerInfo":{"dealerGroupName":"datalayer field empty","dealerGroupID":"datalayer field empty","dealerOutletName":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? parameter.dealer[0].dealerOutletName : \'datalayer field empty\'","dealerOutletID":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletId) ? parameter.dealer[0].dealerOutletId : \'datalayer field empty\'"},"attributes":{"selectionState":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? \'selected\' : \'unselected\'"}}],"user":[{"profile":[{"profileInfo":{"profileID":"datalayer field empty","language":"javascript: \'datalayer field empty\'","returningStatus":"javascript: \'datalayer field empty\'","type":"javascript: parameter.customerType"},"address":{"stateProvince":"datalayer field empty","country":"datalayer field empty"},"attributes":{"loggedInStatus":"javascript: parameter.customerLoginStatus"}}],"segment":"javascript: \'datalayer field empty\'"}],"page":{"pageInfo":{"pageID":"javascript: \'stock > \' + parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator > \' + parameter.customPage","pageName":"javascript: \'stock > \' + parameter.customPage","destinationURL":"javascript: window.location.href","referringURL":"javascript: (parameter && parameter.referringUrl) ? parameter.referringUrl : document.referrer","timeStamp":"javascript: +new Date()","version":"1.0","language":"javascript: parameter.lang","geoRegion":"javascript: parameter.countryCode","author":"javascript: parameter.author","sysEnv":"javascript: parameter.env","variant":"javascript: parameter.pageVariant"},"category":{"primaryCategory":"javascript: parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty","subCategory2":"datalayer field empty","pageType":"datalayer field empty"},"attributes":{"currencyCode":"javascript: parameter.currency","timeZone":"javascript: new Date().getUTCHours()+\':\'+new Date().getUTCMinutes()+\':\'+new Date().getUTCSeconds()","linkedProduct":[{"productInfo":{"productID":"datalayer field empty"}}],"brand":"javascript: parameter.brand"}}}' },
                                        { 'stock > inbound': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"javascript: \'stock > \' + parameter.effect","eventName":"interaction","eventAction":"internal click","type":"javascript: parameter.type","cause":"default"},"category":{"primaryCategory":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > outbound': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"javascript: \'stock > \' + parameter.effect","eventName":"interaction","eventAction":"outbound click","type":"javascript: parameter.type","cause":"default"},"category":{"primaryCategory":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > error': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"javascript: \'stock > \' + parameter.errorMsg","eventAction":"javascript: parameter.userAction","type":"javascript: parameter.errorType","cause":"javascript: parameter.errorCause"},"category":{"primaryCategory":"javascript: \'stock > \' + parameter.errorMsg","subCategory1":"javascript: parameter.errorCode"},"attributes":{"requestedURL":"javascript: parameter.errorURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > filter search applied': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > filter search applied","eventName":"interaction","eventAction":"pageload","type":"vehicle","cause":"default"},"category":{"primaryCategory":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > form start intention': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > form start intention","eventName":"form","eventAction":"form fill","type":"javascript: (parameter && parameter.formType && (parameter.formType.toLowerCase() == \\"fs rfo\\" || parameter.formType.length == 3)) ? parameter.formType : \'datalayer field empty\'","cause":"automatic"},"category":{"primaryCategory":"local form","subCategory1":"javascript: parameter.formSubtype"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > form finish intention': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > form finish intention","eventName":"form","eventAction":"internal click","type":"javascript: (parameter && parameter.formType && (parameter.formType.toLowerCase() == \\"fs rfo\\" || parameter.formType.length == 3)) ? parameter.formType : \'datalayer field empty\'","cause":"automatic"},"category":{"primaryCategory":"local form","subCategory1":"javascript: parameter.formSubtype"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > form started': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > form started","eventName":"form","eventAction":"pageload","type":"javascript: (parameter && parameter.formType && (parameter.formType.toLowerCase() == \\"fs rfo\\" || parameter.formType.length == 3)) ? parameter.formType : \'datalayer field empty\'","cause":"automatic"},"category":{"primaryCategory":"local form","subCategory1":"javascript: parameter.formSubtype"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > form finished': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > form finished","eventName":"form","eventAction":"pageload","type":"javascript: (parameter && parameter.formType && (parameter.formType.toLowerCase() == \\"fs rfo\\" || parameter.formType.length == 3)) ? parameter.formType : \'datalayer field empty\'","cause":"automatic"},"category":{"primaryCategory":"local form","subCategory1":"javascript: parameter.formSubtype"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > packageOptions': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"javascript: \'stock > \' + parameter.package + \' options\'","eventName":"interaction","eventAction":"javascript: parameter.eventAction","type":"ux","cause":"default"},"category":{"primaryCategory":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > sort': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"javascript: \'stock > \' + parameter.sortType","eventName":"interaction","eventAction":"sort","type":"ux","cause":"default"},"category":{"primaryCategory":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > error page': '{"account":["BMW Group 2020"],"version":["javascript: bmw group 2.0 | 2021-02-17"],"component":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'","componentName":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"},"category":{"primaryCategory":"stock locator","subCategory1":"javascript: parameter.stocklocatorType + \' stock locator\'","componentType":"standalone"},"attributes":{"componentVersion":"1.0","touchpoint":"web"}}],"dealer":[{"dealerInfo":{"dealerGroupName":"datalayer field empty","dealerGroupID":"datalayer field empty","dealerOutletName":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? parameter.dealer[0].dealerOutletName : \'datalayer field empty\'","dealerOutletID":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletId) ? parameter.dealer[0].dealerOutletId : \'datalayer field empty\'"},"attributes":{"selectionState":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? \'selected\' : \'unselected\'"}}],"user":[{"profile":[{"profileInfo":{"profileID":"datalayer field empty","language":"javascript: \'datalayer field empty\'","returningStatus":"javascript: \'datalayer field empty\'","type":"javascript: parameter.customerType"},"address":{"stateProvince":"datalayer field empty","country":"datalayer field empty"},"attributes":{"loggedInStatus":"javascript: parameter.customerLoginStatus"}}],"segment":"javascript: \'datalayer field empty\'"}],"page":{"pageInfo":{"pageID":"javascript: \'stock > \' + parameter.countryCode  + \' \' +  parameter.stocklocatorType + \' stock locator > error page\'","pageName":"javascript: \'stock > error page\'","destinationURL":"javascript: window.location.href","referringURL":"javascript: (parameter && parameter.referringUrl) ? parameter.referringUrl : document.referrer","timeStamp":"javascript: +new Date()","version":"1.0","language":"javascript: parameter.lang","geoRegion":"javascript: parameter.countryCode","author":"javascript: parameter.author","sysEnv":"javascript: parameter.env","variant":"javascript: parameter.pageVariant"},"category":{"primaryCategory":"javascript: parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"datalayer field empty","subCategory2":"datalayer field empty","pageType":"error"},"attributes":{"currencyCode":"javascript: parameter.currency","timeZone":"javascript: new Date().getUTCHours()+\':\'+new Date().getUTCMinutes()+\':\'+new Date().getUTCSeconds()","linkedProduct":[{"productInfo":{"productID":"datalayer field empty"}}],"brand":"javascript: parameter.brand"}}}' },
                                        { vehicle: '{"product":[{"productInfo":{"productID":"javascript: parameter.productID","productName":"javascript: parameter.productName","color":"javascript: parameter.color","manufacturer":"javascript: parameter.brand"},"category":{"primaryCategory":"javascript: parameter.stocklocatorType","subCategory1":"build to stock","subCategory2":"datalayer field empty","productType":"javascript: parameter.productType"},"attributes":{"mmdr":"javascript: parameter.mmdr","modelCode":"javascript: parameter.modelCode","productionYear":"javascript: parameter.productionYear","yearOfRegistration":"javascript: parameter.yearOfRegistration","motorization":"javascript: parameter.gearing","configID":"datalayer field empty","configLink":"datalayer field empty","fin":{"deposit":"datalayer field empty","monthlyPayment":"datalayer field empty","term":"datalayer field empty","mileage":"datalayer field empty"},"fupo":{"registrationSource":"datalayer field empty","mappingStatus":"datalayer field empty","remoteServices":"datalayer field empty","tokenValidity":"datalayer field empty","offerStatus":"datalayer field empty","transactionType":"datalayer field empty"},"bodyType":"javascript: parameter.bodyType","hybridVersion":"javascript: parameter.hybridVersion","fuelType":"javascript: parameter.fuelType","gearing":"javascript: parameter.gearing","vehicleStatus":"javascript: parameter.vehicleStatus","series":"javascript: parameter.series"}}]}' },
                                        { 'stock > checkout start': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > checkout start","eventName":"commerce","eventAction":"pageload","type":"javascript: parameter.type","cause":"automatic"},"category":{"primaryCategory":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"javascript: parameter.formSubType"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javasctipt: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > checkout finish': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > checkout finish","eventName":"commerce","eventAction":"pageload","type":"javascript: parameter.type","cause":"automatic"},"category":{"primaryCategory":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"javascript: parameter.formSubType"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > form step trade in': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"stock > form step > trade in","eventName":"form","eventAction":"pageload","type":"javascript: parameter.type","cause":"automatic"},"category":{"primaryCategory":"javascript: parameter.formType","subCategory1":"javascript: parameter.formSubType"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' },
                                        { 'stock > dealer selection': '{"component":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'","componentName":"javascript: \'stock > \' + parameter.countryCode+ \' \' + parameter.stocklocatorType + \' stock locator\'"},"category":{"primaryCategory":"stock locator","subCategory1":"javascript: parameter.stocklocatorType + \'  stock locator\'","componentType":"standalone"},"attributes":{"componentVersion":"1.0","touchpoint":"web"}}],"version":["javascript: bmw group 2.0 | 2021-05-26"],"account":["BMW Group 2020"],"dealer":[{"dealerInfo":{"dealerGroupName":"datalayer field empty","dealerGroupID":"datalayer field empty","dealerOutletName":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? parameter.dealer[0].dealerOutletName : \'datalayer field empty\'","dealerOutletID":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletId) ? parameter.dealer[0].dealerOutletId : \'datalayer field empty\'"},"attributes":{"selectionState":"javascript: (parameter && parameter.dealer && parameter.dealer[0] && parameter.dealer[0].dealerOutletName) ? \'selected\' : \'unselected\'"}}],"user":[{"profile":[{"profileInfo":{"profileID":"datalayer field empty","language":"javascript: \'datalayer field empty\'","returningStatus":"javascript: \'datalayer field empty\'","type":"javascript: parameter.customerType"},"address":{"stateProvince":"datalayer field empty","country":"datalayer field empty"},"attributes":{"loggedInStatus":"javascript: parameter.customerLoginStatus"}}],"segment":"javascript: \'datalayer field empty\'"}],"page":{"pageInfo":{"pageID":"javascript: \'stock > \' + parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator > \' + \'dealer selection\'","pageName":"stock > dealer selection","destinationURL":"javascript: window.location.href","referringURL":"javascript: (parameter && parameter.referringUrl) ? parameter.referringUrl : document.referrer","timeStamp":"javascript: +new Date()","version":"1.0","language":"javascript: parameter.lang","geoRegion":"javascript: parameter.countryCode","author":"javascript: parameter.author","sysEnv":"javascript: parameter.env","variant":"virtual page"},"category":{"primaryCategory":"javascript: parameter.countryCode  + \' \' + parameter.stocklocatorType + \' stock locator\'","subCategory1":"vehicle","subCategory2":"datalayer field empty","pageType":"javascript: \'datalayer field empty\'"},"attributes":{"currencyCode":"javascript: parameter.currency","timeZone":"javascript: new Date().getUTCHours()+\':\'+new Date().getUTCMinutes()+\':\'+new Date().getUTCSeconds()","linkedProduct":[{"productInfo":{"productID":"datalayer field empty"}}],"brand":"javascript: parameter.brand"}}}' },
                                        { 'stock > user interaction': '{"event":[{"eventInfo":{"eventPoints":"datalayer field empty","timeStamp":"javascript: +new Date","effect":"javascript: \'stock > \' + parameter.formType","eventName":"interaction","eventAction":"pageload","type":"javascript: parameter.formType","cause":"automatic"},"category":{"primaryCategory":"local form","subCategory1":"javascript: parameter.formSubtype"},"attributes":{"requestedURL":"javascript: parameter.requestedURL","form":{"rfxID":"datalayer field empty","preferredComChannel":"javascript: \'datalayer field empty\'"},"linkedComponent":[{"componentInfo":{"componentID":"javascript: \'stock > stock locator > \' + parameter.countryCode + \' \' + parameter.stocklocatorType + \' stock locator\'"}}]}}]}' }
                                    ], t = {};
                                for (var r in e)
                                    if (e[r]) {
                                        var a = Object.keys(e[r])[0], n = JSON.parse(e[r][a]);
                                        t[a] = n;
                                    }
                                return t;
                            } catch (o) {
                                _satellite.logger.error('error_in_datalayer', o);
                            }
                        }
                    }
                },
                snapshotDL: {
                    modulePath: 'bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js',
                    settings: { dataLayerSnapshot: null }
                },
                topLevelDomain: {
                    defaultValue: '',
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            function e() {
                                var e = document.location.hostname, t = e;
                                if (null != e) {
                                    var r = e.split('.').reverse();
                                    null != r && 1 < r.length && (t = r[1] + '.' + r[0], (-1 < e.toLowerCase().indexOf('.co.') || -1 < e.toLowerCase().indexOf('.com.') && 2 < r.length) && (t = r[2] + '.' + t));
                                }
                                return t;
                            }
                            try {
                                return e();
                            } catch (t) {
                            }
                        }
                    }
                },
                'AA-marketCodes': {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return [
                                'ZA',
                                'AR',
                                'AT',
                                'AU',
                                'BE',
                                'BG',
                                'BR',
                                'CA',
                                'CH',
                                'CN',
                                'CZ',
                                'DE',
                                'DK',
                                'ES',
                                'FI',
                                'FR',
                                'GB',
                                'GR',
                                'HU',
                                'ID',
                                'IE',
                                'IN',
                                'IS',
                                'IT',
                                'JP',
                                'KR',
                                'LU',
                                'MX',
                                'MY',
                                'NL',
                                'NO',
                                'NZ',
                                'PL',
                                'PT',
                                'RO',
                                'RU',
                                'SE',
                                'SI',
                                'SK',
                                'TH',
                                'SG',
                                'SL',
                                'Global'
                            ];
                        }
                    }
                },
                webDL: {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            try {
                                return window.digitalData;
                            } catch (t) {
                                var e = {
                                    from: 'AA',
                                    type: 'DE',
                                    name: 'webDL'
                                };
                                _satellite.logger.error(t, e);
                            }
                        }
                    }
                },
                setProductString: {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            function D(e, t) {
                                try {
                                    t = t || 'datalayer field missing';
                                    for (var r = [
                                                '',
                                                'na',
                                                'not set',
                                                'n/a',
                                                'not available'
                                            ], a = (e = e || '').split('.'), n = digitalData, o = 0; o < a.length && n != undefined; o++)
                                        n = Array.isArray(n) && /-[0-9]+/.test(a[o]) ? n[n.length - Math.abs(parseInt(a[o]))] : n[a[o]];
                                    return 'string' == typeof n && -1 < r.indexOf(n.toLowerCase()) ? 'datalayer field empty' : n || t;
                                } catch (i) {
                                    console.error('Error:', i);
                                }
                            }
                            function E() {
                                try {
                                    var s = [
                                            'eVar0',
                                            'eVar4',
                                            'eVar5',
                                            'eVar7',
                                            'eVar8',
                                            'eVar12',
                                            'eVar36',
                                            'eVar6',
                                            'eVar9',
                                            'eVar10',
                                            'eVar11',
                                            'eVar13',
                                            'eVar14',
                                            'eVar17',
                                            'eVar37',
                                            'eVar38',
                                            'eVar48',
                                            'eVar59',
                                            'eVar61',
                                            'eVar62',
                                            'eVar63',
                                            'eVar64',
                                            'eVar71',
                                            'eVar120',
                                            'eVar122',
                                            'eVar125',
                                            'eVar132',
                                            'eVar142',
                                            'eVar171',
                                            'eVar172',
                                            'prop17'
                                        ], e = function () {
                                            this.id = undefined, this.category = undefined, this.merchEvars = {}, this.events = [], this.quantity = undefined, this.price = undefined, this.load = [];
                                        };
                                    return e.prototype.toString = function () {
                                        try {
                                            var e = '';
                                            for (var t in this.merchEvars)
                                                Object.prototype.hasOwnProperty.call(this.merchEvars, t) && (-1 != s.indexOf(t) ? e += t + '=' + (this.merchEvars[t] || '') + '|' : e += t + '=' + (this.merchEvars[t].toString() || '').toLowerCase() + '|');
                                            e.length && (e = e.substring(0, e.length - 1));
                                            var r = this.category || '';
                                            r += ';' + (this.id || ''), r += ';' + (this.quantity || ''), r += ';' + (this.price || ''), r += ';' + (this.events ? Array.isArray(this.events) ? this.events.join('|') : this.events : ''), r += ';' + (e || '');
                                            for (var a = '', n = 0; n < this.load.length; n++)
                                                a += ',' + this.load[n].toString();
                                            return r += a;
                                        } catch (i) {
                                            var o = { name: 'productBuilder->toString' };
                                            _satellite.logger.error(i, o);
                                        }
                                    }, e.prototype.append = function (e) {
                                        if (Array.isArray(e))
                                            this.load = this.load.concat(e);
                                        else {
                                            if ('object' != typeof e)
                                                throw new Error('Product Builder append function expects an instance of ProductBuilder as parameter, OR and array of ProductBuilder instances');
                                            this.load.push(e);
                                        }
                                    }, new e();
                                } catch (r) {
                                    var t = { name: 'productBuilder' };
                                    _satellite.logger.error(r, t);
                                }
                            }
                            function O(e, t) {
                                for (var r = [], a = 0; a < e.length; a++)
                                    -1 === t.indexOf(e[a]) && r.push(e[a]);
                                return r;
                            }
                            return function (e) {
                                try {
                                    var t, r = '', a = (D('product'), {});
                                    for (var n in D('product'))
                                        isNaN(+n) || 'vehicle' == D('product.' + (a[D('product.' + n + '.productInfo.productID')] = n) + '.category.productType').toLowerCase() && D('product.' + (t = n) + '.productInfo.productID');
                                    var o = { product: {} };
                                    for (var n in D('product'))
                                        isNaN(+n) || (o.product[D('product.' + n + '.productInfo.productID')] = {}, o.product[D('product.' + n + '.productInfo.productID')] = D('product.' + n));
                                    var i = Object.keys(o.product);
                                    for (var s in (D('cart'), o.cart = {}, D('cart.item')))
                                        isNaN(+s) || 'datalayer field missing' != D('cart.item.' + s + '.productInfo.productID') && 'datalayer field empty' != D('cart.item.' + s + '.productInfo.productID') && (o.cart[D('cart.item.' + s + '.productInfo.productID')] = {}, o.cart[D('cart.item.' + s + '.productInfo.productID')] = D('cart.item.' + s));
                                    var c = Object.keys(o.cart);
                                    for (var p in (D('transaction'), o.transaction = {}, D('transaction.-1.item')))
                                        isNaN(+s) || 'datalayer field missing' != D('transaction.-1.item.' + p + '.productInfo.productID') && 'datalayer field empty' != D('transaction.-1.item.' + p + '.productInfo.productID') && (o.transaction[D('transaction.-1.item.' + p + '.productInfo.productID')] = {}, o.transaction[D('transaction.-1.item.' + p + '.productInfo.productID')] = D('transaction.-1.item.' + p));
                                    var l = Object.keys(o.transaction);
                                    if (e.events || (e.events = 'event999'), e.linkTrackEvents || (e.linkTrackEvents = 'event999'), 0 < D('product').length)
                                        for (var u in D('product'))
                                            if (!isNaN(+u)) {
                                                var d = E(), f = D('product.' + u + '.category.productType'), m = D('product.' + u + '.productInfo.productID', D('product.' + u + '.attributes.mmdr'));
                                                d.id = m, d.category = f, 'datalayer field missing' == D('product.' + u + '.attributes.mmdr') || 'datalayer field empty' == D('product.' + u + '.attributes.mmdr') || 'datalayer field missing' != D('product.' + u + '.category.productType') && 'datalayer field empty' != D('product.' + u + '.category.productType') || (f = d.category = 'vehicle');
                                                var v = +(((o.cart[m] || '').price || '').voucherDiscount || '0'), g = +(((o.cart[m] || '').price || '').priceWithTax || '0'), y = +D('transaction.-1.total.voucherDiscount', '0'), h = +D('transaction.-1.total.priceWithTax', '0'), b = D('product.' + u + '.attributes.mmdr', D('product.' + u + '.attributes.internalCode'));
                                                if (b) {
                                                    var k = /[a-z]{1}[0-9]{2}/i, C = b.match(k);
                                                    b = C && C.length ? C[0].toUpperCase() : 'datalayer field empty';
                                                }
                                                if ('vehicle' == f) {
                                                    d.merchEvars = {
                                                        eVar10: b,
                                                        eVar44: D('product.' + u + '.attributes.productionYear'),
                                                        eVar45: D('product.' + u + '.attributes.yearOfRegistration'),
                                                        eVar46: D('product.' + u + '.attributes.vehicleStatus', D('product.' + u + '.attributes.vehicleSelection')),
                                                        eVar47: D('product.' + u + '.productInfo.color'),
                                                        eVar48: D('product.' + u + '.attributes.modelCode'),
                                                        eVar49: D('product.' + u + '.attributes.gearing'),
                                                        eVar50: D('product.' + u + '.attributes.series'),
                                                        eVar51: D('product.' + u + '.attributes.bodyType'),
                                                        eVar52: D('product.' + u + '.productInfo.productName', D('product.' + u + '.attributes.modelName')),
                                                        eVar53: 'model_navigation_hp' == D('event.-1.attributes.relatedComponent.componentInfo.componentName') ? 'new car' : D('product.' + u + '.category.primaryCategory'),
                                                        eVar54: D('product.' + u + '.category.subCategory1'),
                                                        eVar55: D('product.' + u + '.category.subCategory2'),
                                                        eVar56: D('product.' + u + '.attributes.fuelType'),
                                                        eVar57: D('product.' + u + '.attributes.hybridVersion'),
                                                        eVar58: D('product.' + u + '.attributes.motorization', D('product.' + u + '.attributes.engine')),
                                                        eVar59: D('product.' + u + '.attributes.configID', D('product.' + u + '.attributes.configLink')),
                                                        eVar60: D('product.' + u + '.productInfo.manufacturer', ((o.cart[m] || '').productInfo || '').manufacturer || ''),
                                                        eVar65: D('product.' + u + '.attributes.modelName'),
                                                        eVar66: D('product.' + u + '.attributes.trimLevel'),
                                                        eVar121: ((o.transaction[m] || '').price || '').voucherCode || ((o.cart[m] || '').price || '').voucherCode ? ((o.transaction[m] || '').price || '').voucherCode || ((o.cart[m] || '').price || '').voucherCode || '' : D('transaction.-1.total.voucherCode', D('cart.price.voucherCode')),
                                                        eVar124: ((o.transaction[m] || '').price || '').taxRate || ((o.cart[m] || '').price || '').taxRate ? ((o.transaction[m] || '').price || '').taxRate || ((o.cart[m] || '').price || '').taxRate || '' : D('cart.price.taxRate', D('transaction.-1.total.taxRate')),
                                                        eVar126: D('transaction.-1.total.shippingMethod')
                                                    };
                                                    var I = [
                                                        'event801=' + +D('product.' + u + '.attributes.fin.downPayment', '0'),
                                                        'event802=' + +D('product.' + u + '.attributes.fin.downPayment', '0'),
                                                        'event803=' + +D('product.' + u + '.attributes.fin.monthlyPayment', '0'),
                                                        'event804=' + +D('product.' + u + '.attributes.fin.monthlyPayment', '0'),
                                                        'event805=' + +D('product.' + u + '.attributes.fin.term', '0'),
                                                        'event806=' + +D('product.' + u + '.attributes.fin.mileage', '0'),
                                                        'event807=0',
                                                        'event808=0',
                                                        'event851=' + (((o.cart[m] || '').price || '').basePrice || '0'),
                                                        'event852=' + (v < 0 ? + +g * v / g : v),
                                                        'event853=' + (v < 0 ? +g * v : v),
                                                        'event854=' + +(((o.cart[m] || '').price || '').taxRate || '0'),
                                                        'event855=' + (((o.cart[m] || '').price || '').taxRate || '0'),
                                                        'event856=' + (((o.cart[m] || '').price || '').priceWithTax || '0'),
                                                        'event857=' + (((o.transaction[m] || '').price || '').shipping || '0'),
                                                        'event858=' + ((o.cart[m] || '').quantity || '0')
                                                    ];
                                                    d.events = I, d.quantity = (o.cart[m] || '').quantity || '0', d.price = ((o.cart[m] || '').price || '').priceWithTax || '0', e.linkTrackEvents.indexOf('event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858') < 0 && (e.linkTrackEvents += ',event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858', e.events += ',event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858');
                                                } else
                                                    'Related Service / Finance' == f || 'service' == f ? (d.merchEvars = {
                                                        eVar52: D('product.' + u + '.productInfo.productName'),
                                                        eVar53: D('product.' + u + '.category.primaryCategory'),
                                                        eVar54: D('product.' + u + '.category.subCategory1'),
                                                        eVar55: D('product.' + u + '.category.subCategory2'),
                                                        eVar84: D('product.' + u + '.attributes.fin.downPayment'),
                                                        eVar85: D('product.' + u + '.attributes.fin.mileage'),
                                                        eVar86: D('product.' + u + '.attributes.fin.monthlyPayment'),
                                                        eVar87: D('product.' + u + '.attributes.fin.term'),
                                                        eVar90: D('product.' + u + '.attributes.fupo.mappingStatus'),
                                                        eVar91: D('product.' + u + '.attributes.fupo.remoteServices'),
                                                        eVar92: D('product.' + u + '.attributes.fupo.transactionType'),
                                                        eVar10: D('product.' + t + '.attributes.mmdr', D('product.' + t + '.attributes.internalCode', D('product.' + u + '.attributes.mmdr', D('product.' + u + '.attributes.internalCode')))),
                                                        eVar44: D('product.' + t + '.attributes.productionYear', D('product.' + u + '.attributes.productionYear')),
                                                        eVar45: D('product.' + t + '.attributes.yearOfRegistration', D('product.' + u + '.attributes.yearOfRegistration')),
                                                        eVar46: D('product.' + t + '.attributes.vehicleStatus', D('product.' + t + '.attributes.vehicleSelection', D('product.' + u + '.attributes.vehicleStatus', D('product.' + u + '.attributes.vehicleSelection')))),
                                                        eVar47: D('product.' + t + '.productInfo.color', D('product.' + u + '.productInfo.color')),
                                                        eVar48: D('product.' + t + '.attributes.modelCode', D('product.' + u + '.attributes.modelCode')),
                                                        eVar49: D('product.' + t + '.attributes.gearing', D('product.' + u + '.attributes.gearing')),
                                                        eVar50: D('product.' + t + '.attributes.series', D('product.' + u + '.attributes.series')),
                                                        eVar51: D('product.' + t + '.attributes.bodyType', D('product.' + u + '.attributes.bodyType')),
                                                        eVar56: D('product.' + t + '.attributes.fuelType', D('product.' + u + '.attributes.fuelType')),
                                                        eVar57: D('product.' + t + '.attributes.hybridVersion', D('product.' + u + '.attributes.hybridVersion')),
                                                        eVar58: D('product.' + t + '.attributes.motorization', D('product.' + t + '.attributes.engine', D('product.' + u + '.attributes.motorization', D('product.' + u + '.attributes.engine')))),
                                                        eVar59: D('product.' + t + '.attributes.configID', D('product.' + t + '.attributes.configLink', D('product.' + u + '.attributes.configID', D('product.' + u + '.attributes.configLink')))),
                                                        eVar60: D('product.' + t + '.productInfo.manufacturer', ((o.cart[m] || '').productInfo || '').manufacturer || ''),
                                                        eVar65: D('product.' + t + '.attributes.modelName', D('product.' + u + '.attributes.modelName')),
                                                        eVar66: D('product.' + t + '.attributes.trimLevel', D('product.' + u + '.attributes.trimLevel')),
                                                        eVar121: ((o.transaction[m] || '').price || '').voucherCode || ((o.cart[m] || '').price || '').voucherCode ? ((o.transaction[m] || '').price || '').voucherCode || ((o.cart[m] || '').price || '').voucherCode || '' : D('transaction.-1.total.voucherCode', D('cart.price.voucherCode')),
                                                        eVar124: ((o.transaction[m] || '').price || '').taxRate || ((o.cart[m] || '').price || '').taxRate ? ((o.transaction[m] || '').price || '').taxRate || ((o.cart[m] || '').price || '').taxRate || '' : D('cart.price.taxRate', D('transaction.-1.total.taxRate')),
                                                        eVar126: D('transaction.-1.total.shippingMethod')
                                                    }, I = [
                                                        'event801=' + +D('product.' + u + '.attributes.fin.downPayment', '0'),
                                                        'event802=' + +D('product.' + u + '.attributes.fin.downPayment', '0'),
                                                        'event803=' + +D('product.' + u + '.attributes.fin.monthlyPayment', '0'),
                                                        'event804=' + +D('product.' + u + '.attributes.fin.monthlyPayment', '0'),
                                                        'event805=' + +D('product.' + u + '.attributes.fin.term', '0'),
                                                        'event806=' + +D('product.' + u + '.attributes.fin.mileage', '0'),
                                                        'event807=0',
                                                        'event808=0',
                                                        'event851=' + (((o.cart[m] || '').price || '').basePrice || '0'),
                                                        'event852=' + (v < 0 ? + +g * v / g : v),
                                                        'event853=' + (v < 0 ? +g * v : v),
                                                        'event854=' + +(((o.cart[m] || '').price || '').taxRate || '0'),
                                                        'event855=' + (((o.cart[m] || '').price || '').taxRate || '0'),
                                                        'event856=' + (((o.cart[m] || '').price || '').priceWithTax || '0'),
                                                        'event857=' + (((o.transaction[m] || '').price || '').shipping || '0'),
                                                        'event858=' + ((o.cart[m] || '').quantity || '0')
                                                    ], d.events = I, d.quantity = (o.cart[m] || '').quantity || '0', d.price = ((o.cart[m] || '').price || '').priceWithTax || '0', e.linkTrackEvents.indexOf('event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858') < 0 && (e.linkTrackEvents += ',event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858', e.events += ',event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858')) : 'Options & Accessory' != f && 'accessory' != f || (d.merchEvars = {
                                                        eVar52: D('product.' + u + '.productInfo.productName'),
                                                        eVar53: D('product.' + u + '.category.primaryCategory'),
                                                        eVar54: D('product.' + u + '.category.subCategory1'),
                                                        eVar55: D('product.' + u + '.category.subCategory2'),
                                                        eVar104: D('product.' + u + '.productInfo.color'),
                                                        eVar10: D('product.' + t + '.attributes.mmdr', D('product.' + t + '.attributes.internalCode', D('product.' + u + '.attributes.mmdr', D('product.' + u + '.attributes.internalCode')))),
                                                        eVar44: D('product.' + t + '.attributes.productionYear', D('product.' + u + '.attributes.productionYear')),
                                                        eVar45: D('product.' + t + '.attributes.yearOfRegistration', D('product.' + u + '.attributes.yearOfRegistration')),
                                                        eVar46: D('product.' + t + '.attributes.vehicleStatus', D('product.' + t + '.attributes.vehicleSelection', D('product.' + u + '.attributes.vehicleStatus', D('product.' + u + '.attributes.vehicleSelection')))),
                                                        eVar47: D('product.' + t + '.productInfo.color', D('product.' + u + '.productInfo.color')),
                                                        eVar48: D('product.' + t + '.attributes.modelCode', D('product.' + u + '.attributes.modelCode')),
                                                        eVar49: D('product.' + t + '.attributes.gearing', D('product.' + u + '.attributes.gearing')),
                                                        eVar50: D('product.' + t + '.attributes.series', D('product.' + u + '.attributes.series')),
                                                        eVar51: D('product.' + t + '.attributes.bodyType', D('product.' + u + '.attributes.bodyType')),
                                                        eVar56: D('product.' + t + '.attributes.fuelType', D('product.' + u + '.attributes.fuelType')),
                                                        eVar57: D('product.' + t + '.attributes.hybridVersion', D('product.' + u + '.attributes.hybridVersion')),
                                                        eVar58: D('product.' + t + '.attributes.motorization', D('product.' + t + '.attributes.engine', D('product.' + u + '.attributes.motorization', D('product.' + u + '.attributes.engine')))),
                                                        eVar59: D('product.' + t + '.attributes.configID', D('product.' + t + '.attributes.configLink', D('product.' + u + '.attributes.configID', D('product.' + u + '.attributes.configLink')))),
                                                        eVar60: D('product.' + t + '.productInfo.manufacturer', ((o.cart[m] || '').productInfo || '').manufacturer || ''),
                                                        eVar65: D('product.' + t + '.attributes.modelName', D('product.' + u + '.attributes.modelName')),
                                                        eVar66: D('product.' + t + '.attributes.trimLevel', D('product.' + u + '.attributes.trimLevel')),
                                                        eVar121: ((o.transaction[m] || '').price || '').voucherCode || ((o.cart[m] || '').price || '').voucherCode ? ((o.transaction[m] || '').price || '').voucherCode || ((o.cart[m] || '').price || '').voucherCode || '' : D('transaction.-1.total.voucherCode', D('cart.price.voucherCode')),
                                                        eVar124: ((o.transaction[m] || '').price || '').taxRate || ((o.cart[m] || '').price || '').taxRate ? ((o.transaction[m] || '').price || '').taxRate || ((o.cart[m] || '').price || '').taxRate || '' : D('cart.price.taxRate', D('transaction.-1.total.taxRate')),
                                                        eVar126: D('transaction.-1.total.shippingMethod')
                                                    }, I = [
                                                        'event801=' + +D('product.' + u + '.attributes.fin.downPayment', '0'),
                                                        'event802=' + +D('product.' + u + '.attributes.fin.downPayment', '0'),
                                                        'event803=' + +D('product.' + u + '.attributes.fin.monthlyPayment', '0'),
                                                        'event804=' + +D('product.' + u + '.attributes.fin.monthlyPayment', '0'),
                                                        'event805=' + +D('product.' + u + '.attributes.fin.term', '0'),
                                                        'event806=' + +D('product.' + u + '.attributes.fin.mileage', '0'),
                                                        'event807=0',
                                                        'event808=0',
                                                        'event851=' + (((o.cart[m] || '').price || '').basePrice || '0'),
                                                        'event852=' + (v < 0 ? + +g * v / g : v),
                                                        'event853=' + (v < 0 ? +g * v : v),
                                                        'event854=' + +(((o.cart[m] || '').price || '').taxRate || '0'),
                                                        'event855=' + (((o.cart[m] || '').price || '').taxRate || '0'),
                                                        'event856=' + (((o.cart[m] || '').price || '').priceWithTax || '0'),
                                                        'event857=' + (((o.transaction[m] || '').price || '').shipping || '0'),
                                                        'event858=' + ((o.cart[m] || '').quantity || '0')
                                                    ], d.events = I, d.quantity = (o.cart[m] || '').quantity || '0', d.price = ((o.cart[m] || '').price || '').priceWithTax || '0', e.linkTrackEvents.indexOf('event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858') < 0 && (e.linkTrackEvents += ',event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858', e.events += ',event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858'));
                                                r += d.toString() + ',';
                                            }
                                    var T = O(c, i);
                                    if (T && 0 < T.length) {
                                        var _ = {};
                                        for (var n in T)
                                            if (!isNaN(+n))
                                                for (var s in D('cart.item'))
                                                    isNaN(+s) || T[n] == D('cart.item.' + s + '.productInfo.productID') && (_[T[n]] = s);
                                        for (var u in T)
                                            isNaN(+u) || (d = E(), f = D('cart.item.' + _[T[u]] + '.category.productType'), m = D('cart.item.' + _[T[u]] + '.productInfo.productID'), d.id = m, d.category = f, v = +D('cart.item.' + _[T[u]] + '.price.voucherDiscount', '0'), g = +D('cart.item.' + _[T[u]] + '.price.priceWithTax', '0'), y = +D('transaction.-1.total.voucherDiscount', '0'), h = +D('transaction.-1.total.priceWithTax', '0'), 'vehicle' == f ? (d.merchEvars = {
                                                eVar52: D('cart.item.' + _[T[u]] + '.productInfo.productName'),
                                                eVar10: D('product.' + a[m] + '.attributes.mmdr', D('product.' + a[m] + '.attributes.internalCode')),
                                                eVar44: D('product.' + a[m] + '.attributes.productionYear'),
                                                eVar45: D('product.' + a[m] + '.attributes.yearOfRegistration'),
                                                eVar46: D('product.' + a[m] + '.attributes.vehicleStatus', D('product.' + a[m] + '.attributes.vehicleSelection')),
                                                eVar47: D('product.' + a[m] + '.productInfo.color'),
                                                eVar48: D('product.' + a[m] + '.attributes.modelCode'),
                                                eVar49: D('product.' + a[m] + '.attributes.gearing'),
                                                eVar50: D('product.' + a[m] + '.attributes.series'),
                                                eVar51: D('product.' + a[m] + '.attributes.bodyType'),
                                                eVar56: D('product.' + a[m] + '.attributes.fuelType'),
                                                eVar57: D('product.' + a[m] + '.attributes.hybridVersion'),
                                                eVar58: D('product.' + a[m] + '.attributes.motorization', D('product.' + a[m] + '.attributes.engine')),
                                                eVar59: D('product.' + a[m] + '.attributes.configID', D('product.' + a[m] + '.attributes.configLink')),
                                                eVar60: D('product.' + a[m] + '.productInfo.manufacturer'),
                                                eVar65: D('product.' + a[m] + '.attributes.modelName'),
                                                eVar66: D('product.' + a[m] + '.attributes.trimLevel'),
                                                eVar121: D('cart.item.' + _[T[u]] + '.price.voucherCode', D('cart.price.voucherCode')),
                                                eVar124: D('cart.item.' + _[T[u]] + '.price.taxRate', D('cart.price.taxRate')),
                                                eVar126: D('transaction.-1.total.shippingMethod')
                                            }, I = [
                                                'event851=' + D('cart.item.' + _[T[u]] + '.price.basePrice', '0'),
                                                'event852=' + (v < 0 ? + +g * v / g : v),
                                                'event853=' + (v < 0 ? +g * v : v),
                                                'event854=' + D('cart.item.' + _[T[u]] + '.price.taxRate', '0'),
                                                'event855=' + D('cart.item.' + _[T[u]] + '.price.taxRate', '0'),
                                                'event856=' + D('cart.item.' + _[T[u]] + '.price.priceWithTax', '0'),
                                                'event857=' + (((o.transaction[m] || '').price || '').shipping || '0'),
                                                'event858=' + D('cart.item.' + _[T[u]] + '.quantity', '0')
                                            ], d.events = I, d.quantity = D('cart.item.' + _[T[u]] + '.quantity', '0'), d.price = D('cart.item.' + _[T[u]] + '.price.priceWithTax', '0'), e.linkTrackEvents.indexOf('event851,event852,event853,event854,event855,event856,event857,event858') < 0 && (e.linkTrackEvents += ',event851,event852,event853,event854,event855,event856,event857,event858', e.events += ',event851,event852,event853,event854,event855,event856,event857,event858')) : 'Related Service / Finance' == f || 'service' == f ? (d.merchEvars = {
                                                eVar52: D('cart.item.' + _[T[u]] + '.productInfo.productName'),
                                                eVar10: D('product.' + a[m] + '.attributes.mmdr', D('product.' + a[m] + '.attributes.internalCode')),
                                                eVar44: D('product.' + a[m] + '.attributes.productionYear'),
                                                eVar45: D('product.' + a[m] + '.attributes.yearOfRegistration'),
                                                eVar46: D('product.' + a[m] + '.attributes.vehicleStatus', D('product.' + a[m] + '.attributes.vehicleSelection')),
                                                eVar47: D('product.' + a[m] + '.productInfo.color'),
                                                eVar48: D('product.' + a[m] + '.attributes.modelCode'),
                                                eVar49: D('product.' + a[m] + '.attributes.gearing'),
                                                eVar50: D('product.' + a[m] + '.attributes.series'),
                                                eVar51: D('product.' + a[m] + '.attributes.bodyType'),
                                                eVar56: D('product.' + a[m] + '.attributes.fuelType'),
                                                eVar57: D('product.' + a[m] + '.attributes.hybridVersion'),
                                                eVar58: D('product.' + a[m] + '.attributes.motorization', D('product.' + a[m] + '.attributes.engine')),
                                                eVar59: D('product.' + a[m] + '.attributes.configID', D('product.' + a[m] + '.attributes.configLink')),
                                                eVar60: D('product.' + a[m] + '.productInfo.manufacturer'),
                                                eVar65: D('product.' + a[m] + '.attributes.modelName'),
                                                eVar66: D('product.' + a[m] + '.attributes.trimLevel'),
                                                eVar121: D('cart.item.' + _[T[u]] + '.price.voucherCode', D('cart.price.voucherCode')),
                                                eVar124: D('cart.item.' + _[T[u]] + '.price.taxRate', D('cart.price.taxRate')),
                                                eVar126: D('transaction.-1.total.shippingMethod')
                                            }, I = [
                                                'event851=' + D('cart.item.' + _[T[u]] + '.price.basePrice', '0'),
                                                'event852=' + (v < 0 ? + +g * v / g : v),
                                                'event853=' + (v < 0 ? +g * v : v),
                                                'event854=' + D('cart.item.' + _[T[u]] + '.price.taxRate', '0'),
                                                'event855=' + D('cart.item.' + _[T[u]] + '.price.taxRate', '0'),
                                                'event856=' + D('cart.item.' + _[T[u]] + '.price.priceWithTax', '0'),
                                                'event857=' + (((o.transaction[m] || '').price || '').shipping || '0'),
                                                'event858=' + D('cart.item.' + _[T[u]] + '.quantity', '0')
                                            ], d.events = I, d.quantity = D('cart.item.' + _[T[u]] + '.quantity', '0'), d.price = D('cart.item.' + _[T[u]] + '.price.priceWithTax', '0'), e.linkTrackEvents.indexOf('event851,event852,event853,event854,event855,event856,event857,event858') < 0 && (e.linkTrackEvents += ',event851,event852,event853,event854,event855,event856,event857,event858', e.events += ',event851,event852,event853,event854,event855,event856,event857,event858')) : 'Options & Accessory' != f && 'accessory' != f || (d.merchEvars = {
                                                eVar52: D('cart.item.' + _[T[u]] + '.productInfo.productName'),
                                                eVar53: D('cart.item.' + _[T[u]] + '.category.primaryCategory'),
                                                eVar54: D('cart.item.' + _[T[u]] + '.category.subCategory1'),
                                                eVar10: D('product.' + a[m] + '.attributes.mmdr', D('product.' + a[m] + '.attributes.internalCode')),
                                                eVar44: D('product.' + a[m] + '.attributes.productionYear'),
                                                eVar45: D('product.' + a[m] + '.attributes.yearOfRegistration'),
                                                eVar46: D('product.' + a[m] + '.attributes.vehicleStatus', D('product.' + a[m] + '.attributes.vehicleSelection')),
                                                eVar47: D('product.' + a[m] + '.productInfo.color'),
                                                eVar48: D('product.' + a[m] + '.attributes.modelCode'),
                                                eVar49: D('product.' + a[m] + '.attributes.gearing'),
                                                eVar50: D('product.' + a[m] + '.attributes.series'),
                                                eVar51: D('product.' + a[m] + '.attributes.bodyType'),
                                                eVar56: D('product.' + a[m] + '.attributes.fuelType'),
                                                eVar57: D('product.' + a[m] + '.attributes.hybridVersion'),
                                                eVar58: D('product.' + a[m] + '.attributes.motorization', D('product.' + a[m] + '.attributes.engine')),
                                                eVar59: D('product.' + a[m] + '.attributes.configID', D('product.' + a[m] + '.attributes.configLink')),
                                                eVar60: D('product.' + a[m] + '.productInfo.manufacturer'),
                                                eVar65: D('product.' + a[m] + '.attributes.modelName'),
                                                eVar66: D('product.' + a[m] + '.attributes.trimLevel'),
                                                eVar121: D('cart.item.' + _[T[u]] + '.price.voucherCode', D('cart.price.voucherCode')),
                                                eVar124: D('cart.item.' + _[T[u]] + '.price.taxRate', D('cart.price.taxRate')),
                                                eVar126: D('transaction.-1.total.shippingMethod')
                                            }, I = [
                                                'event851=' + D('cart.item.' + _[T[u]] + '.price.basePrice', '0'),
                                                'event852=' + (v < 0 ? + +g * v / g : v),
                                                'event853=' + (v < 0 ? +g * v : v),
                                                'event854=' + D('cart.item.' + _[T[u]] + '.price.taxRate', '0'),
                                                'event855=' + D('cart.item.' + _[T[u]] + '.price.taxRate', '0'),
                                                'event856=' + D('cart.item.' + _[T[u]] + '.price.priceWithTax', '0'),
                                                'event857=' + (((o.transaction[m] || '').price || '').shipping || '0'),
                                                'event858=' + D('cart.item.' + _[T[u]] + '.quantity', '0')
                                            ], d.events = I, d.quantity = D('cart.item.' + _[T[u]] + '.quantity', '0'), d.price = D('cart.item.' + _[T[u]] + '.price.priceWithTax', '0'), e.linkTrackEvents.indexOf('event851,event852,event853,event854,event855,event856,event857,event858') < 0 && (e.linkTrackEvents += ',event851,event852,event853,event854,event855,event856,event857,event858', e.events += ',event851,event852,event853,event854,event855,event856,event857,event858')), r += d.toString() + ',');
                                    }
                                    var V = O(l, i);
                                    if (V && 0 < V.length) {
                                        var w = {};
                                        for (var n in V)
                                            if (!isNaN(+n))
                                                for (var s in D('transaction.-1.item'))
                                                    isNaN(+s) || V[n] == D('transaction.-1.item.' + s + '.productInfo.productID') && (w[V[n]] = s);
                                        for (var u in V)
                                            isNaN(+u) || (d = E(), f = D('transaction.-1.item.' + w[V[u]] + '.category.productType'), m = D('transaction.-1.item.' + w[V[u]] + '.productInfo.productID'), d.id = m, d.category = f, v = +D('transaction.-1.item.' + w[V[u]] + '.price.voucherDiscount', '0'), g = +D('transaction.-1.item.' + w[V[u]] + '.price.priceWithTax', '0'), y = +D('transaction.-1.total.voucherDiscount', '0'), h = +D('transaction.-1.total.priceWithTax', '0'), 'vehicle' == f ? (d.merchEvars = {
                                                eVar52: D('transaction.-1.item.' + w[V[u]] + '.productInfo.productName'),
                                                eVar53: D('transaction.-1.item.' + w[V[u]] + '.category.primaryCategory'),
                                                eVar54: D('transaction.-1.item.' + w[V[u]] + '.category.subCategory1'),
                                                eVar10: D('product.' + a[m] + '.attributes.mmdr', D('product.' + a[m] + '.attributes.internalCode')),
                                                eVar44: D('product.' + a[m] + '.attributes.productionYear'),
                                                eVar45: D('product.' + a[m] + '.attributes.yearOfRegistration'),
                                                eVar46: D('product.' + a[m] + '.attributes.vehicleStatus', D('product.' + a[m] + '.attributes.vehicleSelection')),
                                                eVar47: D('product.' + a[m] + '.productInfo.color'),
                                                eVar48: D('product.' + a[m] + '.attributes.modelCode'),
                                                eVar49: D('product.' + a[m] + '.attributes.gearing'),
                                                eVar50: D('product.' + a[m] + '.attributes.series'),
                                                eVar51: D('product.' + a[m] + '.attributes.bodyType'),
                                                eVar56: D('product.' + a[m] + '.attributes.fuelType'),
                                                eVar57: D('product.' + a[m] + '.attributes.hybridVersion'),
                                                eVar58: D('product.' + a[m] + '.attributes.motorization', D('product.' + a[m] + '.attributes.engine')),
                                                eVar59: D('product.' + a[m] + '.attributes.configID', D('product.' + a[m] + '.attributes.configLink')),
                                                eVar60: D('product.' + a[m] + '.productInfo.manufacturer'),
                                                eVar65: D('product.' + a[m] + '.attributes.modelName'),
                                                eVar66: D('product.' + a[m] + '.attributes.trimLevel'),
                                                eVar121: D('transaction.-1.item.' + w[V[u]] + '.price.voucherCode', D('transaction.-1.total.voucherCode')),
                                                eVar124: D('transaction.-1.item.' + w[V[u]] + '.price.taxRate', D('transaction.-1.total.taxRate')),
                                                eVar126: D('transaction.-1.total.shippingMethod')
                                            }, I = [
                                                'event851=' + D('transaction.-1.item.' + w[V[u]] + '.price.basePrice', '0'),
                                                'event852=' + (v < 0 ? + +g * v / g : v),
                                                'event853=' + (v < 0 ? +g * v : v),
                                                'event854=' + D('transaction.-1.item.' + w[V[u]] + '.price.taxRate', '0'),
                                                'event855=' + D('transaction.-1.item.' + w[V[u]] + '.price.taxRate', '0'),
                                                'event856=' + D('transaction.-1.item.' + w[V[u]] + '.price.priceWithTax', '0'),
                                                'event857=' + D('transaction.-1.item.' + w[V[u]] + '.price.shipping', '0'),
                                                'event858=' + D('transaction.-1.item.' + w[V[u]] + '.quantity', '0')
                                            ], d.events = I, d.quantity = D('transaction.-1.item.' + w[V[u]] + '.quantity', '0'), d.price = D('transaction.-1.item.' + w[V[u]] + '.price.priceWithTax', '0'), e.linkTrackEvents.indexOf('event851,event852,event853,event854,event855,event856,event857,event858') < 0 && (e.linkTrackEvents += ',event851,event852,event853,event854,event855,event856,event857,event858', e.events += ',event851,event852,event853,event854,event855,event856,event857,event858')) : 'Related Service / Finance' == f || 'service' == f ? (d.merchEvars = {
                                                eVar52: D('transaction.-1.item.' + w[V[u]] + '.productInfo.productName'),
                                                eVar53: D('transaction.-1.item.' + w[V[u]] + '.category.primaryCategory'),
                                                eVar54: D('transaction.-1.item.' + w[V[u]] + '.category.subCategory1'),
                                                eVar10: D('product.' + a[m] + '.attributes.mmdr', D('product.' + a[m] + '.attributes.internalCode')),
                                                eVar44: D('product.' + a[m] + '.attributes.productionYear'),
                                                eVar45: D('product.' + a[m] + '.attributes.yearOfRegistration'),
                                                eVar46: D('product.' + a[m] + '.attributes.vehicleStatus', D('product.' + a[m] + '.attributes.vehicleSelection')),
                                                eVar47: D('product.' + a[m] + '.productInfo.color'),
                                                eVar48: D('product.' + a[m] + '.attributes.modelCode'),
                                                eVar49: D('product.' + a[m] + '.attributes.gearing'),
                                                eVar50: D('product.' + a[m] + '.attributes.series'),
                                                eVar51: D('product.' + a[m] + '.attributes.bodyType'),
                                                eVar56: D('product.' + a[m] + '.attributes.fuelType'),
                                                eVar57: D('product.' + a[m] + '.attributes.hybridVersion'),
                                                eVar58: D('product.' + a[m] + '.attributes.motorization', D('product.' + a[m] + '.attributes.engine')),
                                                eVar59: D('product.' + a[m] + '.attributes.configID', D('product.' + a[m] + '.attributes.configLink')),
                                                eVar60: D('product.' + a[m] + '.productInfo.manufacturer'),
                                                eVar65: D('product.' + a[m] + '.attributes.modelName'),
                                                eVar66: D('product.' + a[m] + '.attributes.trimLevel'),
                                                eVar121: D('transaction.-1.item.' + w[V[u]] + '.price.voucherCode', D('transaction.-1.total.voucherCode')),
                                                eVar124: D('transaction.-1.item.' + w[V[u]] + '.price.taxRate', D('transaction.-1.total.taxRate')),
                                                eVar126: D('transaction.-1.total.shippingMethod')
                                            }, I = [
                                                'event851=' + D('transaction.-1.item.' + w[V[u]] + '.price.basePrice', '0'),
                                                'event852=' + (v < 0 ? + +g * v / g : v),
                                                'event853=' + (v < 0 ? +g * v : v),
                                                'event854=' + D('transaction.-1.item.' + w[V[u]] + '.price.taxRate', '0'),
                                                'event855=' + D('transaction.-1.item.' + w[V[u]] + '.price.taxRate', '0'),
                                                'event856=' + D('transaction.-1.item.' + w[V[u]] + '.price.priceWithTax', '0'),
                                                'event857=' + D('transaction.-1.item.' + w[V[u]] + '.price.shipping', '0'),
                                                'event858=' + D('transaction.-1.item.' + w[V[u]] + '.price.priceWithTax', '0')
                                            ], d.events = I, d.quantity = D('transaction.-1.item.' + w[V[u]] + '.quantity', '0'), d.price = D('transaction.-1.item.' + w[V[u]] + '.price.priceWithTax', '0'), e.linkTrackEvents.indexOf('event851,event852,event853,event854,event855,event856,event857,event858') < 0 && (e.linkTrackEvents += ',event851,event852,event853,event854,event855,event856,event857,event858', e.events += ',event851,event852,event853,event854,event855,event856,event857,event858')) : 'Options & Accessory' != f && 'accessory' != f || (d.merchEvars = {
                                                eVar52: D('transaction.-1.item.' + w[V[u]] + '.productInfo.productName'),
                                                eVar53: D('transaction.-1.item.' + w[V[u]] + '.category.primaryCategory'),
                                                eVar54: D('transaction.-1.item.' + w[V[u]] + '.category.subCategory1'),
                                                eVar10: D('product.' + a[m] + '.attributes.mmdr', D('product.' + a[m] + '.attributes.internalCode')),
                                                eVar44: D('product.' + a[m] + '.attributes.productionYear'),
                                                eVar45: D('product.' + a[m] + '.attributes.yearOfRegistration'),
                                                eVar46: D('product.' + a[m] + '.attributes.vehicleStatus', D('product.' + a[m] + '.attributes.vehicleSelection')),
                                                eVar47: D('product.' + a[m] + '.productInfo.color'),
                                                eVar48: D('product.' + a[m] + '.attributes.modelCode'),
                                                eVar49: D('product.' + a[m] + '.attributes.gearing'),
                                                eVar50: D('product.' + a[m] + '.attributes.series'),
                                                eVar51: D('product.' + a[m] + '.attributes.bodyType'),
                                                eVar56: D('product.' + a[m] + '.attributes.fuelType'),
                                                eVar57: D('product.' + a[m] + '.attributes.hybridVersion'),
                                                eVar58: D('product.' + a[m] + '.attributes.motorization', D('product.' + a[m] + '.attributes.engine')),
                                                eVar59: D('product.' + a[m] + '.attributes.configID', D('product.' + a[m] + '.attributes.configLink')),
                                                eVar60: D('product.' + a[m] + '.productInfo.manufacturer'),
                                                eVar65: D('product.' + a[m] + '.attributes.modelName'),
                                                eVar66: D('product.' + a[m] + '.attributes.trimLevel'),
                                                eVar121: D('transaction.-1.item.' + w[V[u]] + '.price.voucherCode', D('transaction.-1.total.voucherCode')),
                                                eVar124: D('transaction.-1.item.' + w[V[u]] + '.price.taxRate', D('transaction.-1.total.taxRate')),
                                                eVar126: D('transaction.-1.total.shippingMethod')
                                            }, I = [
                                                'event851=' + D('transaction.-1.item.' + w[V[u]] + '.price.basePrice', '0'),
                                                'event852=' + (v < 0 ? + +g * v / g : v),
                                                'event853=' + (v < 0 ? +g * v : v),
                                                'event854=' + D('transaction.-1.item.' + w[V[u]] + '.price.taxRate', '0'),
                                                'event855=' + D('transaction.-1.item.' + w[V[u]] + '.price.taxRate', '0'),
                                                'event856=' + D('transaction.-1.item.' + w[V[u]] + '.price.priceWithTax', '0'),
                                                'event857=' + D('transaction.-1.item.' + w[V[u]] + '.price.shipping', '0'),
                                                'event858=' + D('transaction.-1.item.' + w[V[u]] + '.price.priceWithTax', '0')
                                            ], d.events = I, d.quantity = D('transaction.-1.item.' + w[V[u]] + '.quantity', '0'), d.price = D('transaction.-1.item.' + w[V[u]] + '.price.priceWithTax', '0'), e.linkTrackEvents.indexOf('event851,event852,event853,event854,event855,event856,event857,event858') < 0 && (e.linkTrackEvents += ',event851,event852,event853,event854,event855,event856,event857,event858', e.events += ',event851,event852,event853,event854,event855,event856,event857,event858')), r += d.toString() + ',');
                                    }
                                    e.products != undefined ? e.products += r.slice(0, -1) : e.products = r.slice(0, -1), 'undefined' != e.products && (e.linkTrackVars += ',products'), e.events += ',event861=' + D('cart.price.basePrice', D('transaction.-1.total.basePrice', '0')), 'datalayer field empty' != D('transaction.-1.total.taxRate') && 'datalayer field missing' != D('transaction.-1.total.taxRate') ? (e.events += ',event862=' + (y < 0 ? + +h * y / h : y), e.events += ',event863=' + (y < 0 ? +h * y : y)) : (e.events += ',event862=' + (v < 0 ? + +g * v / g : v), e.events += ',event863=' + (v < 0 ? +g * v : v)), e.events += ',event864=' + D('cart.price.taxRate', D('transaction.-1.total.taxRate', '0')), e.events += ',event865=' + D('cart.price.taxRate', D('transaction.-1.total.taxRate', '0')), e.events += ',event866=' + D('cart.price.priceWithTax', D('transaction.-1.total.priceWithTax', '0')), e.events += ',event867=' + D('cart.price.shipping', D('transaction.-1.total.shipping', '0')), e.events += ',event868=' + D('cart.price.cartTotal', D('transaction.-1.total.transactionTotal', '0')), e.linkTrackEvents += ',event861,event862,event863,event864,event865,event866,event867,event868', e.eVar120 = D('cart.cartID'), e.eVar122 = D('page.attributes.currencyCode', D('transaction.-1.total.currency', D('cart.price.currency'))), e.eVar123 = D('transaction.-1.attributes.paymentMethod'), e.eVar125 = D('transaction.-1.transactionID'), e.linkTrackVars += ',eVar120,eVar122,eVar123,eVar125';
                                } catch (j) {
                                    var S = { name: 'setProductString' };
                                    _satellite.logger.error(j, S);
                                }
                            };
                        }
                    }
                },
                'KIT-helpers': {
                    modulePath: 'bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js',
                    settings: { helperTools: null }
                },
                removePII: {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            function o(e) {
                                var t = [];
                                if ('string' == typeof e) {
                                    var r = e.toLowerCase();
                                    i.forEach(function (e) {
                                        -1 != r.indexOf(e) && t.push(e);
                                    });
                                }
                                return t;
                            }
                            function e(r) {
                                var a = [], n = new RegExp('[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}', 'gi');
                                return s.forEach(function (t) {
                                    Object.keys(r).forEach(function (e) {
                                        0 === e.indexOf(t) && r[e] && (o(r[e]).length || 'string' == typeof r[e] && r[e].match(n)) && a.push(e);
                                    });
                                }), a;
                            }
                            function a(e) {
                                var t = e, r = o(e);
                                if (r.length)
                                    r.forEach(function (e) {
                                        t = n(e, t);
                                    });
                                else {
                                    var a = new RegExp('[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}', 'gi');
                                    if (e.match(a))
                                        return n('withoutVin', e);
                                }
                                return t;
                            }
                            function n(e, t) {
                                var r, a, n = t.split('?')[0], o = -1 !== t.indexOf('?') ? t.split('?')[1] : '', i = '?';
                                if (o || (n = t.split('#')[0], i = '#', o = -1 !== t.indexOf('#') ? t.split('#')[1] : ''), '' !== o) {
                                    for (var s = (a = o.split('&')).length - 1; 0 <= s; s--)
                                        a[s].split('=')[0].toLowerCase() === e && a.splice(s, 1);
                                    n = n + i + a.join('&');
                                }
                                if (-1 != n.toLowerCase().indexOf(e) && (r = new RegExp('[a-z]' + e + '[a-z]', 'gi'), result = n.match(r), result || (n = n.toLowerCase().split(e)[0])), r = new RegExp('[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}', 'gi'), result = n.match(r), result)
                                    for (var c = 0; c < result.length; c++)
                                        n = n.replace(result[c].slice(1), 'potential_pii_removed');
                                return n;
                            }
                            function t(r) {
                                return e(r).forEach(function (e) {
                                    var t = r[e];
                                    r[e] = a(t);
                                }), r;
                            }
                            function r(e) {
                                switch (typeof e) {
                                case 'object':
                                    return t(e);
                                case 'string':
                                    return a(e);
                                default:
                                    return Error('Not a valid parameter');
                                }
                            }
                            try {
                                var i = [
                                        'firstname',
                                        'lastname',
                                        'email',
                                        'vin',
                                        'name',
                                        'loginid',
                                        'password',
                                        'registrationpassword',
                                        'confirmationpassword',
                                        'confirmregistrationpassword',
                                        'registrationid',
                                        'passwordconfirmation',
                                        'username',
                                        'enname',
                                        'token',
                                        'phone',
                                        'telephone'
                                    ], s = [
                                        'eVar',
                                        'prop',
                                        'referrer',
                                        'pageURL',
                                        'pageName',
                                        'channel',
                                        'hier1'
                                    ];
                                return r;
                            } catch (p) {
                                var c = {
                                    from: 'AA',
                                    type: 'DE',
                                    name: 'removePII'
                                };
                                _satellite.logger.error(p, c);
                            }
                        }
                    }
                },
                tracy_domain: {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return 'http://tracy.localformtracking.com/test-tool';
                        }
                    }
                },
                smartPreviousValueManager: {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            try {
                                var a = _satellite.getVar('KIT-helpers').cache;
                                if (-1 < window.location.host.indexOf('mini.'))
                                    var n = 'minidtm_hq_previouspage_meta';
                                else
                                    n = 'bmwdtm_hq_previouspage_meta';
                                try {
                                    var o = JSON.parse(window.decodeURIComponent(_satellite.cookie.get(n) || '{}'));
                                } catch (i) {
                                    o = {};
                                }
                                return a.get(n) || a.set(n, o), {
                                    update: function (e, t, r) {
                                        try {
                                            o = JSON.parse(window.decodeURIComponent(_satellite.cookie.get(n) || '{}'));
                                        } catch (i) {
                                            o = {};
                                        }
                                        o[e] = t, _satellite.cookie.set(n, window.encodeURIComponent(JSON.stringify(o)), { domain: _satellite.getVar('topLevelDomain') }), r && (a.get(n)[e] = t);
                                    },
                                    remove: function (e, t) {
                                        try {
                                            o = JSON.parse(window.decodeURIComponent(_satellite.cookie.get(n) || '{}'));
                                        } catch (i) {
                                            o = {};
                                        }
                                        delete o[e], _satellite.cookie.set(n, window.encodeURIComponent(JSON.stringify(o)), {
                                            domain: _satellite.getVar('topLevelDomain'),
                                            expires: 1800000 / 86400000
                                        }), t && delete a.get(n)[e];
                                    },
                                    get: function (e) {
                                        return a.get(n)[e];
                                    }
                                };
                            } catch (i) {
                                var e = {
                                    from: 'AA',
                                    type: 'DE',
                                    name: 'smartPreviousValueManager'
                                };
                                _satellite.logger.error(i, e);
                            }
                        }
                    }
                },
                setDefaultVariables: {
                    modulePath: 'core/src/lib/dataElements/customCode.js',
                    settings: {
                        source: function () {
                            return function (e) {
                                try {
                                    e.account = _satellite.getVar('rsid') || 'bmwgroup.group.global.test', e.trackingServer = 'bmwag.d3.sc.omtrdc.net';
                                    var t = '';
                                    digitalData && 'undefined' != typeof digitalData && (t = digitalData), e.pageName = t && t.page ? t.page.pageInfo.pageName : document.title, e.linkTrackVars = 'pageName', e.server = location.host, e.linkTrackVars += ',server';
                                    var r = t.page, a = (((r || '').pageInfo || '').destinationURL || window.location.href, t.product && t.product[t.product.length - 1], t.component && t.component[t.component.length - 1]), n = t && t.user && t.user[t.user.length - 1], o = (n && n.profile && n.profile[n.profile.length - 1], t.event && t.event[t.event.length - 1]), i = (t.dealer && t.dealer[t.dealer.length - 1], t.cart, t.transaction && t.transaction[t.transaction.length - 1], t.version, new Date());
                                    if (e.eVar4 = URL, 255 < URL.length && (e.eVar5 = URL.substring(255, URL.length)), _satellite.cookie.get('bmwdtm_hq_previouspage_meta') && null != _satellite.cookie.get('bmwdtm_hq_previouspage_meta')) {
                                        var s = decodeURIComponent(_satellite.cookie.get('bmwdtm_hq_previouspage_meta'));
                                        s = JSON.parse(s), e.eVar14 = s.url, e.prop30 = -1 < s.url.indexOf(location.hostname) ? 'internal' : 'external', e.prop31 = s.pagePrimaryCategory, e.prop32 = s.pageSubCategory01, e.prop33 = s.pageName, e.eVar28 = s.componentSubcategory1, e.linkTrackVars += ',eVar14,eVar28,prop30,prop31,prop32,prop33', _satellite.cookie.set('bmwdtm_hq_previouspage_meta', '');
                                    }
                                    if (_satellite.cookie.get('prevPageContent') && 1 < _satellite.cookie.get('prevPageContent').split(';').length) {
                                        var c = _satellite.cookie.get('prevPageContent');
                                        _satellite.setVar('prevContent', c), c = c.split(';'), e.eVar14 = c[0], e.prop30 = -1 < c[0].indexOf(location.hostname) ? 'internal' : 'external', e.prop31 = c[2], e.prop32 = c[3], e.prop33 = c[4], e.eVar28 = c[5], e.linkTrackVars += ',eVar14,eVar28,prop30,prop31,prop32,prop33';
                                    }
                                    if (e.prop3 = ((r || '').category || '').primaryCategory || '', e.prop4 = ((r || '').category || '').subCategory1 || '', e.eVar11 = location.hash.split('#')[1], e.eVar12 = location.protocol + '//' + location.host + location.pathname, e.eVar13 = location.search.split('?')[1], e.eVar6 = document.referrer, e.pageType = 'error' == (((r || '').category || '').pageType || '') ? 'errorPage' : '', e.eVar132 = navigator.userAgent, e.eVar133 = 'D=mid', typeof window.processingWrapper != undefined && window.processingWrapper && 'function' == typeof window.processingWrapper._getProcessingInfo) {
                                        var p = window.processingWrapper._getProcessingInfo('BaseTracking', {
                                            type: window.processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,
                                            format: window.processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2
                                        });
                                        e.prop60 = p.drawer, e.prop61 = p.identities, e.prop62 = p.settings, e.prop63 = p.defaults, e.prop64 = p.consents, e.linkTrackVars += ',prop60,prop61,prop62,prop63,prop64';
                                    }
                                    if (e.prop66 = window.screen.width * window.devicePixelRatio, e.prop67 = window.screen.height * window.devicePixelRatio, e.prop68 = window.screen.width >= window.screen.height ? 'landscape' : 'portrait', e.prop71 = _satellite.buildInfo.buildDate, e.prop72 = e.visitor.version, e.prop73 = e.version, e.eVar8 = ((r || '').pageInfo || '').geoRegion || '', '' == e.eVar8 || 'na' == e.eVar8) {
                                        var l = window.location.host.split('.'), u = l[l.length - 1].toUpperCase();
                                        e.eVar8 = u;
                                    }
                                    e.prop14 = i.getUTCHours() + ':' + i.getUTCMinutes() + ':' + i.getUTCSeconds(), e.prop15 = i.getHours() + ':' + i.getMinutes() + ':' + i.getSeconds(), e.prop56 = ((o || '').eventInfo || '').eventName || '', e.prop19 = ((a || '').componentInfo || '').componentName || '', e.prop42 = ((a || '').category || '').primaryCategory || '', e.prop43 = ((a || '').category || '').subCategory1 || '', '' != e.linkTrackVars && e.linkTrackVars != undefined ? e.linkTrackVars += ',eVar4,eVar5,prop3,prop4,eVar11,eVar12,eVar13,eVar6,eVar132,eVar133,prop66,prop67,prop68,prop71,prop72,prop73,eVar8,prop14,prop15,prop56,prop19,prop42,prop43' : e.linkTrackVars = ',eVar4,eVar5,prop3,prop4,eVar11,eVar12,eVar13,eVar6,eVar132,eVar133,prop66,prop67,prop68,prop71,prop72,prop73,eVar8,prop14,prop15,prop56,prop19,prop42,prop43';
                                } catch (f) {
                                    var d = { name: 'setDefaultVariables' };
                                    _satellite.logger.error(f, d);
                                }
                            };
                        }
                    }
                }
            },
            extensions: {
                core: {
                    displayName: 'Core',
                    modules: {
                        'core/src/lib/dataElements/customCode.js': {
                            name: 'custom-code',
                            displayName: 'Custom Code',
                            script: function (e) {
                                'use strict';
                                e.exports = function (e, t) {
                                    return e.source(t);
                                };
                            }
                        },
                        'core/src/lib/events/windowLoaded.js': {
                            name: 'window-loaded',
                            displayName: 'Window Loaded',
                            script: function (e, t, r) {
                                'use strict';
                                var a = r('./helpers/pageLifecycleEvents');
                                e.exports = function (e, t) {
                                    a.registerWindowLoadedTrigger(t);
                                };
                            }
                        },
                        'core/src/lib/actions/customCode.js': {
                            name: 'custom-code',
                            displayName: 'Custom Code',
                            script: function (e, t, r, o) {
                                'use strict';
                                var i, a, n, s, c = r('@adobe/reactor-document'), p = r('@adobe/reactor-promise'), l = r('./helpers/decorateCode'), u = r('./helpers/loadCodeSequentially'), d = r('../../../node_modules/postscribe/dist/postscribe'), f = r('./helpers/unescapeHtmlCode'), m = (a = function (e) {
                                        d(c.body, e, {
                                            beforeWriteToken: function (t) {
                                                var e = t.tagName && t.tagName.toLowerCase();
                                                return i && 'script' === e && (t.attrs.nonce = i), 'script' !== e && 'style' !== e || (Object.keys(t.attrs || {}).forEach(function (e) {
                                                    t.attrs[e] = f(t.attrs[e]);
                                                }), t.src && (t.src = f(t.src))), t;
                                            },
                                            error: function (e) {
                                                o.logger.error(e.msg);
                                            }
                                        });
                                    }, n = [], s = function () {
                                        if (c.body)
                                            for (; n.length;)
                                                a(n.shift());
                                        else
                                            setTimeout(s, 20);
                                    }, function (e) {
                                        n.push(e), s();
                                    }), v = function () {
                                        if (c.currentScript)
                                            return c.currentScript.async;
                                        for (var e = c.querySelectorAll('script'), t = 0; t < e.length; t++) {
                                            var r = e[t];
                                            if (/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/.test(r.src))
                                                return r.async;
                                        }
                                        return !0;
                                    }();
                                e.exports = function (e, t) {
                                    var r;
                                    i = o.getExtensionSettings().cspNonce;
                                    var a = {
                                            settings: e,
                                            event: t
                                        }, n = a.settings.source;
                                    if (n)
                                        return a.settings.isExternal ? u(n).then(function (e) {
                                            return e ? (r = l(a, e), m(r.code), r.promise) : p.resolve();
                                        }) : (r = l(a, n), v || 'loading' !== c.readyState ? m(r.code) : c.write && !1 === o.propertySettings.ruleComponentSequencingEnabled ? c.write(r.code) : m(r.code), r.promise);
                                };
                            }
                        },
                        'core/src/lib/events/libraryLoaded.js': {
                            name: 'library-loaded',
                            displayName: 'Library Loaded (Page Top)',
                            script: function (e, t, r) {
                                'use strict';
                                var a = r('./helpers/pageLifecycleEvents');
                                e.exports = function (e, t) {
                                    a.registerLibraryLoadedTrigger(t);
                                };
                            }
                        },
                        'core/src/lib/events/pageBottom.js': {
                            name: 'page-bottom',
                            displayName: 'Page Bottom',
                            script: function (e, t, r) {
                                'use strict';
                                var a = r('./helpers/pageLifecycleEvents');
                                e.exports = function (e, t) {
                                    a.registerPageBottomTrigger(t);
                                };
                            }
                        },
                        'core/src/lib/events/directCall.js': {
                            name: 'direct-call',
                            displayName: 'Direct Call',
                            script: function (e, t, r, o) {
                                'use strict';
                                var i = {};
                                window._satellite = window._satellite || {}, window._satellite.track = function (e, t) {
                                    e = e.trim();
                                    var r = i[e];
                                    if (r) {
                                        var a = {
                                            identifier: e,
                                            detail: t
                                        };
                                        r.forEach(function (e) {
                                            e(a);
                                        });
                                        var n = ['Rules using the direct call event type with identifier "' + e + '" have been triggered' + (t ? ' with additional detail:' : '.')];
                                        t && n.push(t), o.logger.log.apply(o.logger, n);
                                    } else
                                        o.logger.log('"' + e + '" does not match any direct call identifiers.');
                                }, e.exports = function (e, t) {
                                    var r = i[e.identifier];
                                    r || (r = i[e.identifier] = []), r.push(t);
                                };
                            }
                        },
                        'core/src/lib/events/helpers/pageLifecycleEvents.js': {
                            script: function (e, t, r) {
                                'use strict';
                                var a = r('@adobe/reactor-window'), n = r('@adobe/reactor-document'), o = -1 !== a.navigator.appVersion.indexOf('MSIE 10'), i = 'WINDOW_LOADED', s = 'DOM_READY', c = 'PAGE_BOTTOM', p = [
                                        c,
                                        s,
                                        i
                                    ], l = function (e, t) {
                                        return {
                                            element: e,
                                            target: e,
                                            nativeEvent: t
                                        };
                                    }, u = {};
                                p.forEach(function (e) {
                                    u[e] = [];
                                });
                                var d = function (e, t) {
                                        p.slice(0, m(e) + 1).forEach(function (e) {
                                            v(t, e);
                                        });
                                    }, f = function () {
                                        return 'complete' === n.readyState ? i : 'interactive' === n.readyState ? o ? null : s : void 0;
                                    }, m = function (e) {
                                        return p.indexOf(e);
                                    }, v = function (t, e) {
                                        u[e].forEach(function (e) {
                                            g(t, e);
                                        }), u[e] = [];
                                    }, g = function (e, t) {
                                        var r = t.trigger, a = t.syntheticEventFn;
                                        r(a ? a(e) : null);
                                    };
                                a._satellite = a._satellite || {}, a._satellite.pageBottom = d.bind(null, c), n.addEventListener('DOMContentLoaded', d.bind(null, s), !0), a.addEventListener('load', d.bind(null, i), !0), a.setTimeout(function () {
                                    var e = f();
                                    e && d(e);
                                }, 0), e.exports = {
                                    registerLibraryLoadedTrigger: function (e) {
                                        e();
                                    },
                                    registerPageBottomTrigger: function (e) {
                                        u[c].push({ trigger: e });
                                    },
                                    registerDomReadyTrigger: function (e) {
                                        u[s].push({
                                            trigger: e,
                                            syntheticEventFn: l.bind(null, n)
                                        });
                                    },
                                    registerWindowLoadedTrigger: function (e) {
                                        u[i].push({
                                            trigger: e,
                                            syntheticEventFn: l.bind(null, a)
                                        });
                                    }
                                };
                            }
                        },
                        'core/src/lib/actions/helpers/decorateCode.js': {
                            script: function (e, t, r) {
                                'use strict';
                                var a = r('./decorators/decorateGlobalJavaScriptCode'), n = r('./decorators/decorateNonGlobalJavaScriptCode'), o = {
                                        javascript: function (e, t) {
                                            return e.settings.global ? a(e, t) : n(e, t);
                                        },
                                        html: r('./decorators/decorateHtmlCode')
                                    };
                                e.exports = function (e, t) {
                                    return o[e.settings.language](e, t);
                                };
                            }
                        },
                        'core/src/lib/actions/helpers/loadCodeSequentially.js': {
                            script: function (e, t, r) {
                                'use strict';
                                var a = r('@adobe/reactor-promise'), n = r('./getSourceByUrl'), o = a.resolve();
                                e.exports = function (t) {
                                    var e = new a(function (r) {
                                        var e = n(t);
                                        a.all([
                                            e,
                                            o
                                        ]).then(function (e) {
                                            var t = e[0];
                                            r(t);
                                        });
                                    });
                                    return o = e;
                                };
                            }
                        },
                        'core/node_modules/postscribe/dist/postscribe.js': {
                            script: function (r, a) {
                                !function n(e, t) {
                                    'object' == typeof a && 'object' == typeof r ? r.exports = t() : 'function' == typeof define && define.amd ? define([], t) : 'object' == typeof a ? a.postscribe = t() : e.postscribe = t();
                                }(this, function () {
                                    return function (r) {
                                        function a(e) {
                                            if (n[e])
                                                return n[e].exports;
                                            var t = n[e] = {
                                                exports: {},
                                                id: e,
                                                loaded: !1
                                            };
                                            return r[e].call(t.exports, t, t.exports, a), t.loaded = !0, t.exports;
                                        }
                                        var n = {};
                                        return a.m = r, a.c = n, a.p = '', a(0);
                                    }([
                                        function (e, t, r) {
                                            'use strict';
                                            function a(e) {
                                                return e && e.__esModule ? e : { 'default': e };
                                            }
                                            var n = a(r(1));
                                            e.exports = n['default'];
                                        },
                                        function (e, t, r) {
                                            'use strict';
                                            function a(e) {
                                                if (e && e.__esModule)
                                                    return e;
                                                var t = {};
                                                if (null != e)
                                                    for (var r in e)
                                                        Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                                                return t['default'] = e, t;
                                            }
                                            function n(e) {
                                                return e && e.__esModule ? e : { 'default': e };
                                            }
                                            function p() {
                                            }
                                            function l() {
                                                var e = c.shift();
                                                if (e) {
                                                    var t = i.last(e);
                                                    t.afterDequeue(), e.stream = o.apply(undefined, e), t.afterStreamStart();
                                                }
                                            }
                                            function o(e, t, a) {
                                                function n(e) {
                                                    e = a.beforeWrite(e), v.write(e), a.afterWrite(e);
                                                }
                                                (v = new f['default'](e, a)).id = m++, v.name = a.name || v.id, u.streams[v.name] = v;
                                                var r = e.ownerDocument, o = {
                                                        close: r.close,
                                                        open: r.open,
                                                        write: r.write,
                                                        writeln: r.writeln
                                                    };
                                                d(r, {
                                                    close: p,
                                                    open: p,
                                                    write: function s() {
                                                        for (var e = arguments.length, t = Array(e), r = 0; r < e; r++)
                                                            t[r] = arguments[r];
                                                        return n(t.join(''));
                                                    },
                                                    writeln: function c() {
                                                        for (var e = arguments.length, t = Array(e), r = 0; r < e; r++)
                                                            t[r] = arguments[r];
                                                        return n(t.join('') + '\n');
                                                    }
                                                });
                                                var i = v.win.onerror || p;
                                                return v.win.onerror = function (e, t, r) {
                                                    a.error({ msg: e + ' - ' + t + ': ' + r }), i.apply(v.win, [
                                                        e,
                                                        t,
                                                        r
                                                    ]);
                                                }, v.write(t, function () {
                                                    d(r, o), v.win.onerror = i, a.done(), v = null, l();
                                                }), v;
                                            }
                                            function u(e, t, r) {
                                                if (i.isFunction(r))
                                                    r = { done: r };
                                                else if ('clear' === r)
                                                    return c = [], v = null, void (m = 0);
                                                r = i.defaults(r, s);
                                                var a = [
                                                    e = /^#/.test(e) ? window.document.getElementById(e.substr(1)) : e.jquery ? e[0] : e,
                                                    t,
                                                    r
                                                ];
                                                return e.postscribe = {
                                                    cancel: function n() {
                                                        a.stream ? a.stream.abort() : a[1] = p;
                                                    }
                                                }, r.beforeEnqueue(a), c.push(a), v || l(), e.postscribe;
                                            }
                                            t.__esModule = !0;
                                            var d = Object.assign || function (e) {
                                                for (var t = 1; t < arguments.length; t++) {
                                                    var r = arguments[t];
                                                    for (var a in r)
                                                        Object.prototype.hasOwnProperty.call(r, a) && (e[a] = r[a]);
                                                }
                                                return e;
                                            };
                                            t['default'] = u;
                                            var f = n(r(2)), i = a(r(4)), s = {
                                                    afterAsync: p,
                                                    afterDequeue: p,
                                                    afterStreamStart: p,
                                                    afterWrite: p,
                                                    autoFix: !0,
                                                    beforeEnqueue: p,
                                                    beforeWriteToken: function g(e) {
                                                        return e;
                                                    },
                                                    beforeWrite: function y(e) {
                                                        return e;
                                                    },
                                                    done: p,
                                                    error: function h(e) {
                                                        throw new Error(e.msg);
                                                    },
                                                    releaseAsync: !1
                                                }, m = 0, c = [], v = null;
                                            d(u, {
                                                streams: {},
                                                queue: c,
                                                WriteStream: f['default']
                                            });
                                        },
                                        function (e, t, r) {
                                            'use strict';
                                            function a(e) {
                                                if (e && e.__esModule)
                                                    return e;
                                                var t = {};
                                                if (null != e)
                                                    for (var r in e)
                                                        Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                                                return t['default'] = e, t;
                                            }
                                            function n(e) {
                                                return e && e.__esModule ? e : { 'default': e };
                                            }
                                            function b(e, t) {
                                                if (!(e instanceof t))
                                                    throw new TypeError('Cannot call a class as a function');
                                            }
                                            function k(e, t) {
                                                var r = w + t, a = e.getAttribute(r);
                                                return _.existy(a) ? String(a) : a;
                                            }
                                            function C(e, t, r) {
                                                var a = 2 < arguments.length && r !== undefined ? arguments[2] : null, n = w + t;
                                                _.existy(a) && '' !== a ? e.setAttribute(n, a) : e.removeAttribute(n);
                                            }
                                            t.__esModule = !0;
                                            var I = Object.assign || function (e) {
                                                    for (var t = 1; t < arguments.length; t++) {
                                                        var r = arguments[t];
                                                        for (var a in r)
                                                            Object.prototype.hasOwnProperty.call(r, a) && (e[a] = r[a]);
                                                    }
                                                    return e;
                                                }, T = n(r(3)), _ = a(r(4)), V = !1, w = 'data-ps-', S = 'ps-style', j = 'ps-script', o = function () {
                                                    function a(e, t) {
                                                        var r = 1 < arguments.length && t !== undefined ? arguments[1] : {};
                                                        b(this, a), this.root = e, this.options = r, this.doc = e.ownerDocument, this.win = this.doc.defaultView || this.doc.parentWindow, this.parser = new T['default']('', { autoFix: r.autoFix }), this.actuals = [e], this.proxyHistory = '', this.proxyRoot = this.doc.createElement(e.nodeName), this.scriptStack = [], this.writeQueue = [], C(this.proxyRoot, 'proxyof', 0);
                                                    }
                                                    return a.prototype.write = function r() {
                                                        var e;
                                                        for ((e = this.writeQueue).push.apply(e, arguments); !this.deferredRemote && this.writeQueue.length;) {
                                                            var t = this.writeQueue.shift();
                                                            _.isFunction(t) ? this._callFunction(t) : this._writeImpl(t);
                                                        }
                                                    }, a.prototype._callFunction = function n(e) {
                                                        var t = {
                                                            type: 'function',
                                                            value: e.name || e.toString()
                                                        };
                                                        this._onScriptStart(t), e.call(this.win, this.doc), this._onScriptDone(t);
                                                    }, a.prototype._writeImpl = function o(e) {
                                                        this.parser.append(e);
                                                        for (var t = void 0, r = void 0, a = void 0, n = []; (t = this.parser.readToken()) && !(r = _.isScript(t)) && !(a = _.isStyle(t));)
                                                            (t = this.options.beforeWriteToken(t)) && n.push(t);
                                                        0 < n.length && this._writeStaticTokens(n), r && this._handleScriptToken(t), a && this._handleStyleToken(t);
                                                    }, a.prototype._writeStaticTokens = function i(e) {
                                                        var t = this._buildChunk(e);
                                                        return t.actual ? (t.html = this.proxyHistory + t.actual, this.proxyHistory += t.proxy, this.proxyRoot.innerHTML = t.html, V && (t.proxyInnerHTML = this.proxyRoot.innerHTML), this._walkChunk(), V && (t.actualInnerHTML = this.root.innerHTML), t) : null;
                                                    }, a.prototype._buildChunk = function l(e) {
                                                        for (var t = this.actuals.length, r = [], a = [], n = [], o = e.length, i = 0; i < o; i++) {
                                                            var s = e[i], c = s.toString();
                                                            if (r.push(c), s.attrs) {
                                                                if (!/^noscript$/i.test(s.tagName)) {
                                                                    var p = t++;
                                                                    a.push(c.replace(/(\/?>)/, ' ' + w + 'id=' + p + ' $1')), s.attrs.id !== j && s.attrs.id !== S && n.push('atomicTag' === s.type ? '' : '<' + s.tagName + ' ' + w + 'proxyof=' + p + (s.unary ? ' />' : '>'));
                                                                }
                                                            } else
                                                                a.push(c), n.push('endTag' === s.type ? c : '');
                                                        }
                                                        return {
                                                            tokens: e,
                                                            raw: r.join(''),
                                                            actual: a.join(''),
                                                            proxy: n.join('')
                                                        };
                                                    }, a.prototype._walkChunk = function s() {
                                                        for (var e = void 0, t = [this.proxyRoot]; _.existy(e = t.shift());) {
                                                            var r = 1 === e.nodeType;
                                                            if (!r || !k(e, 'proxyof')) {
                                                                r && C(this.actuals[k(e, 'id')] = e, 'id');
                                                                var a = e.parentNode && k(e.parentNode, 'proxyof');
                                                                a && this.actuals[a].appendChild(e);
                                                            }
                                                            t.unshift.apply(t, _.toArray(e.childNodes));
                                                        }
                                                    }, a.prototype._handleScriptToken = function c(e) {
                                                        var t = this, r = this.parser.clear();
                                                        r && this.writeQueue.unshift(r), e.src = e.attrs.src || e.attrs.SRC, (e = this.options.beforeWriteToken(e)) && (e.src && this.scriptStack.length ? this.deferredRemote = e : this._onScriptStart(e), this._writeScriptToken(e, function () {
                                                            t._onScriptDone(e);
                                                        }));
                                                    }, a.prototype._handleStyleToken = function p(e) {
                                                        var t = this.parser.clear();
                                                        t && this.writeQueue.unshift(t), e.type = e.attrs.type || e.attrs.TYPE || 'text/css', (e = this.options.beforeWriteToken(e)) && this._writeStyleToken(e), t && this.write();
                                                    }, a.prototype._writeStyleToken = function u(e) {
                                                        var t = this._buildStyle(e);
                                                        this._insertCursor(t, S), e.content && (t.styleSheet && !t.sheet ? t.styleSheet.cssText = e.content : t.appendChild(this.doc.createTextNode(e.content)));
                                                    }, a.prototype._buildStyle = function t(e) {
                                                        var r = this.doc.createElement(e.tagName);
                                                        return r.setAttribute('type', e.type), _.eachKey(e.attrs, function (e, t) {
                                                            r.setAttribute(e, t);
                                                        }), r;
                                                    }, a.prototype._insertCursor = function d(e, t) {
                                                        this._writeImpl('<span id="' + t + '"/>');
                                                        var r = this.doc.getElementById(t);
                                                        r && r.parentNode.replaceChild(e, r);
                                                    }, a.prototype._onScriptStart = function f(e) {
                                                        e.outerWrites = this.writeQueue, this.writeQueue = [], this.scriptStack.unshift(e);
                                                    }, a.prototype._onScriptDone = function m(e) {
                                                        e === this.scriptStack[0] ? (this.scriptStack.shift(), this.write.apply(this, e.outerWrites), !this.scriptStack.length && this.deferredRemote && (this._onScriptStart(this.deferredRemote), this.deferredRemote = null)) : this.options.error({ msg: 'Bad script nesting or script finished twice' });
                                                    }, a.prototype._writeScriptToken = function v(e, t) {
                                                        var r = this._buildScript(e), a = this._shouldRelease(r), n = this.options.afterAsync;
                                                        e.src && (r.src = e.src, this._scriptLoadHandler(r, a ? n : function () {
                                                            t(), n();
                                                        }));
                                                        try {
                                                            this._insertCursor(r, j), r.src && !a || t();
                                                        } catch (o) {
                                                            this.options.error(o), t();
                                                        }
                                                    }, a.prototype._buildScript = function g(e) {
                                                        var r = this.doc.createElement(e.tagName);
                                                        return _.eachKey(e.attrs, function (e, t) {
                                                            r.setAttribute(e, t);
                                                        }), e.content && (r.text = e.content), r;
                                                    }, a.prototype._scriptLoadHandler = function y(t, r) {
                                                        function a() {
                                                            t = t.onload = t.onreadystatechange = t.onerror = null;
                                                        }
                                                        function n() {
                                                            a(), null != r && r(), r = null;
                                                        }
                                                        function o(e) {
                                                            a(), i(e), null != r && r(), r = null;
                                                        }
                                                        function e(e, t) {
                                                            var r = e['on' + t];
                                                            null != r && (e['_on' + t] = r);
                                                        }
                                                        var i = this.options.error;
                                                        e(t, 'load'), e(t, 'error'), I(t, {
                                                            onload: function s() {
                                                                if (t._onload)
                                                                    try {
                                                                        t._onload.apply(this, Array.prototype.slice.call(arguments, 0));
                                                                    } catch (e) {
                                                                        o({ msg: 'onload handler failed ' + e + ' @ ' + t.src });
                                                                    }
                                                                n();
                                                            },
                                                            onerror: function c() {
                                                                if (t._onerror)
                                                                    try {
                                                                        t._onerror.apply(this, Array.prototype.slice.call(arguments, 0));
                                                                    } catch (e) {
                                                                        return void o({ msg: 'onerror handler failed ' + e + ' @ ' + t.src });
                                                                    }
                                                                o({ msg: 'remote script failed ' + t.src });
                                                            },
                                                            onreadystatechange: function p() {
                                                                /^(loaded|complete)$/.test(t.readyState) && n();
                                                            }
                                                        });
                                                    }, a.prototype._shouldRelease = function h(e) {
                                                        return !/^script$/i.test(e.nodeName) || !!(this.options.releaseAsync && e.src && e.hasAttribute('async'));
                                                    }, a;
                                                }();
                                            t['default'] = o;
                                        },
                                        function (r) {
                                            !function a(e, t) {
                                                r.exports = t();
                                            }(0, function () {
                                                return function (r) {
                                                    function a(e) {
                                                        if (n[e])
                                                            return n[e].exports;
                                                        var t = n[e] = {
                                                            exports: {},
                                                            id: e,
                                                            loaded: !1
                                                        };
                                                        return r[e].call(t.exports, t, t.exports, a), t.loaded = !0, t.exports;
                                                    }
                                                    var n = {};
                                                    return a.m = r, a.c = n, a.p = '', a(0);
                                                }([
                                                    function (e, t, r) {
                                                        'use strict';
                                                        function a(e) {
                                                            return e && e.__esModule ? e : { 'default': e };
                                                        }
                                                        var n = a(r(1));
                                                        e.exports = n['default'];
                                                    },
                                                    function (e, t, r) {
                                                        'use strict';
                                                        function a(e) {
                                                            return e && e.__esModule ? e : { 'default': e };
                                                        }
                                                        function n(e) {
                                                            if (e && e.__esModule)
                                                                return e;
                                                            var t = {};
                                                            if (null != e)
                                                                for (var r in e)
                                                                    Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                                                            return t['default'] = e, t;
                                                        }
                                                        function l(e, t) {
                                                            if (!(e instanceof t))
                                                                throw new TypeError('Cannot call a class as a function');
                                                        }
                                                        t.__esModule = !0;
                                                        var u = n(r(2)), d = n(r(3)), f = a(r(6)), o = r(5), m = {
                                                                comment: /^<!--/,
                                                                endTag: /^<\//,
                                                                atomicTag: /^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,
                                                                startTag: /^</,
                                                                chars: /^[^<]/
                                                            }, i = function () {
                                                                function c(e, t) {
                                                                    var r = this, a = 0 < arguments.length && e !== undefined ? arguments[0] : '', n = 1 < arguments.length && t !== undefined ? arguments[1] : {};
                                                                    l(this, c), this.stream = a;
                                                                    var o = !1, i = {};
                                                                    for (var s in u)
                                                                        u.hasOwnProperty(s) && (n.autoFix && (i[s + 'Fix'] = !0), o = o || i[s + 'Fix']);
                                                                    o ? (this._readToken = (0, f['default'])(this, i, function () {
                                                                        return r._readTokenImpl();
                                                                    }), this._peekToken = (0, f['default'])(this, i, function () {
                                                                        return r._peekTokenImpl();
                                                                    })) : (this._readToken = this._readTokenImpl, this._peekToken = this._peekTokenImpl);
                                                                }
                                                                return c.prototype.append = function t(e) {
                                                                    this.stream += e;
                                                                }, c.prototype.prepend = function r(e) {
                                                                    this.stream = e + this.stream;
                                                                }, c.prototype._readTokenImpl = function a() {
                                                                    var e = this._peekTokenImpl();
                                                                    if (e)
                                                                        return this.stream = this.stream.slice(e.length), e;
                                                                }, c.prototype._peekTokenImpl = function n() {
                                                                    for (var e in m)
                                                                        if (m.hasOwnProperty(e) && m[e].test(this.stream)) {
                                                                            var t = d[e](this.stream);
                                                                            if (t)
                                                                                return 'startTag' === t.type && /script|style/i.test(t.tagName) ? null : (t.text = this.stream.substr(0, t.length), t);
                                                                        }
                                                                }, c.prototype.peekToken = function e() {
                                                                    return this._peekToken();
                                                                }, c.prototype.readToken = function o() {
                                                                    return this._readToken();
                                                                }, c.prototype.readTokens = function i(e) {
                                                                    for (var t = void 0; t = this.readToken();)
                                                                        if (e[t.type] && !1 === e[t.type](t))
                                                                            return;
                                                                }, c.prototype.clear = function s() {
                                                                    var e = this.stream;
                                                                    return this.stream = '', e;
                                                                }, c.prototype.rest = function p() {
                                                                    return this.stream;
                                                                }, c;
                                                            }();
                                                        for (var s in ((t['default'] = i).tokenToString = function (e) {
                                                                return e.toString();
                                                            }, i.escapeAttributes = function (e) {
                                                                var t = {};
                                                                for (var r in e)
                                                                    e.hasOwnProperty(r) && (t[r] = (0, o.escapeQuotes)(e[r], null));
                                                                return t;
                                                            }, i.supports = u))
                                                            u.hasOwnProperty(s) && (i.browserHasFlaw = i.browserHasFlaw || !u[s] && s);
                                                    },
                                                    function (e, t) {
                                                        'use strict';
                                                        var r = !(t.__esModule = !0), a = !1, n = window.document.createElement('div');
                                                        try {
                                                            var o = '<P><I></P></I>';
                                                            n.innerHTML = o, t.tagSoup = r = n.innerHTML !== o;
                                                        } catch (i) {
                                                            t.tagSoup = r = !1;
                                                        }
                                                        try {
                                                            n.innerHTML = '<P><i><P></P></i></P>', t.selfClose = a = 2 === n.childNodes.length;
                                                        } catch (i) {
                                                            t.selfClose = a = !1;
                                                        }
                                                        n = null, t.tagSoup = r, t.selfClose = a;
                                                    },
                                                    function (e, t, r) {
                                                        'use strict';
                                                        function a(e) {
                                                            var t = e.indexOf('-->');
                                                            if (0 <= t)
                                                                return new l.CommentToken(e.substr(4, t - 1), t + 3);
                                                        }
                                                        function n(e) {
                                                            var t = e.indexOf('<');
                                                            return new l.CharsToken(0 <= t ? t : e.length);
                                                        }
                                                        function o(e) {
                                                            var i, s, c;
                                                            if (-1 !== e.indexOf('>')) {
                                                                var t = e.match(u.startTag);
                                                                if (t) {
                                                                    var r = (i = {}, s = {}, c = t[2], t[2].replace(u.attr, function (e, t, r, a, n, o) {
                                                                        r || a || n || o ? arguments[5] ? (i[arguments[5]] = '', s[arguments[5]] = !0) : i[t] = arguments[2] || arguments[3] || arguments[4] || u.fillAttr.test(t) && t || '' : i[t] = '', c = c.replace(e, '');
                                                                    }), { v: new l.StartTagToken(t[1], t[0].length, i, s, !!t[3], c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '')) });
                                                                    if ('object' === (void 0 === r ? 'undefined' : p(r)))
                                                                        return r.v;
                                                                }
                                                            }
                                                        }
                                                        function i(e) {
                                                            var t = o(e);
                                                            if (t) {
                                                                var r = e.slice(t.length);
                                                                if (r.match(new RegExp('</\\s*' + t.tagName + '\\s*>', 'i'))) {
                                                                    var a = r.match(new RegExp('([\\s\\S]*?)</\\s*' + t.tagName + '\\s*>', 'i'));
                                                                    if (a)
                                                                        return new l.AtomicTagToken(t.tagName, a[0].length + t.length, t.attrs, t.booleanAttrs, a[1]);
                                                                }
                                                            }
                                                        }
                                                        function s(e) {
                                                            var t = e.match(u.endTag);
                                                            if (t)
                                                                return new l.EndTagToken(t[1], t[0].length);
                                                        }
                                                        t.__esModule = !0;
                                                        var p = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) {
                                                            return typeof e;
                                                        } : function (e) {
                                                            return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e;
                                                        };
                                                        t.comment = a, t.chars = n, t.startTag = o, t.atomicTag = i, t.endTag = s;
                                                        var l = r(4), u = {
                                                                startTag: /^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,
                                                                endTag: /^<\/([\-A-Za-z0-9_]+)[^>]*>/,
                                                                attr: /(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,
                                                                fillAttr: /^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i
                                                            };
                                                    },
                                                    function (e, t, r) {
                                                        'use strict';
                                                        function s(e, t) {
                                                            if (!(e instanceof t))
                                                                throw new TypeError('Cannot call a class as a function');
                                                        }
                                                        t.__esModule = !0, t.EndTagToken = t.AtomicTagToken = t.StartTagToken = t.TagToken = t.CharsToken = t.CommentToken = t.Token = undefined;
                                                        var c = r(5), a = t.Token = function a(e, t) {
                                                                s(this, a), this.type = e, this.length = t, this.text = '';
                                                            }, n = (t.CommentToken = function () {
                                                                function r(e, t) {
                                                                    s(this, r), this.type = 'comment', this.length = t || (e ? e.length : 0), this.text = '', this.content = e;
                                                                }
                                                                return r.prototype.toString = function e() {
                                                                    return '<!--' + this.content;
                                                                }, r;
                                                            }(), t.CharsToken = function () {
                                                                function t(e) {
                                                                    s(this, t), this.type = 'chars', this.length = e, this.text = '';
                                                                }
                                                                return t.prototype.toString = function e() {
                                                                    return this.text;
                                                                }, t;
                                                            }(), t.TagToken = function () {
                                                                function o(e, t, r, a, n) {
                                                                    s(this, o), this.type = e, this.length = r, this.text = '', this.tagName = t, this.attrs = a, this.booleanAttrs = n, this.unary = !1, this.html5Unary = !1;
                                                                }
                                                                return o.formatTag = function i(e, t) {
                                                                    var r = 1 < arguments.length && t !== undefined ? arguments[1] : null, a = '<' + e.tagName;
                                                                    for (var n in e.attrs)
                                                                        if (e.attrs.hasOwnProperty(n)) {
                                                                            a += ' ' + n;
                                                                            var o = e.attrs[n];
                                                                            'undefined' != typeof e.booleanAttrs && 'undefined' != typeof e.booleanAttrs[n] || (a += '="' + (0, c.escapeQuotes)(o) + '"');
                                                                        }
                                                                    return e.rest && (a += ' ' + e.rest), e.unary && !e.html5Unary ? a += '/>' : a += '>', r !== undefined && null !== r && (a += r + '</' + e.tagName + '>'), a;
                                                                }, o;
                                                            }());
                                                        t.StartTagToken = function () {
                                                            function i(e, t, r, a, n, o) {
                                                                s(this, i), this.type = 'startTag', this.length = t, this.text = '', this.tagName = e, this.attrs = r, this.booleanAttrs = a, this.html5Unary = !1, this.unary = n, this.rest = o;
                                                            }
                                                            return i.prototype.toString = function e() {
                                                                return n.formatTag(this);
                                                            }, i;
                                                        }(), t.AtomicTagToken = function () {
                                                            function o(e, t, r, a, n) {
                                                                s(this, o), this.type = 'atomicTag', this.length = t, this.text = '', this.tagName = e, this.attrs = r, this.booleanAttrs = a, this.unary = !1, this.html5Unary = !1, this.content = n;
                                                            }
                                                            return o.prototype.toString = function e() {
                                                                return n.formatTag(this, this.content);
                                                            }, o;
                                                        }(), t.EndTagToken = function () {
                                                            function r(e, t) {
                                                                s(this, r), this.type = 'endTag', this.length = t, this.text = '', this.tagName = e;
                                                            }
                                                            return r.prototype.toString = function e() {
                                                                return '</' + this.tagName + '>';
                                                            }, r;
                                                        }();
                                                    },
                                                    function (e, t) {
                                                        'use strict';
                                                        function r(e, t) {
                                                            var r = 1 < arguments.length && t !== undefined ? arguments[1] : '';
                                                            return e ? e.replace(/([^"]*)"/g, function (e, t) {
                                                                return /\\/.test(t) ? t + '"' : t + '\\"';
                                                            }) : r;
                                                        }
                                                        t.__esModule = !0, t.escapeQuotes = r;
                                                    },
                                                    function (e, t) {
                                                        'use strict';
                                                        function p(e) {
                                                            return e && 'startTag' === e.type && (e.unary = a.test(e.tagName) || e.unary, e.html5Unary = !/\/>$/.test(e.text)), e;
                                                        }
                                                        function l(e, t) {
                                                            var r = e.stream, a = p(t());
                                                            return e.stream = r, a;
                                                        }
                                                        function u(e, t) {
                                                            var r = t.pop();
                                                            e.prepend('</' + r.tagName + '>');
                                                        }
                                                        function d() {
                                                            var e = [];
                                                            return e.last = function () {
                                                                return this[this.length - 1];
                                                            }, e.lastTagNameEq = function (e) {
                                                                var t = this.last();
                                                                return t && t.tagName && t.tagName.toUpperCase() === e.toUpperCase();
                                                            }, e.containsTagName = function (e) {
                                                                for (var t, r = 0; t = this[r]; r++)
                                                                    if (t.tagName === e)
                                                                        return !0;
                                                                return !1;
                                                            }, e;
                                                        }
                                                        function r(r, a, t) {
                                                            function n() {
                                                                var e = l(r, t);
                                                                e && i[e.type] && i[e.type](e);
                                                            }
                                                            var o = d(), i = {
                                                                    startTag: function s(e) {
                                                                        var t = e.tagName;
                                                                        'TR' === t.toUpperCase() && o.lastTagNameEq('TABLE') ? (r.prepend('<TBODY>'), n()) : a.selfCloseFix && f.test(t) && o.containsTagName(t) ? o.lastTagNameEq(t) ? u(r, o) : (r.prepend('</' + e.tagName + '>'), n()) : e.unary || o.push(e);
                                                                    },
                                                                    endTag: function c(e) {
                                                                        o.last() ? a.tagSoupFix && !o.lastTagNameEq(e.tagName) ? u(r, o) : o.pop() : a.tagSoupFix && (t(), n());
                                                                    }
                                                                };
                                                            return function e() {
                                                                return n(), p(t());
                                                            };
                                                        }
                                                        t.__esModule = !0, t['default'] = r;
                                                        var a = /^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i, f = /^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i;
                                                    }
                                                ]);
                                            });
                                        },
                                        function (e, t) {
                                            'use strict';
                                            function a(e) {
                                                return null != e;
                                            }
                                            function r(e) {
                                                return 'function' == typeof e;
                                            }
                                            function n(e, t, r) {
                                                var a = void 0, n = e && e.length || 0;
                                                for (a = 0; a < n; a++)
                                                    t.call(r, e[a], a);
                                            }
                                            function o(e, t, r) {
                                                for (var a in e)
                                                    e.hasOwnProperty(a) && t.call(r, a, e[a]);
                                            }
                                            function i(r, e) {
                                                return r = r || {}, o(e, function (e, t) {
                                                    a(r[e]) || (r[e] = t);
                                                }), r;
                                            }
                                            function s(e) {
                                                try {
                                                    return Array.prototype.slice.call(e);
                                                } catch (a) {
                                                    var t = (r = [], n(e, function (e) {
                                                        r.push(e);
                                                    }), { v: r });
                                                    if ('object' === (void 0 === t ? 'undefined' : d(t)))
                                                        return t.v;
                                                }
                                                var r;
                                            }
                                            function c(e) {
                                                return e[e.length - 1];
                                            }
                                            function p(e, t) {
                                                return !(!e || 'startTag' !== e.type && 'atomicTag' !== e.type || !('tagName' in e) || !~e.tagName.toLowerCase().indexOf(t));
                                            }
                                            function l(e) {
                                                return p(e, 'script');
                                            }
                                            function u(e) {
                                                return p(e, 'style');
                                            }
                                            t.__esModule = !0;
                                            var d = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) {
                                                return typeof e;
                                            } : function (e) {
                                                return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e;
                                            };
                                            t.existy = a, t.isFunction = r, t.each = n, t.eachKey = o, t.defaults = i, t.toArray = s, t.last = c, t.isTag = p, t.isScript = l, t.isStyle = u;
                                        }
                                    ]);
                                });
                            }
                        },
                        'core/src/lib/actions/helpers/unescapeHtmlCode.js': {
                            script: function (e, t, r) {
                                'use strict';
                                var a = r('@adobe/reactor-document').createElement('div');
                                e.exports = function (e) {
                                    return a.innerHTML = e, a.textContent || a.innerText || e;
                                };
                            }
                        },
                        'core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js': {
                            script: function (e, t, r) {
                                'use strict';
                                var a = r('@adobe/reactor-promise');
                                e.exports = function (e, t) {
                                    return {
                                        code: '<script>\n' + t + '\n</script>',
                                        promise: a.resolve()
                                    };
                                };
                            }
                        },
                        'core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js': {
                            script: function (e, t, r) {
                                'use strict';
                                var o = r('@adobe/reactor-promise'), i = 0;
                                e.exports = function (a, e) {
                                    var n = '_runScript' + ++i, t = new o(function (e, r) {
                                            _satellite[n] = function (t) {
                                                delete _satellite[n], new o(function (e) {
                                                    e(t.call(a.event.element, a.event, a.event.target, o));
                                                }).then(e, r);
                                            };
                                        });
                                    return {
                                        code: '<script>_satellite["' + n + '"](function(event, target, Promise) {\n' + e + '\n});</script>',
                                        promise: t
                                    };
                                };
                            }
                        },
                        'core/src/lib/actions/helpers/decorators/decorateHtmlCode.js': {
                            script: function (e, t, r, a) {
                                'use strict';
                                var n = r('@adobe/reactor-promise'), o = 0, i = {};
                                window._satellite = window._satellite || {}, window._satellite._onCustomCodeSuccess = function (e) {
                                    var t = i[e];
                                    t && (delete i[e], t.resolve());
                                }, window._satellite._onCustomCodeFailure = function (e) {
                                    var t = i[e];
                                    t && (delete i[e], t.reject());
                                };
                                var s = function (e) {
                                        return -1 !== e.indexOf('${reactorCallbackId}');
                                    }, c = function (e, t) {
                                        return e.replace(/\${reactorCallbackId}/g, t);
                                    }, p = function (e) {
                                        return e.settings.isExternal;
                                    };
                                e.exports = function (e, t) {
                                    var r;
                                    return p(e) && (t = a.replaceTokens(t, e.event)), s(t) ? (r = new n(function (e, t) {
                                        i[String(o)] = {
                                            resolve: e,
                                            reject: t
                                        };
                                    }), t = c(t, o), o += 1) : r = n.resolve(), {
                                        code: t,
                                        promise: r
                                    };
                                };
                            }
                        },
                        'core/src/lib/actions/helpers/getSourceByUrl.js': {
                            script: function (e, t, r) {
                                'use strict';
                                var a = r('@adobe/reactor-load-script'), n = r('@adobe/reactor-promise'), o = {}, i = {}, s = function (e) {
                                        return i[e] || (i[e] = a(e)), i[e];
                                    };
                                _satellite.__registerScript = function (e, t) {
                                    o[e] = t;
                                }, e.exports = function (t) {
                                    return o[t] ? n.resolve(o[t]) : new n(function (e) {
                                        s(t).then(function () {
                                            e(o[t]);
                                        }, function () {
                                            e();
                                        });
                                    });
                                };
                            }
                        }
                    },
                    hostedLibFilesBaseUrl: 'https://assets.adobedtm.com/extensions/EP2348d2a246a14598a388a7b6b9a290a6/'
                },
                'bmw-group-utility-kit': {
                    displayName: 'Utility Kit',
                    modules: {
                        'bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js': {
                            name: 'data-layer-snapshot',
                            displayName: 'Data Layer Snapshot',
                            script: function (e, t, r) {
                                'use strict';
                                var a = r('../helpers/dataLayerManager');
                                e.exports = function () {
                                    return a.getSnapshot();
                                };
                            }
                        },
                        'bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js': {
                            name: 'helper-tools',
                            displayName: 'Helper Tools',
                            script: function (e, t, r) {
                                'use strict';
                                var a = r('../helpers/external_modules/deepFreeze.js')({
                                    cache: r('../helpers/cache.js'),
                                    hooks: r('../helpers/hooks.js'),
                                    privacyManager: r('../helpers/privacyManager.js')
                                });
                                e.exports = function () {
                                    return a;
                                };
                            }
                        },
                        'bmw-group-utility-kit/extension-package-src/lib/helpers/dataLayerManager.js': {
                            script: function (e, t, r, s) {
                                'use strict';
                                function a(e, t, r) {
                                    if (!e)
                                        throw new Error('\'takenAt\' is a required parameter while instantiating the Snapshot class');
                                    this.debug = { takenAt: e };
                                    var a = s.getExtensionSettings().webDL && s.getExtensionSettings().webDL.dataElement;
                                    t || a ? (this.snapshot = JSON.parse(JSON.stringify(t || a)), this.debug.type = r || (t ? i.PARAMETER : a ? i.WEBDL : i.EMPTY)) : (s.logger.warn('NOTE: Website datalayer not available while creating the snapshot'), this.snapshot = {}, this.debug.type = i.EMPTY);
                                }
                                var n, o = r('./external_modules/deepFreeze'), i = {
                                        FALLBACK: 'CURRENT_DATALAYER_STATE',
                                        WEBDL: 'WEBSITE_DATALAYER',
                                        PARAMETER: 'CUSTOM_PARAMETER',
                                        EMPTY: 'EMPTY'
                                    };
                                a.prototype.get = function (e, t) {
                                    try {
                                        for (var r = [
                                                    '',
                                                    'na',
                                                    'not set',
                                                    'n/a',
                                                    'not available',
                                                    'not yet available'
                                                ], a = (e = e || '').split('.'), n = this.snapshot, o = 0; o < a.length && n != undefined; o++)
                                            n = Array.isArray(n) && /-[0-9]+/.test(a[o]) ? n[n.length - Math.abs(parseInt(a[o]))] : n[a[o]];
                                        return 'string' == typeof n && -1 < r.indexOf(n.toLowerCase()) ? t || 'datalayer field empty' : n || t || 'datalayer field missing';
                                    } catch (i) {
                                        s.logger.error('Error:BMW Group Utility Kit:dataLayerManager:Snapshot.get()-', i);
                                    }
                                };
                                var c = function () {
                                    this.takeSnapshot = function (e, t) {
                                        return n = new a(e, t), o(n);
                                    }, this.getSnapshot = function () {
                                        return n || (s.logger.info('NOTE: No snapshot available, returning the current web datalayer, if available'), o(new a('NO_SNAPSHOT_AVAILABLE', undefined, i.FALLBACK)));
                                    }, this.removeSnapshot = function () {
                                        n = undefined;
                                    };
                                };
                                e.exports = new c();
                            }
                        },
                        'bmw-group-utility-kit/extension-package-src/lib/helpers/external_modules/deepFreeze.js': {
                            script: function (e) {
                                e.exports = function r(t) {
                                    return Object.freeze(t), Object.getOwnPropertyNames(t).forEach(function (e) {
                                        !t.hasOwnProperty(e) || null === t[e] || 'object' != typeof t[e] && 'function' != typeof t[e] || Object.isFrozen(t[e]) || r(t[e]);
                                    }), t;
                                };
                            }
                        },
                        'bmw-group-utility-kit/extension-package-src/lib/helpers/cache.js': {
                            script: function (e, t, r, a) {
                                'use strict';
                                function n(e) {
                                    return s[e];
                                }
                                function o(e, t) {
                                    void 0 !== n(e) && a.logger.log('Overwriting cache["' + e + '"]'), s[e] = t;
                                }
                                function i(e) {
                                    return delete s[e];
                                }
                                var s = {};
                                e.exports = {
                                    get: n,
                                    set: o,
                                    remove: i
                                };
                            }
                        },
                        'bmw-group-utility-kit/extension-package-src/lib/helpers/hooks.js': {
                            script: function (e, t, r, o) {
                                function a(e) {
                                    this.action = e.action, this.type = e.type && 'string' == typeof e.type && e.type.toLowerCase();
                                }
                                function n(e) {
                                    this.newReference = undefined, this.reference = e.method, this.hooks = [new a(e)];
                                }
                                function i() {
                                    var r = [];
                                    this.find = function (e) {
                                        for (var t = r.length - 1; 0 <= t; t--)
                                            if (r[t].reference === e || r[t].newReference === e)
                                                return r[t];
                                    }, this.findIndex = function (e) {
                                        for (var t = r.length - 1; 0 <= t; t--)
                                            if (r[t].reference === e || r[t].newReference === e)
                                                return t;
                                    }, this.add = function (e) {
                                        r.push(e);
                                    }, this.remove = function (e) {
                                        var t = this.findIndex(e);
                                        if (t)
                                            return r.splice(t, 1)[0];
                                    };
                                }
                                function s() {
                                    var a = new i();
                                    this.add = function (e) {
                                        if ('object' != typeof e || !e.method || !e.action || !e.type)
                                            throw new Error('\'hooks.add\' expects an object as parameter with \'method\', \'action\'and \'type\' as required keys');
                                        var t = a.find(e.method);
                                        return t ? t.addHook(e) : a.add(new n(e)), a.find(e.method).getNewDefinition();
                                    }, this.remove = function (e, t) {
                                        var r = a.find(e);
                                        r && r.removeHook(t);
                                    }, this.removeAll = function (e) {
                                        return a.remove(e).reference;
                                    }, this.get = function (e) {
                                        var t = a.find(e);
                                        return t ? t.getHooks() : [];
                                    };
                                }
                                a.prototype.execute = function (e, t) {
                                    try {
                                        return this.action.apply(e, t);
                                    } catch (r) {
                                        o.logger.error('Error:BMW Group Utility Kit:hooks:Hook.prototype.execute()-', r);
                                    }
                                }, n.prototype.removeHook = function (e) {
                                    for (var t = this.hooks.length - 1; 0 <= t; t--)
                                        this.hooks[t].action === e && this.hooks.splice(t, 1);
                                }, n.prototype.addHook = function (e) {
                                    e.type && 'string' == typeof e.type && 'overwrite' === e.type.toLowerCase() ? (this.hooks.length && o.logger.warn('Following hooks will now be removed as a new \'overwrite\' hook is added-', this.hooks), this.hooks = [new a(e)]) : 'overwrite' === this.hooks[0].type ? o.logger.warn('Can\'t add a \'pre\' OR \'post\' hook type as an overwrite hook is already present- ', this.hooks[0]) : this.hooks = this.hooks.concat(new a(e));
                                }, n.prototype.getHooks = function () {
                                    return this.hooks;
                                }, n.prototype.executePreHooks = function (e, t) {
                                    for (var r = this.hooks.filter(function (e) {
                                                return 'pre' === e.type;
                                            }), a = 0; a < r.length; a++)
                                        t = r[a].execute(e, JSON.parse(JSON.stringify(t))) || t;
                                    return t;
                                }, n.prototype.executePostHooks = function (e, t) {
                                    for (var r = this.hooks.filter(function (e) {
                                                return 'post' === e.type;
                                            }), a = 0; a < r.length; a++)
                                        t = r[a].execute(e, [JSON.parse(JSON.stringify(t))]) || t;
                                    return t;
                                }, n.prototype.getNewDefinition = function () {
                                    var n = this;
                                    return n.newReference = n.newReference || function () {
                                        var e = 'overwrite' === n.hooks[0].type ? n.hooks[0] : undefined;
                                        if (e)
                                            return e.execute(this, arguments);
                                        var t = Array.prototype.slice.call(arguments);
                                        t = n.executePreHooks(this, t);
                                        try {
                                            var r = n.reference.apply(this, t);
                                        } catch (a) {
                                            o.logger.error('Error:BMW Group Utility Kit:hooks:Method.prototype.getNewDefinition()-', a);
                                        }
                                        return r = n.executePostHooks(this, r);
                                    }, n.newReference;
                                };
                                var c = new s();
                                e.exports = c;
                            }
                        },
                        'bmw-group-utility-kit/extension-package-src/lib/helpers/privacyManager.js': {
                            script: function (e, t, r, a) {
                                function n(e) {
                                    a.logger.error('UTILITY-KIT:' + e), a.logger.debug('UTILITY-KIT:Privacy Manager State-' + this.state), a.logger.debug('UTILITY-KIT:Privacy Manager Type-' + this.type);
                                }
                                function o(e) {
                                    var t;
                                    Object.defineProperty(this, 'type', {
                                        get: function () {
                                            return e;
                                        }
                                    }), Object.defineProperty(this, 'state', {
                                        get: function () {
                                            return t;
                                        }
                                    }), Object.defineProperty(this, 'ENUM_TYPE', {
                                        get: function () {
                                            return c(d);
                                        }
                                    });
                                    var r = this;
                                    this.type == d.EPAAS_SPLIT || this.type == d.EPAAS_NON_SPLIT || this.type == d.CON_TRACKING_API ? (t = f.IDENTIFIED, this.onInit(function () {
                                        t = f.INITIALIZED, r.type == d.EPAAS_SPLIT && (s.get = p.add({
                                            method: s.get,
                                            action: consentcontroller.api.getPersistence,
                                            type: 'overwrite'
                                        }), s.set = p.add({
                                            method: s.set,
                                            action: function (e, t) {
                                                return consentcontroller.api.setPersistence(e, t);
                                            },
                                            type: 'overwrite'
                                        }));
                                    })) : t = f.UNKNOWN;
                                }
                                var i = r('@adobe/reactor-window'), s = r('@adobe/reactor-cookie'), c = r('./external_modules/deepFreeze.js'), p = r('./hooks'), l = a.getExtensionSettings(), u = l && l.privacyManager || {}, d = {
                                        EPAAS_SPLIT: 'EPAAS_SPLIT',
                                        EPAAS_NON_SPLIT: 'EPAAS_NON_SPLIT',
                                        CON_TRACKING_API: 'CON_TRACKING_API',
                                        OTHERS: 'OTHERS'
                                    }, f = {
                                        IDENTIFIED: 'WEBSITE_API_IDENTIFIED:WAITING_FOR_INIT',
                                        INITIALIZED: 'WEBSITE_API_INITIALIZED',
                                        UNKNOWN: 'WEBSITE_API_NOT_RECOGNIZED'
                                    };
                                o.prototype.onInit = function (e) {
                                    this.type == d.EPAAS_SPLIT || this.type == d.EPAAS_NON_SPLIT ? (i.consentcontroller && i.consentcontroller.api || i).addEventListener('consentcontroller.api.initialized', e) : this.type == d.CON_TRACKING_API ? i.digital && i.digital.tracking && i.digital.tracking.dtmReady != undefined ? e() : i.addEventListener('digital:tracking:trackingReady', e) : n.call(this, 'Privacy Manager can\'t provide consent status: isTrackingEnabled called without overriding the method');
                                }, o.prototype.isTrackingAllowed = function (e) {
                                    return this.state != f.INITIALIZED ? (a.logger.warn('UTILITY-KIT:' + this.type + ' is not initialized, tracking status will be returned as false'), !1) : this.type == d.EPAAS_SPLIT || this.type == d.EPAAS_NON_SPLIT ? consentcontroller.api.isUsageAllowed(e) : this.type == d.CON_TRACKING_API ? !i.digital.tracking.isTrackingDisabled() : (n.call(this, 'Privacy Manager can\'t provide consent status: isTrackingAllowed called without overriding the method'), !1);
                                }, o.prototype.registerOnConsentChange = function () {
                                    var e = arguments;
                                    this.type == d.EPAAS_SPLIT || this.type == d.EPAAS_NON_SPLIT ? this.onInit(function () {
                                        consentcontroller.api.registerOnUserConsentChange.apply(null, e);
                                    }) : this.type == d.CON_TRACKING_API ? this.onInit(function () {
                                        i.digital.tracking.registerOnConsentChange.apply(i.digital.tracking, e);
                                    }) : n.call(this, 'Privacy Manager can\'t handle consent change registration: registerOnConsentChange called without overriding the method');
                                }, o.prototype.isCookieDrawerShown = function () {
                                    return this.type == d.EPAAS_SPLIT || this.type == d.EPAAS_NON_SPLIT ? this.state == f.INITIALIZED && consentcontroller.api.showDisclaimer() : this.type == d.CON_TRACKING_API ? s.get('cc_ConsentCookie') === undefined : void n.call(this, 'Privacy Manager can\'t get cookie drawer shown status: isCookieDrawerShown called without overriding the method');
                                };
                                try {
                                    var m;
                                    u.type && u.type.code && (m = u.type.code(d));
                                } catch (g) {
                                    a.logger.error('Error in Privacy Manager extension settings code while retrieving \'type\'-', g);
                                }
                                m !== d.EPAAS_SPLIT && m !== d.EPAAS_NON_SPLIT && m !== d.CON_TRACKING_API && m !== d.OTHERS && (a.logger.error('Privacy Manager extension settings does not return \'ENUM_TYPE\' value'), m = d.OTHERS);
                                var v = new o(m);
                                try {
                                    m === d.OTHERS && u.methodSettings && u.methodSettings.code && u.methodSettings.code(v);
                                } catch (g) {
                                    a.logger.error('Error in Privacy Manager extension settings code while retrieving \'type\'-', g);
                                }
                                e.exports = v;
                            }
                        }
                    },
                    settings: {
                        webDL: { dataElement: '%webDL%' },
                        privacyManager: {
                            type: {
                                code: function (e) {
                                    return e.OTHERS;
                                }
                            },
                            methodSettings: {
                                code: function (e) {
                                    e.onInit = function (e) {
                                        e();
                                    }, e.isTrackingAllowed = function () {
                                        return !0;
                                    };
                                }
                            }
                        }
                    },
                    hostedLibFilesBaseUrl: 'https://assets.adobedtm.com/extensions/EP9597ef8c079c47549850d431f0436d77/'
                },
                'adobe-analytics': {
                    displayName: 'Adobe Analytics',
                    modules: {
                        'adobe-analytics/src/lib/actions/sendBeacon.js': {
                            name: 'send-beacon',
                            displayName: 'Send Beacon',
                            script: function (e, t, r, n) {
                                'use strict';
                                var a = r('../sharedModules/getTracker'), o = function (e) {
                                        return e && e.nodeName && 'a' === e.nodeName.toLowerCase();
                                    }, i = function (e) {
                                        return o(e) ? e.innerHTML : 'link clicked';
                                    }, s = function (e, t, r) {
                                        if ('page' === t.type)
                                            n.logger.info('Firing page view beacon.'), e.t();
                                        else {
                                            var a = {
                                                linkType: t.linkType || 'o',
                                                linkName: t.linkName || i(r)
                                            };
                                            n.logger.info('Firing link track beacon using the values: ' + JSON.stringify(a) + '.'), e.tl(o(r) ? r : 'true', a.linkType, a.linkName);
                                        }
                                    };
                                e.exports = function (t, r) {
                                    return a().then(function (e) {
                                        s(e, t, r.element);
                                    }, function (e) {
                                        n.logger.error('Cannot send beacon: ' + e);
                                    });
                                };
                            }
                        },
                        'adobe-analytics/src/lib/actions/setVariables.js': {
                            name: 'set-variables',
                            displayName: 'Set Variables',
                            script: function (e, t, r, a) {
                                'use strict';
                                var n = r('../sharedModules/getTracker'), o = r('../helpers/applyTrackerVariables');
                                e.exports = function (t, r) {
                                    return n().then(function (e) {
                                        a.logger.info('Set variables on the tracker.'), o(e, t.trackerProperties), t.customSetup && t.customSetup.source && t.customSetup.source.call(r.element, r, e);
                                    }, function (e) {
                                        a.logger.error('Cannot set variables: ' + e);
                                    });
                                };
                            }
                        },
                        'adobe-analytics/src/lib/sharedModules/getTracker.js': {
                            script: function (e, t, r, a) {
                                'use strict';
                                var n, o = r('@adobe/reactor-cookie'), i = r('@adobe/reactor-promise'), s = r('@adobe/reactor-window'), c = r('../helpers/settingsHelper'), p = r('../helpers/augmenters'), l = r('../helpers/applyTrackerVariables'), u = r('../helpers/loadLibrary'), d = r('../helpers/generateVersion')(a.buildInfo.turbineBuildDate), f = 'beforeSettings', m = a.getSharedModule('adobe-mcid', 'mcid-instance'), v = function (e) {
                                        return !e || 'true' === o.get(e);
                                    }, g = function (a) {
                                        return i.all(p.map(function (e) {
                                            var t;
                                            try {
                                                t = e(a);
                                            } catch (r) {
                                                setTimeout(function () {
                                                    throw r;
                                                });
                                            }
                                            return i.resolve(t);
                                        })).then(function () {
                                            return a;
                                        });
                                    }, y = function (e) {
                                        return m && (a.logger.info('Setting MCID instance on the tracker.'), e.visitor = m), e;
                                    }, h = function (e) {
                                        return a.logger.info('Setting version on tracker: "' + d + '".'), 'undefined' != typeof e.tagContainerMarker ? e.tagContainerMarker = d : 'string' == typeof e.version && e.version.substring(e.version.length - 5) !== '-' + d && (e.version += '-' + d), e;
                                    }, b = function (e, t, r) {
                                        return t.loadPhase === f && t.source && (a.logger.info('Calling custom script before settings.'), t.source.call(s, r)), l(r, e || {}), t.loadPhase !== f && t.source && (a.logger.info('Calling custom script after settings.'), t.source.call(s, r)), r;
                                    }, k = function (e, t) {
                                        return c.isAudienceManagementEnabled(e) && (t.loadModule('AudienceManagement'), a.logger.info('Initializing AudienceManagement module'), t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)), t;
                                    }, C = (n = a.getExtensionSettings(), v(n.trackingCookieName) ? u(n).then(g).then(y).then(h).then(b.bind(null, n.trackerProperties, n.customSetup || {})).then(k.bind(null, n)) : i.reject('EU compliance was not acknowledged by the user.'));
                                e.exports = function () {
                                    return C;
                                };
                            },
                            name: 'get-tracker',
                            shared: !0
                        },
                        'adobe-analytics/src/lib/sharedModules/augmentTracker.js': {
                            name: 'augment-tracker',
                            shared: !0,
                            script: function (e, t, r) {
                                'use strict';
                                var a = r('../helpers/augmenters');
                                e.exports = function (e) {
                                    a.push(e);
                                };
                            }
                        },
                        'adobe-analytics/src/lib/helpers/settingsHelper.js': {
                            script: function (e, t, r, a) {
                                'use strict';
                                var n = r('@adobe/reactor-window'), o = {
                                        LIB_TYPES: {
                                            MANAGED: 'managed',
                                            PREINSTALLED: 'preinstalled',
                                            REMOTE: 'remote',
                                            CUSTOM: 'custom'
                                        },
                                        MANAGED_LIB_PATHS: {
                                            APP_MEASUREMENT: 'AppMeasurement.js',
                                            ACTIVITY_MAP: 'AppMeasurement_Module_ActivityMap.js',
                                            AUDIENCE_MANAGEMENT: 'AppMeasurement_Module_AudienceManagement.js'
                                        },
                                        getReportSuites: function (e) {
                                            var t = e.production;
                                            return e[a.buildInfo.environment] && (t = e[a.buildInfo.environment]), t.join(',');
                                        },
                                        isActivityMapEnabled: function (e) {
                                            return !(e.libraryCode && !e.libraryCode.useActivityMap && !1 === e.libraryCode.useActivityMap);
                                        },
                                        isAudienceManagementEnabled: function (e) {
                                            var t = !1;
                                            return e && e.moduleProperties && e.moduleProperties.audienceManager && e.moduleProperties.audienceManager.config && n && n._satellite && n._satellite.company && n._satellite.company.orgId && (t = !0), t;
                                        }
                                    };
                                e.exports = o;
                            }
                        },
                        'adobe-analytics/src/lib/helpers/augmenters.js': {
                            script: function (e) {
                                'use strict';
                                e.exports = [];
                            }
                        },
                        'adobe-analytics/src/lib/helpers/applyTrackerVariables.js': {
                            script: function (e, t, r, i) {
                                'use strict';
                                var n = r('@adobe/reactor-query-string'), o = r('@adobe/reactor-window'), s = /eVar([0-9]+)/, c = /prop([0-9]+)/, p = new RegExp('^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$'), l = function (e, t, r) {
                                        return r.indexOf(e) === t;
                                    }, u = function (e, t, r) {
                                        var a = Object.keys(t).filter(p.test.bind(p));
                                        return r && a.push('events'), (a = a.concat((e.linkTrackVars || '').split(','))).filter(function (e, t) {
                                            return 'None' !== e && e && l(e, t, a);
                                        }).join(',');
                                    }, d = function (e, t) {
                                        var r = t.map(function (e) {
                                            return e.name;
                                        });
                                        return (r = r.concat((e.linkTrackEvents || '').split(','))).filter(function (e, t) {
                                            return 'None' !== e && l(e, t, r);
                                        }).join(',');
                                    }, a = function (e, t, r) {
                                        e[t] = r[t].join(',');
                                    }, f = function (n, e, t) {
                                        var o = t.dynamicVariablePrefix || 'D=';
                                        t[e].forEach(function (e) {
                                            var t;
                                            if ('value' === e.type)
                                                t = e.value;
                                            else {
                                                var r = s.exec(e.value);
                                                if (r)
                                                    t = o + 'v' + r[1];
                                                else {
                                                    var a = c.exec(e.value);
                                                    a && (t = o + 'c' + a[1]);
                                                }
                                            }
                                            n[e.name] = t;
                                        });
                                    }, m = {
                                        linkDownloadFileTypes: a,
                                        linkExternalFilters: a,
                                        linkInternalFilters: a,
                                        hierarchies: function (t, e, r) {
                                            r[e].forEach(function (e) {
                                                t[e.name] = e.sections.join(e.delimiter);
                                            });
                                        },
                                        props: f,
                                        eVars: f,
                                        campaign: function (e, t, r) {
                                            if ('queryParam' === r[t].type) {
                                                var a = n.parse(o.location.search);
                                                e[t] = a[r[t].value];
                                            } else
                                                e[t] = r[t].value;
                                        },
                                        events: function (e, t, r) {
                                            var a = r[t].map(function (e) {
                                                var t = e.name;
                                                return e.id && (t = [
                                                    t,
                                                    e.id
                                                ].join(':')), e.value && (t = [
                                                    t,
                                                    e.value
                                                ].join('=')), t;
                                            });
                                            e[t] = a.join(',');
                                        }
                                    };
                                e.exports = function (t, a) {
                                    var n = {};
                                    a = a || {}, Object.keys(a).forEach(function (e) {
                                        var t = m[e], r = a[e];
                                        t ? t(n, e, a) : n[e] = r;
                                    }), n.events && t.events && 0 < t.events.length && (n.events = t.events + ',' + n.events);
                                    var e = a && a.events && 0 < a.events.length, r = u(t, n, e);
                                    r && (n.linkTrackVars = r);
                                    var o = d(t, a.events || []);
                                    o && (n.linkTrackEvents = o), i.logger.info('Applying the following properties on tracker: "' + JSON.stringify(n) + '".'), Object.keys(n).forEach(function (e) {
                                        t[e] = n[e];
                                    });
                                };
                            }
                        },
                        'adobe-analytics/src/lib/helpers/loadLibrary.js': {
                            script: function (e, t, r, a) {
                                'use strict';
                                var n = r('@adobe/reactor-load-script'), o = r('@adobe/reactor-window'), i = r('@adobe/reactor-promise'), s = r('./settingsHelper'), c = r('./pollHelper'), p = function (e, t) {
                                        if (!o.s_gi)
                                            throw new Error('Unable to create AppMeasurement tracker, `s_gi` function not found.' + o.AppMeasurement);
                                        a.logger.info('Creating AppMeasurement tracker with these report suites: "' + t + '"');
                                        var r = o.s_gi(t);
                                        return e.libraryCode.scopeTrackerGlobally && (a.logger.info('Setting the tracker as window.s'), o.s = r), r;
                                    }, l = function (e) {
                                        var t = [];
                                        switch (e.libraryCode.type) {
                                        case s.LIB_TYPES.MANAGED:
                                            t.push(a.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.APP_MEASUREMENT)), s.isActivityMapEnabled(e) && t.push(a.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.ACTIVITY_MAP));
                                            break;
                                        case s.LIB_TYPES.CUSTOM:
                                            t.push(e.libraryCode.source);
                                            break;
                                        case s.LIB_TYPES.REMOTE:
                                            t.push('https:' === o.location.protocol ? e.libraryCode.httpsUrl : e.libraryCode.httpUrl);
                                        }
                                        if (s.isAudienceManagementEnabled(e)) {
                                            var r = { namespace: o._satellite.company.orgId };
                                            e.moduleProperties.audienceManager.config.visitorService = r, t.push(a.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT));
                                        }
                                        return t;
                                    }, u = function (e) {
                                        return i.all(l(e).map(function (e) {
                                            return a.logger.info('Loading script: ' + e), n(e);
                                        }));
                                    }, d = function (e, t) {
                                        if (e.libraryCode.accounts)
                                            if (t.sa) {
                                                var r = s.getReportSuites(e.libraryCode.accounts);
                                                a.logger.info('Setting the following report suites on the tracker: "' + r + '"'), t.sa(r);
                                            } else
                                                a.logger.warn('Cannot set report suites on tracker. `sa` method not available.');
                                        return t;
                                    }, f = function (e) {
                                        if (o[e])
                                            return a.logger.info('Found tracker located at: "' + e + '".'), o[e];
                                        throw new Error('Cannot find the global variable name: "' + e + '".');
                                    };
                                e.exports = function (e) {
                                    var t = u(e);
                                    switch (e.libraryCode.type) {
                                    case s.LIB_TYPES.MANAGED:
                                        var r = s.getReportSuites(e.libraryCode.accounts);
                                        return t.then(p.bind(null, e, r));
                                    case s.LIB_TYPES.PREINSTALLED:
                                        return t.then(c.poll.bind(null, o, e.libraryCode.trackerVariableName)).then(d.bind(null, e));
                                    case s.LIB_TYPES.CUSTOM:
                                    case s.LIB_TYPES.REMOTE:
                                        return t.then(f.bind(null, e.libraryCode.trackerVariableName)).then(d.bind(null, e));
                                    default:
                                        throw new Error('Cannot load library. Type not supported.');
                                    }
                                };
                            }
                        },
                        'adobe-analytics/src/lib/helpers/generateVersion.js': {
                            script: function (e) {
                                'use strict';
                                var t = 8, r = function (e) {
                                        return e.getUTCDate().toString(36);
                                    }, a = function (e) {
                                        return e.substr(e.length - 1);
                                    }, n = function (e) {
                                        return Math.floor(e.getUTCHours() / t);
                                    }, o = function (e) {
                                        var t = (e.getUTCMonth() + 1 + 12 * n(e)).toString(36);
                                        return a(t);
                                    }, i = function (e) {
                                        return (e.getUTCFullYear() - 2010).toString(36);
                                    };
                                e.exports = function (e) {
                                    var t = new Date(e);
                                    if (isNaN(t))
                                        throw new Error('Invalid date provided');
                                    return ('L' + i(t) + o(t) + r(t)).toUpperCase();
                                };
                            }
                        },
                        'adobe-analytics/src/lib/helpers/pollHelper.js': {
                            script: function (e, t, r, a) {
                                'use strict';
                                var i = r('@adobe/reactor-promise'), s = 40, c = 250, p = function (e, t, r) {
                                        a.logger.info('Found property located at: "' + t + '"].'), e(r);
                                    }, n = function (n, o) {
                                        return new i(function (e, t) {
                                            if (n[o])
                                                return p(e, o, n[o]);
                                            var r = 1, a = setInterval(function () {
                                                    n[o] && (p(e, o, n[o]), clearInterval(a)), s <= r && (clearInterval(a), t(new Error('Bailing out. Cannot find the variable name: "' + o + '"].'))), r++;
                                                }, c);
                                        });
                                    };
                                e.exports = {
                                    poll: function (e, t) {
                                        return a.logger.info('Waiting for the property to become accessible at: "' + t + '"].'), n(e, t);
                                    }
                                };
                            }
                        }
                    },
                    settings: {
                        orgId: 'B52D1CFE5330949C0A490D45@AdobeOrg',
                        customSetup: {
                            source: function (e) {
                                function r(e) {
                                    return unescape(window.location.search.replace(new RegExp('^(?:.*[&\\?]' + escape(e).replace(/[\.\+\*]/g, '\\$&') + '(?:\\=([^&]*))?)?.*$', 'i'), '$1'));
                                }
                                function t(e) {
                                    e = i.call(e), (e = s(e)).pageURL = e.pageURL ? s(e.pageURL) : s(window.location.href), e.referrer = e.referrer ? s(e.referrer) : s(document.referrer), e.cookieDomain = _satellite.getVar('topLevelDomain'), e.cookieDomainPeriods = _satellite.getVar('topLevelDomain').split('.').length, e.fpCookieDomainPeriods = e.cookieDomainPeriods, 'e' == e.linkType && _satellite.getVar('setDefaultVariables')(e), e.cookieLifetime = '63072000', 'bmw.co.jp' == _satellite.getVar('topLevelDomain') && e.AudienceManagement.setup({
                                        partner: 'bmwag',
                                        containerNSID: 23,
                                        uuidCookie: {
                                            name: 'aam_uuid',
                                            days: 90
                                        },
                                        visitorService: { namespace: 'B52D1CFE5330949C0A490D45@AdobeOrg' }
                                    }), -1 < window.location.href.indexOf('icp=') && (e.eVar63 = r('icp'), e.linkTrackVars += ',eVar63');
                                    try {
                                        e.eVar8 || (e.eVar8 = (((digitalData || '').page || '').pageInfo || '').geoRegion || '', _satellite.getVar('AA-marketCodes').indexOf(e.eVar8) < 0 && (e.account = 'bmwgroup.group.global.test', e.eVar138 = 'wrong market code', e.linkTrackVars += ',eVar138'));
                                    } catch (a) {
                                        var t = {
                                            from: 'AA',
                                            type: 'Config',
                                            name: 'Customize Page Code'
                                        };
                                        _satellite.logger.error(a, t);
                                    }
                                }
                                var a = function () {
                                        'use strict';
                                        function P(e) {
                                            return (P = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (e) {
                                                return typeof e;
                                            } : function (e) {
                                                return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e;
                                            })(e);
                                        }
                                        function e(e, t, r) {
                                            return t in e ? Object.defineProperty(e, t, {
                                                value: r,
                                                enumerable: !0,
                                                configurable: !0,
                                                writable: !0
                                            }) : e[t] = r, e;
                                        }
                                        function t() {
                                            return {
                                                callbacks: {},
                                                add: function (e, t) {
                                                    this.callbacks[e] = this.callbacks[e] || [];
                                                    var r = this.callbacks[e].push(t) - 1, a = this;
                                                    return function () {
                                                        a.callbacks[e].splice(r, 1);
                                                    };
                                                },
                                                execute: function (e, t) {
                                                    if (this.callbacks[e]) {
                                                        t = (t = void 0 === t ? [] : t) instanceof Array ? t : [t];
                                                        try {
                                                            for (; this.callbacks[e].length;) {
                                                                var r = this.callbacks[e].shift();
                                                                'function' == typeof r ? r.apply(null, t) : r instanceof Array && r[1].apply(r[0], t);
                                                            }
                                                            delete this.callbacks[e];
                                                        } catch (e) {
                                                        }
                                                    }
                                                },
                                                executeAll: function (r, e) {
                                                    (e || r && !L.isObjectEmpty(r)) && Object.keys(this.callbacks).forEach(function (e) {
                                                        var t = void 0 !== r[e] ? r[e] : '';
                                                        this.execute(e, t);
                                                    }, this);
                                                },
                                                hasCallbacks: function () {
                                                    return Boolean(Object.keys(this.callbacks).length);
                                                }
                                            };
                                        }
                                        function p(e, t, r) {
                                            var a = null == e ? void 0 : e[t];
                                            return void 0 === a ? r : a;
                                        }
                                        function n(e) {
                                            for (var t = /^\d+$/, r = 0, a = e.length; r < a; r++)
                                                if (!t.test(e[r]))
                                                    return !1;
                                            return !0;
                                        }
                                        function o(e, t) {
                                            for (; e.length < t.length;)
                                                e.push('0');
                                            for (; t.length < e.length;)
                                                t.push('0');
                                        }
                                        function i(e, t) {
                                            for (var r = 0; r < e.length; r++) {
                                                var a = parseInt(e[r], 10), n = parseInt(t[r], 10);
                                                if (n < a)
                                                    return 1;
                                                if (a < n)
                                                    return -1;
                                            }
                                            return 0;
                                        }
                                        function r(e, t) {
                                            if (e === t)
                                                return 0;
                                            var r = e.toString().split('.'), a = t.toString().split('.');
                                            return n(r.concat(a)) ? (o(r, a), i(r, a)) : NaN;
                                        }
                                        function s(e) {
                                            return e === Object(e) && 0 === Object.keys(e).length;
                                        }
                                        function c(e) {
                                            return 'function' == typeof e || e instanceof Array && e.length;
                                        }
                                        function a(e, t) {
                                            var r = 0 < arguments.length && void 0 !== e ? arguments[0] : '', a = 1 < arguments.length && void 0 !== t ? arguments[1] : function () {
                                                    return !0;
                                                };
                                            this.log = ue('log', r, a), this.warn = ue('warn', r, a), this.error = ue('error', r, a);
                                        }
                                        function x(e, t) {
                                            var r = 0 < arguments.length && void 0 !== e ? arguments[0] : {}, a = r.isEnabled, n = r.cookieName, o = (1 < arguments.length && void 0 !== t ? arguments[1] : {}).cookies;
                                            return a && n && o ? {
                                                remove: function () {
                                                    o.remove(n);
                                                },
                                                get: function () {
                                                    var e = o.get(n), t = {};
                                                    try {
                                                        t = JSON.parse(e);
                                                    } catch (e) {
                                                        t = {};
                                                    }
                                                    return t;
                                                },
                                                set: function (e, t) {
                                                    t = t || {}, o.set(n, JSON.stringify(e), {
                                                        domain: t.optInCookieDomain || '',
                                                        cookieLifetime: t.optInStorageExpiry || 34190000,
                                                        expires: !0
                                                    });
                                                }
                                            } : {
                                                get: _e,
                                                set: _e,
                                                remove: _e
                                            };
                                        }
                                        function l(e) {
                                            this.name = this.constructor.name, this.message = e, 'function' == typeof Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error(e).stack;
                                        }
                                        function u(e, t) {
                                            function r(e, t) {
                                                var r = me(e);
                                                return r.length ? r.every(function (e) {
                                                    return !!t[e];
                                                }) : ve(t);
                                            }
                                            function a() {
                                                A(E), O(ae.COMPLETE), I(C.status, C.permissions), k.set(C.permissions, {
                                                    optInCookieDomain: l,
                                                    optInStorageExpiry: u
                                                }), T.execute(Ee);
                                            }
                                            function n(r) {
                                                return function (e, t) {
                                                    if (!ge(e))
                                                        throw new Error('[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.');
                                                    return O(ae.CHANGED), Object.assign(E, ye(me(e), r)), t || a(), C;
                                                };
                                            }
                                            var o = 0 < arguments.length && void 0 !== e ? arguments[0] : {}, i = o.doesOptInApply, s = o.previousPermissions, c = o.preOptInApprovals, p = o.isOptInStorageEnabled, l = o.optInCookieDomain, u = o.optInStorageExpiry, d = o.isIabContext, f = (1 < arguments.length && void 0 !== t ? arguments[1] : {}).cookies, m = Ve(s);
                                            we(m, 'Invalid `previousPermissions`!'), we(c, 'Invalid `preOptInApprovals`!');
                                            var v, g, y, h, b, k = x({
                                                    isEnabled: !!p,
                                                    cookieName: 'adobeujs-optin'
                                                }, { cookies: f }), C = this, I = re(C), T = ce(), _ = ke(m), V = ke(c), w = k.get(), S = {}, j = (b = w, Ce(_) || b && Ce(b) ? ae.COMPLETE : ae.PENDING), D = (v = V, g = _, y = w, h = ye(se, !i), i ? Object.assign({}, h, v, g, y) : h), E = he(D), O = function (e) {
                                                    return j = e;
                                                }, A = function (e) {
                                                    return D = e;
                                                };
                                            C.deny = n(!1), C.approve = n(!0), C.denyAll = C.deny.bind(C, se), C.approveAll = C.approve.bind(C, se), C.isApproved = function (e) {
                                                return r(e, C.permissions);
                                            }, C.isPreApproved = function (e) {
                                                return r(e, V);
                                            }, C.fetchPermissions = function (e, t) {
                                                var r = 1 < arguments.length && void 0 !== t && arguments[1], a = r ? C.on(ae.COMPLETE, e) : _e;
                                                return !i || i && C.isComplete || c ? e(C.permissions) : r || T.add(Ee, function () {
                                                    return e(C.permissions);
                                                }), a;
                                            }, C.complete = function () {
                                                C.status === ae.CHANGED && a();
                                            }, C.registerPlugin = function (e) {
                                                if (!e || !e.name || 'function' != typeof e.onRegister)
                                                    throw new Error(Oe);
                                                S[e.name] || (S[e.name] = e).onRegister.call(e, C);
                                            }, C.execute = De(S), Object.defineProperties(C, {
                                                permissions: {
                                                    get: function () {
                                                        return D;
                                                    }
                                                },
                                                status: {
                                                    get: function () {
                                                        return j;
                                                    }
                                                },
                                                Categories: {
                                                    get: function () {
                                                        return ne;
                                                    }
                                                },
                                                doesOptInApply: {
                                                    get: function () {
                                                        return !!i;
                                                    }
                                                },
                                                isPending: {
                                                    get: function () {
                                                        return C.status === ae.PENDING;
                                                    }
                                                },
                                                isComplete: {
                                                    get: function () {
                                                        return C.status === ae.COMPLETE;
                                                    }
                                                },
                                                __plugins: {
                                                    get: function () {
                                                        return Object.keys(S);
                                                    }
                                                },
                                                isIabContext: {
                                                    get: function () {
                                                        return d;
                                                    }
                                                }
                                            });
                                        }
                                        function d(e, t) {
                                            function r() {
                                                n = null, e.call(e, new l('The call took longer than you wanted!'));
                                            }
                                            function a() {
                                                n && (clearTimeout(n), e.apply(e, arguments));
                                            }
                                            if (void 0 === t)
                                                return e;
                                            var n = setTimeout(r, t);
                                            return a;
                                        }
                                        function f() {
                                            if (window.__cmp)
                                                return window.__cmp;
                                            var e = window;
                                            if (e !== window.top) {
                                                for (var o; !o;) {
                                                    e = e.parent;
                                                    try {
                                                        e.frames.__cmpLocator && (o = e);
                                                    } catch (e) {
                                                    }
                                                    if (e === window.top)
                                                        break;
                                                }
                                                if (o) {
                                                    var i = {};
                                                    return window.__cmp = function (e, t, r) {
                                                        var a = Math.random() + '', n = {
                                                                __cmpCall: {
                                                                    command: e,
                                                                    parameter: t,
                                                                    callId: a
                                                                }
                                                            };
                                                        i[a] = r, o.postMessage(n, '*');
                                                    }, window.addEventListener('message', function (e) {
                                                        var t = e.data;
                                                        if ('string' == typeof t)
                                                            try {
                                                                t = JSON.parse(e.data);
                                                            } catch (e) {
                                                            }
                                                        if (t.__cmpReturn) {
                                                            var r = t.__cmpReturn;
                                                            i[r.callId] && (i[r.callId](r.returnValue, r.success), delete i[r.callId]);
                                                        }
                                                    }, !1), window.__cmp;
                                                }
                                                de.error('__cmp not found');
                                            } else
                                                de.error('__cmp not found');
                                        }
                                        function m() {
                                            var t = this;
                                            t.name = 'iabPlugin', t.version = '0.0.1';
                                            var s = ce(), c = { allConsentData: null }, p = function (e, t) {
                                                    var r = 1 < arguments.length && void 0 !== t ? arguments[1] : {};
                                                    return c[e] = r;
                                                };
                                            t.fetchConsentData = function (e) {
                                                var t = d(e.callback, e.timeout);
                                                a({ callback: t });
                                            }, t.isApproved = function (e) {
                                                var o = e.callback, i = e.category, t = e.timeout;
                                                if (c.allConsentData)
                                                    return o(null, u(i, c.allConsentData.vendorConsents, c.allConsentData.purposeConsents));
                                                var r = d(function (e, t) {
                                                    var r = 1 < arguments.length && void 0 !== t ? arguments[1] : {}, a = r.vendorConsents, n = r.purposeConsents;
                                                    o(e, u(i, a, n));
                                                }, t);
                                                a({
                                                    category: i,
                                                    callback: r
                                                });
                                            }, t.onRegister = function (i) {
                                                var s = Object.keys(oe), e = function (e, t) {
                                                        var r = 1 < arguments.length && void 0 !== t ? arguments[1] : {}, a = r.purposeConsents, n = r.gdprApplies, o = r.vendorConsents;
                                                        !e && n && o && a && (s.forEach(function (e) {
                                                            var t = u(e, o, a);
                                                            i[t ? 'approve' : 'deny'](e, !0);
                                                        }), i.complete());
                                                    };
                                                t.fetchConsentData({ callback: e });
                                            };
                                            var a = function (e) {
                                                    var t = e.callback;
                                                    if (c.allConsentData)
                                                        return t(null, c.allConsentData);
                                                    s.add('FETCH_CONSENT_DATA', t);
                                                    var i = {};
                                                    r(function (e, t) {
                                                        var r = 0 < arguments.length && void 0 !== e ? arguments[0] : {}, a = r.purposeConsents, n = r.gdprApplies, o = r.vendorConsents;
                                                        (1 < arguments.length ? t : void 0) && p('allConsentData', i = {
                                                            purposeConsents: a,
                                                            gdprApplies: n,
                                                            vendorConsents: o
                                                        }), l(function (e, t) {
                                                            var r = 0 < arguments.length && void 0 !== e ? arguments[0] : {};
                                                            (1 < arguments.length ? t : void 0) && (i.consentString = r.consentData, p('allConsentData', i)), s.execute('FETCH_CONSENT_DATA', [
                                                                null,
                                                                c.allConsentData
                                                            ]);
                                                        });
                                                    });
                                                }, l = function (e) {
                                                    var t = f();
                                                    t && t('getConsentData', null, e);
                                                }, r = function (e) {
                                                    var t = je(oe), r = f();
                                                    r && r('getVendorConsents', t, e);
                                                }, u = function (e, t, r) {
                                                    var a = 1 < arguments.length && void 0 !== t ? arguments[1] : {}, n = 2 < arguments.length && void 0 !== r ? arguments[2] : {};
                                                    return !!a[oe[e]] && ie[e].every(function (e) {
                                                        return n[e];
                                                    });
                                                };
                                        }
                                        var N = 'undefined' != typeof globalThis ? globalThis : 'undefined' != typeof window ? window : 'undefined' != typeof global ? global : 'undefined' != typeof self ? self : {};
                                        Object.assign = Object.assign || function (e) {
                                            for (var t, r, a = 1; a < arguments.length; ++a)
                                                for (t in r = arguments[a])
                                                    Object.prototype.hasOwnProperty.call(r, t) && (e[t] = r[t]);
                                            return e;
                                        };
                                        var v, g, y, h, b, M = {
                                                MESSAGES: {
                                                    HANDSHAKE: 'HANDSHAKE',
                                                    GETSTATE: 'GETSTATE',
                                                    PARENTSTATE: 'PARENTSTATE'
                                                },
                                                STATE_KEYS_MAP: {
                                                    MCMID: 'MCMID',
                                                    MCAID: 'MCAID',
                                                    MCAAMB: 'MCAAMB',
                                                    MCAAMLH: 'MCAAMLH',
                                                    MCOPTOUT: 'MCOPTOUT',
                                                    CUSTOMERIDS: 'CUSTOMERIDS'
                                                },
                                                ASYNC_API_MAP: {
                                                    MCMID: 'getMarketingCloudVisitorID',
                                                    MCAID: 'getAnalyticsVisitorID',
                                                    MCAAMB: 'getAudienceManagerBlob',
                                                    MCAAMLH: 'getAudienceManagerLocationHint',
                                                    MCOPTOUT: 'isOptedOut',
                                                    ALLFIELDS: 'getVisitorValues'
                                                },
                                                SYNC_API_MAP: { CUSTOMERIDS: 'getCustomerIDs' },
                                                ALL_APIS: {
                                                    MCMID: 'getMarketingCloudVisitorID',
                                                    MCAAMB: 'getAudienceManagerBlob',
                                                    MCAAMLH: 'getAudienceManagerLocationHint',
                                                    MCOPTOUT: 'isOptedOut',
                                                    MCAID: 'getAnalyticsVisitorID',
                                                    CUSTOMERIDS: 'getCustomerIDs',
                                                    ALLFIELDS: 'getVisitorValues'
                                                },
                                                FIELDGROUP_TO_FIELD: {
                                                    MC: 'MCMID',
                                                    A: 'MCAID',
                                                    AAM: 'MCAAMB'
                                                },
                                                FIELDS: {
                                                    MCMID: 'MCMID',
                                                    MCOPTOUT: 'MCOPTOUT',
                                                    MCAID: 'MCAID',
                                                    MCAAMLH: 'MCAAMLH',
                                                    MCAAMB: 'MCAAMB'
                                                },
                                                AUTH_STATE: {
                                                    UNKNOWN: 0,
                                                    AUTHENTICATED: 1,
                                                    LOGGED_OUT: 2
                                                },
                                                OPT_OUT: { GLOBAL: 'global' }
                                            }, k = M.STATE_KEYS_MAP, C = function (o) {
                                                function a() {
                                                }
                                                function n(r, a) {
                                                    var n = this;
                                                    return function () {
                                                        var e = o(0, r), t = {};
                                                        return t[r] = e, n.setStateAndPublish(t), a(e), e;
                                                    };
                                                }
                                                this.getMarketingCloudVisitorID = function (e) {
                                                    e = e || a;
                                                    var t = this.findField(k.MCMID, e), r = n.call(this, k.MCMID, e);
                                                    return void 0 !== t ? t : r();
                                                }, this.getVisitorValues = function (t) {
                                                    this.getMarketingCloudVisitorID(function (e) {
                                                        t({ MCMID: e });
                                                    });
                                                };
                                            }, I = M.MESSAGES, T = M.ASYNC_API_MAP, _ = M.SYNC_API_MAP, V = function () {
                                                function n() {
                                                }
                                                function o(e, t) {
                                                    var r = this;
                                                    return function () {
                                                        return r.callbackRegistry.add(e, t), r.messageParent(I.GETSTATE), '';
                                                    };
                                                }
                                                function e(a) {
                                                    this[T[a]] = function (e) {
                                                        e = e || n;
                                                        var t = this.findField(a, e), r = o.call(this, a, e);
                                                        return void 0 !== t ? t : r();
                                                    };
                                                }
                                                function t(e) {
                                                    this[_[e]] = function () {
                                                        return this.findField(e, n) || {};
                                                    };
                                                }
                                                Object.keys(T).forEach(e, this), Object.keys(_).forEach(t, this);
                                            }, w = M.ASYNC_API_MAP, S = function () {
                                                Object.keys(w).forEach(function (t) {
                                                    this[w[t]] = function (e) {
                                                        this.callbackRegistry.add(t, e);
                                                    };
                                                }, this);
                                            }, L = ((h = (b = { exports: {} }).exports).isObjectEmpty = function (e) {
                                                return e === Object(e) && 0 === Object.keys(e).length;
                                            }, h.isValueEmpty = function (e) {
                                                return '' === e || h.isObjectEmpty(e);
                                            }, h.getIeVersion = function () {
                                                if (document.documentMode)
                                                    return document.documentMode;
                                                for (var e = 7; 4 < e; e--) {
                                                    var t = document.createElement('div');
                                                    if (t.innerHTML = '<!--[if IE ' + e + ']><span></span><![endif]-->', t.getElementsByTagName('span').length)
                                                        return t = null, e;
                                                    t = null;
                                                }
                                                return null;
                                            }, h.encodeAndBuildRequest = function (e, t) {
                                                return e.map(encodeURIComponent).join(t);
                                            }, h.isObject = function (e) {
                                                return null !== e && 'object' === P(e) && !1 === Array.isArray(e);
                                            }, h.defineGlobalNamespace = function () {
                                                return window.adobe = h.isObject(window.adobe) ? window.adobe : {}, window.adobe;
                                            }, h.pluck = function (r, e) {
                                                return e.reduce(function (e, t) {
                                                    return r[t] && (e[t] = r[t]), e;
                                                }, Object.create(null));
                                            }, h.parseOptOut = function (e, t, r) {
                                                t || (t = r, e.d_optout && e.d_optout instanceof Array && (t = e.d_optout.join(',')));
                                                var a = parseInt(e.d_ottl, 10);
                                                return isNaN(a) && (a = 7200), {
                                                    optOut: t,
                                                    d_ottl: a
                                                };
                                            }, h.normalizeBoolean = function (e) {
                                                var t = e;
                                                return 'true' === e ? t = !0 : 'false' === e && (t = !1), t;
                                            }, b.exports), j = (L.isObjectEmpty, L.isValueEmpty, L.getIeVersion, L.encodeAndBuildRequest, L.isObject, L.defineGlobalNamespace, L.pluck, L.parseOptOut, L.normalizeBoolean, t), D = M.MESSAGES, E = {
                                                0: 'prefix',
                                                1: 'orgID',
                                                2: 'state'
                                            }, R = function (o, i) {
                                                this.parse = function (e) {
                                                    try {
                                                        var r = {};
                                                        return e.data.split('|').forEach(function (e, t) {
                                                            void 0 !== e && (r[E[t]] = 2 !== t ? e : JSON.parse(e));
                                                        }), r;
                                                    } catch (e) {
                                                    }
                                                }, this.isInvalid = function (e) {
                                                    var t = this.parse(e);
                                                    if (!t || Object.keys(t).length < 2)
                                                        return !0;
                                                    var r = o !== t.orgID, a = !i || e.origin !== i, n = -1 === Object.keys(D).indexOf(t.prefix);
                                                    return r || a || n;
                                                }, this.send = function (e, t, r) {
                                                    var a = t + '|' + o;
                                                    r && r === Object(r) && (a += '|' + JSON.stringify(r));
                                                    try {
                                                        e.postMessage(a, i);
                                                    } catch (o) {
                                                    }
                                                };
                                            }, O = M.MESSAGES, A = function (e, t, r, a) {
                                                function n(e) {
                                                    Object.assign(f, e);
                                                }
                                                function o(e) {
                                                    Object.assign(f.state, e), Object.assign(f.state.ALLFIELDS, e), f.callbackRegistry.executeAll(f.state);
                                                }
                                                function i(e) {
                                                    if (!g.isInvalid(e)) {
                                                        v = !1;
                                                        var t = g.parse(e);
                                                        f.setStateAndPublish(t.state);
                                                    }
                                                }
                                                function s(e) {
                                                    !v && m && (v = !0, g.send(a, e));
                                                }
                                                function c() {
                                                    n(new C(r._generateID)), f.getMarketingCloudVisitorID(), f.callbackRegistry.executeAll(f.state, !0), N.removeEventListener('message', p);
                                                }
                                                function p(e) {
                                                    if (!g.isInvalid(e)) {
                                                        var t = g.parse(e);
                                                        v = !1, N.clearTimeout(f._handshakeTimeout), N.removeEventListener('message', p), n(new V(f)), N.addEventListener('message', i), f.setStateAndPublish(t.state), f.callbackRegistry.hasCallbacks() && s(O.GETSTATE);
                                                    }
                                                }
                                                function l() {
                                                    m && postMessage ? (N.addEventListener('message', p), s(O.HANDSHAKE), f._handshakeTimeout = setTimeout(c, 250)) : c();
                                                }
                                                function u() {
                                                    N.s_c_in || (N.s_c_il = [], N.s_c_in = 0), f._c = 'Visitor', f._il = N.s_c_il, f._in = N.s_c_in, f._il[f._in] = f, N.s_c_in++;
                                                }
                                                function d() {
                                                    function e(e) {
                                                        0 !== e.indexOf('_') && 'function' == typeof r[e] && (f[e] = function () {
                                                        });
                                                    }
                                                    Object.keys(r).forEach(e), f.getSupplementalDataID = r.getSupplementalDataID, f.isAllowed = function () {
                                                        return !0;
                                                    };
                                                }
                                                var f = this, m = t.whitelistParentDomain;
                                                f.state = { ALLFIELDS: {} }, f.version = r.version, f.marketingCloudOrgID = e, f.cookieDomain = r.cookieDomain || '';
                                                var v = !(f._instanceType = 'child'), g = new R(e, m);
                                                f.callbackRegistry = j(), f.init = function () {
                                                    u(), d(), n(new S(f)), l();
                                                }, f.findField = function (e, t) {
                                                    if (void 0 !== f.state[e])
                                                        return t(f.state[e]), f.state[e];
                                                }, f.messageParent = s, f.setStateAndPublish = o;
                                            }, U = M.MESSAGES, F = M.ALL_APIS, H = M.ASYNC_API_MAP, B = M.FIELDGROUP_TO_FIELD, q = function (n, a) {
                                                function o() {
                                                    var a = {};
                                                    return Object.keys(F).forEach(function (e) {
                                                        var t = F[e], r = n[t]();
                                                        L.isValueEmpty(r) || (a[e] = r);
                                                    }), a;
                                                }
                                                function i() {
                                                    var r = [];
                                                    return n._loading && Object.keys(n._loading).forEach(function (e) {
                                                        if (n._loading[e]) {
                                                            var t = B[e];
                                                            r.push(t);
                                                        }
                                                    }), r.length ? r : null;
                                                }
                                                function t(r) {
                                                    return function a() {
                                                        var e = i();
                                                        if (e) {
                                                            var t = H[e[0]];
                                                            n[t](a, !0);
                                                        } else
                                                            r();
                                                    };
                                                }
                                                function r(e, t) {
                                                    var r = o();
                                                    a.send(e, t, r);
                                                }
                                                function s(e) {
                                                    p(e), r(e, U.HANDSHAKE);
                                                }
                                                function c(e) {
                                                    t(function () {
                                                        r(e, U.PARENTSTATE);
                                                    })();
                                                }
                                                function p(t) {
                                                    function e(e) {
                                                        r.call(n, e), a.send(t, U.PARENTSTATE, { CUSTOMERIDS: n.getCustomerIDs() });
                                                    }
                                                    var r = n.setCustomerIDs;
                                                    n.setCustomerIDs = e;
                                                }
                                                return function (e) {
                                                    a.isInvalid(e) || (a.parse(e).prefix === U.HANDSHAKE ? s : c)(e.source);
                                                };
                                            }, G = function (a, r) {
                                                function n(t) {
                                                    return function (e) {
                                                        o[t] = e, ++i === s && r(o);
                                                    };
                                                }
                                                var o = {}, i = 0, s = Object.keys(a).length;
                                                Object.keys(a).forEach(function (e) {
                                                    var t = a[e];
                                                    if (t.fn) {
                                                        var r = t.args || [];
                                                        r.unshift(n(e)), t.fn.apply(t.context || null, r);
                                                    }
                                                });
                                            }, W = {
                                                get: function (e) {
                                                    e = encodeURIComponent(e);
                                                    var t = (';' + document.cookie).split(' ').join(';'), r = t.indexOf(';' + e + '='), a = r < 0 ? r : t.indexOf(';', r + 1);
                                                    return r < 0 ? '' : decodeURIComponent(t.substring(r + 2 + e.length, a < 0 ? t.length : a));
                                                },
                                                set: function (e, t, r) {
                                                    var a = p(r, 'cookieLifetime'), n = p(r, 'expires'), o = p(r, 'domain'), i = p(r, 'secure') ? 'Secure' : '';
                                                    if (n && 'SESSION' !== a && 'NONE' !== a) {
                                                        var s = '' !== t ? parseInt(a || 0, 10) : -60;
                                                        if (s)
                                                            (n = new Date()).setTime(n.getTime() + 1000 * s);
                                                        else if (1 === n) {
                                                            var c = (n = new Date()).getYear();
                                                            n.setYear(c + 2 + (c < 1900 ? 1900 : 0));
                                                        }
                                                    } else
                                                        n = 0;
                                                    return e && 'NONE' !== a ? (document.cookie = encodeURIComponent(e) + '=' + encodeURIComponent(t) + '; path=/;' + (n ? ' expires=' + n.toGMTString() + ';' : '') + (o ? ' domain=' + o + ';' : '') + i, this.get(e) === t) : 0;
                                                },
                                                remove: function (e, t) {
                                                    var r = p(t, 'domain');
                                                    r = r ? ' domain=' + r + ';' : '', document.cookie = encodeURIComponent(e) + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;' + r;
                                                }
                                            }, Y = function (e) {
                                                var t;
                                                !e && N.location && (e = N.location.hostname);
                                                var r, a = (t = e).split('.');
                                                for (r = a.length - 2; 0 <= r; r--)
                                                    if (t = a.slice(r).join('.'), W.set('test', 'cookie', { domain: t }))
                                                        return W.remove('test', { domain: t }), t;
                                                return '';
                                            }, K = {
                                                compare: r,
                                                isLessThan: function (e, t) {
                                                    return r(e, t) < 0;
                                                },
                                                areVersionsDifferent: function (e, t) {
                                                    return 0 !== r(e, t);
                                                },
                                                isGreaterThan: function (e, t) {
                                                    return 0 < r(e, t);
                                                },
                                                isEqual: function (e, t) {
                                                    return 0 === r(e, t);
                                                }
                                            }, J = !!N.postMessage, z = {
                                                postMessage: function (e, t, r) {
                                                    var a = 1;
                                                    t && (J ? r.postMessage(e, t.replace(/([^:]+:\/\/[^\/]+).*/, '$1')) : t && (r.location = t.replace(/#.*$/, '') + '#' + +new Date() + a++ + '&' + e));
                                                },
                                                receiveMessage: function (t, r) {
                                                    var e;
                                                    try {
                                                        J && (t && (e = function (e) {
                                                            if ('string' == typeof r && e.origin !== r || '[object Function]' === Object.prototype.toString.call(r) && !1 === r(e.origin))
                                                                return !1;
                                                            t(e);
                                                        }), N.addEventListener ? N[t ? 'addEventListener' : 'removeEventListener']('message', e) : N[t ? 'attachEvent' : 'detachEvent']('onmessage', e));
                                                    } catch (t) {
                                                    }
                                                }
                                            }, $ = function (e) {
                                                var t, r, a = '0123456789', n = '', o = '', i = 8, s = 10, c = 10;
                                                if (1 == e) {
                                                    for (a += 'ABCDEF', t = 0; t < 16; t++)
                                                        r = Math.floor(Math.random() * i), n += a.substring(r, r + 1), r = Math.floor(Math.random() * i), o += a.substring(r, r + 1), i = 16;
                                                    return n + '-' + o;
                                                }
                                                for (t = 0; t < 19; t++)
                                                    r = Math.floor(Math.random() * s), n += a.substring(r, r + 1), 0 === t && 9 == r ? s = 3 : (1 == t || 2 == t) && 10 != s && r < 2 ? s = 10 : 2 < t && (s = 10), r = Math.floor(Math.random() * c), o += a.substring(r, r + 1), 0 === t && 9 == r ? c = 3 : (1 == t || 2 == t) && 10 != c && r < 2 ? c = 10 : 2 < t && (c = 10);
                                                return n + o;
                                            }, Z = function (a) {
                                                return {
                                                    corsMetadata: (e = 'none', t = !0, 'undefined' != typeof XMLHttpRequest && XMLHttpRequest === Object(XMLHttpRequest) && ('withCredentials' in new XMLHttpRequest() ? e = 'XMLHttpRequest' : 'undefined' != typeof XDomainRequest && XDomainRequest === Object(XDomainRequest) && (t = !1), 0 < Object.prototype.toString.call(N.HTMLElement).indexOf('Constructor') && (t = !1)), {
                                                        corsType: e,
                                                        corsCookiesEnabled: t
                                                    }),
                                                    getCORSInstance: function () {
                                                        return 'none' === this.corsMetadata.corsType ? null : new N[this.corsMetadata.corsType]();
                                                    },
                                                    fireCORS: function (o, e) {
                                                        function t(e) {
                                                            var t;
                                                            try {
                                                                if ((t = JSON.parse(e)) !== Object(t))
                                                                    return void i.handleCORSError(o, null, 'Response is not JSON');
                                                            } catch (e) {
                                                                return void i.handleCORSError(o, e, 'Error parsing response as JSON');
                                                            }
                                                            try {
                                                                for (var r = o.callback, a = N, n = 0; n < r.length; n++)
                                                                    a = a[r[n]];
                                                                a(t);
                                                            } catch (e) {
                                                                i.handleCORSError(o, e, 'Error forming callback function');
                                                            }
                                                        }
                                                        var i = this;
                                                        e && (o.loadErrorHandler = e);
                                                        try {
                                                            var r = this.getCORSInstance();
                                                            r.open('get', o.corsUrl + '&ts=' + new Date().getTime(), !0), 'XMLHttpRequest' === this.corsMetadata.corsType && (r.withCredentials = !0, r.timeout = a.loadTimeout, r.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded'), r.onreadystatechange = function () {
                                                                4 === this.readyState && 200 === this.status && t(this.responseText);
                                                            }), r.onerror = function (e) {
                                                                i.handleCORSError(o, e, 'onerror');
                                                            }, r.ontimeout = function (e) {
                                                                i.handleCORSError(o, e, 'ontimeout');
                                                            }, r.send(), a._log.requests.push(o.corsUrl);
                                                        } catch (a) {
                                                            this.handleCORSError(o, a, 'try-catch');
                                                        }
                                                    },
                                                    handleCORSError: function (e, t, r) {
                                                        a.CORSErrors.push({
                                                            corsData: e,
                                                            error: t,
                                                            description: r
                                                        }), e.loadErrorHandler && ('ontimeout' === r ? e.loadErrorHandler(!0) : e.loadErrorHandler(!1));
                                                    }
                                                };
                                                var e, t;
                                            }, Q = {
                                                POST_MESSAGE_ENABLED: !!N.postMessage,
                                                DAYS_BETWEEN_SYNC_ID_CALLS: 1,
                                                MILLIS_PER_DAY: 86400000,
                                                ADOBE_MC: 'adobe_mc',
                                                ADOBE_MC_SDID: 'adobe_mc_sdid',
                                                VALID_VISITOR_ID_REGEX: /^[0-9a-fA-F\-]+$/,
                                                ADOBE_MC_TTL_IN_MIN: 5,
                                                VERSION_REGEX: /vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,
                                                FIRST_PARTY_SERVER_COOKIE: 's_ecid'
                                            }, X = function (m, t) {
                                                var n = N.document;
                                                return {
                                                    THROTTLE_START: 30000,
                                                    MAX_SYNCS_LENGTH: 649,
                                                    throttleTimerSet: !1,
                                                    id: null,
                                                    onPagePixels: [],
                                                    iframeHost: null,
                                                    getIframeHost: function (e) {
                                                        if ('string' == typeof e) {
                                                            var t = e.split('/');
                                                            return t[0] + '//' + t[2];
                                                        }
                                                    },
                                                    subdomain: null,
                                                    url: null,
                                                    getUrl: function () {
                                                        var e, t = 'http://fast.', r = '?d_nsid=' + m.idSyncContainerID + '#' + encodeURIComponent(n.location.origin);
                                                        return this.subdomain || (this.subdomain = 'nosubdomainreturned'), m.loadSSL && (t = m.idSyncSSLUseAkamai ? 'https://fast.' : 'https://'), e = t + this.subdomain + '.demdex.net/dest5.html' + r, this.iframeHost = this.getIframeHost(e), this.id = 'destination_publishing_iframe_' + this.subdomain + '_' + m.idSyncContainerID, e;
                                                    },
                                                    checkDPIframeSrc: function () {
                                                        var e = '?d_nsid=' + m.idSyncContainerID + '#' + encodeURIComponent(n.location.href);
                                                        'string' == typeof m.dpIframeSrc && m.dpIframeSrc.length && (this.id = 'destination_publishing_iframe_' + (m._subdomain || this.subdomain || new Date().getTime()) + '_' + m.idSyncContainerID, this.iframeHost = this.getIframeHost(m.dpIframeSrc), this.url = m.dpIframeSrc + e);
                                                    },
                                                    idCallNotProcesssed: null,
                                                    doAttachIframe: !1,
                                                    startedAttachingIframe: !1,
                                                    iframeHasLoaded: null,
                                                    iframeIdChanged: null,
                                                    newIframeCreated: null,
                                                    originalIframeHasLoadedAlready: null,
                                                    iframeLoadedCallbacks: [],
                                                    regionChanged: !1,
                                                    timesRegionChanged: 0,
                                                    sendingMessages: !1,
                                                    messages: [],
                                                    messagesPosted: [],
                                                    messagesReceived: [],
                                                    messageSendingInterval: Q.POST_MESSAGE_ENABLED ? null : 100,
                                                    onPageDestinationsFired: [],
                                                    jsonForComparison: [],
                                                    jsonDuplicates: [],
                                                    jsonWaiting: [],
                                                    jsonProcessed: [],
                                                    canSetThirdPartyCookies: !0,
                                                    receivedThirdPartyCookiesNotification: !1,
                                                    readyToAttachIframePreliminary: function () {
                                                        return !(m.idSyncDisableSyncs || m.disableIdSyncs || m.idSyncDisable3rdPartySyncing || m.disableThirdPartyCookies || m.disableThirdPartyCalls);
                                                    },
                                                    readyToAttachIframe: function () {
                                                        return this.readyToAttachIframePreliminary() && (this.doAttachIframe || m._doAttachIframe) && (this.subdomain && 'nosubdomainreturned' !== this.subdomain || m._subdomain) && this.url && !this.startedAttachingIframe;
                                                    },
                                                    attachIframe: function () {
                                                        function e() {
                                                            (a = n.createElement('iframe')).sandbox = 'allow-scripts allow-same-origin', a.title = 'Adobe ID Syncing iFrame', a.id = r.id, a.name = r.id + '_name', a.style.cssText = 'display: none; width: 0; height: 0;', a.src = r.url, r.newIframeCreated = !0, t(), n.body.appendChild(a);
                                                        }
                                                        function t(e) {
                                                            a.addEventListener('load', function () {
                                                                a.className = 'aamIframeLoaded', r.iframeHasLoaded = !0, r.fireIframeLoadedCallbacks(e), r.requestToProcess();
                                                            });
                                                        }
                                                        this.startedAttachingIframe = !0;
                                                        var r = this, a = n.getElementById(this.id);
                                                        a ? 'IFRAME' !== a.nodeName ? (this.id += '_2', this.iframeIdChanged = !0, e()) : (this.newIframeCreated = !1, 'aamIframeLoaded' !== a.className ? (this.originalIframeHasLoadedAlready = !1, t('The destination publishing iframe already exists from a different library, but hadn\'t loaded yet.')) : (this.originalIframeHasLoadedAlready = !0, this.iframeHasLoaded = !0, this.iframe = a, this.fireIframeLoadedCallbacks('The destination publishing iframe already exists from a different library, and had loaded alresady.'), this.requestToProcess())) : e(), this.iframe = a;
                                                    },
                                                    fireIframeLoadedCallbacks: function (t) {
                                                        this.iframeLoadedCallbacks.forEach(function (e) {
                                                            'function' == typeof e && e({ message: t || 'The destination publishing iframe was attached and loaded successfully.' });
                                                        }), this.iframeLoadedCallbacks = [];
                                                    },
                                                    requestToProcess: function (e) {
                                                        function t() {
                                                            a.jsonForComparison.push(e), a.jsonWaiting.push(e), a.processSyncOnPage(e);
                                                        }
                                                        var r, a = this;
                                                        if (e === Object(e) && e.ibs)
                                                            if (r = JSON.stringify(e.ibs || []), this.jsonForComparison.length) {
                                                                var n, o, i, s = !1;
                                                                for (n = 0, o = this.jsonForComparison.length; n < o; n++)
                                                                    if (i = this.jsonForComparison[n], r === JSON.stringify(i.ibs || [])) {
                                                                        s = !0;
                                                                        break;
                                                                    }
                                                                s ? this.jsonDuplicates.push(e) : t();
                                                            } else
                                                                t();
                                                        if ((this.receivedThirdPartyCookiesNotification || !Q.POST_MESSAGE_ENABLED || this.iframeHasLoaded) && this.jsonWaiting.length) {
                                                            var c = this.jsonWaiting.shift();
                                                            this.process(c), this.requestToProcess();
                                                        }
                                                        m.idSyncDisableSyncs || m.disableIdSyncs || !this.iframeHasLoaded || !this.messages.length || this.sendingMessages || (this.throttleTimerSet || (this.throttleTimerSet = !0, setTimeout(function () {
                                                            a.messageSendingInterval = Q.POST_MESSAGE_ENABLED ? null : 150;
                                                        }, this.THROTTLE_START)), this.sendingMessages = !0, this.sendMessages());
                                                    },
                                                    getRegionAndCheckIfChanged: function (e, t) {
                                                        var r = m._getField('MCAAMLH'), a = e.d_region || e.dcs_region;
                                                        return r ? a && (m._setFieldExpire('MCAAMLH', t), m._setField('MCAAMLH', a), parseInt(r, 10) !== a && (this.regionChanged = !0, this.timesRegionChanged++, m._setField('MCSYNCSOP', ''), m._setField('MCSYNCS', ''), r = a)) : (r = a) && (m._setFieldExpire('MCAAMLH', t), m._setField('MCAAMLH', r)), r || (r = ''), r;
                                                    },
                                                    processSyncOnPage: function (e) {
                                                        var t, r, a, n;
                                                        if ((t = e.ibs) && t instanceof Array && (r = t.length))
                                                            for (a = 0; a < r; a++)
                                                                (n = t[a]).syncOnPage && this.checkFirstPartyCookie(n, '', 'syncOnPage');
                                                    },
                                                    process: function (e) {
                                                        var t, r, a, n, o, i = encodeURIComponent, s = !1;
                                                        if ((t = e.ibs) && t instanceof Array && (r = t.length))
                                                            for (s = !0, a = 0; a < r; a++)
                                                                n = t[a], o = [
                                                                    i('ibs'),
                                                                    i(n.id || ''),
                                                                    i(n.tag || ''),
                                                                    L.encodeAndBuildRequest(n.url || [], ','),
                                                                    i(n.ttl || ''),
                                                                    '',
                                                                    '',
                                                                    n.fireURLSync ? 'true' : 'false'
                                                                ], n.syncOnPage || (this.canSetThirdPartyCookies ? this.addMessage(o.join('|')) : n.fireURLSync && this.checkFirstPartyCookie(n, o.join('|')));
                                                        s && this.jsonProcessed.push(e);
                                                    },
                                                    checkFirstPartyCookie: function (e, t, r) {
                                                        var a = 'syncOnPage' === r, n = a ? 'MCSYNCSOP' : 'MCSYNCS';
                                                        m._readVisitor();
                                                        var o, i, s = m._getField(n), c = !1, p = !1, l = Math.ceil(new Date().getTime() / Q.MILLIS_PER_DAY);
                                                        s ? (o = s.split('*'), c = (i = this.pruneSyncData(o, e.id, l)).dataPresent, p = i.dataValid, c && p || this.fireSync(a, e, t, o, n, l)) : (o = [], this.fireSync(a, e, t, o, n, l));
                                                    },
                                                    pruneSyncData: function (e, t, r) {
                                                        var a, n, o, i = !1, s = !1;
                                                        for (n = 0; n < e.length; n++)
                                                            a = e[n], o = parseInt(a.split('-')[1], 10), a.match('^' + t + '-') ? (i = !0, r < o ? s = !0 : (e.splice(n, 1), n--)) : o <= r && (e.splice(n, 1), n--);
                                                        return {
                                                            dataPresent: i,
                                                            dataValid: s
                                                        };
                                                    },
                                                    manageSyncsSize: function (e) {
                                                        if (e.join('*').length > this.MAX_SYNCS_LENGTH)
                                                            for (e.sort(function (e, t) {
                                                                    return parseInt(e.split('-')[1], 10) - parseInt(t.split('-')[1], 10);
                                                                }); e.join('*').length > this.MAX_SYNCS_LENGTH;)
                                                                e.shift();
                                                    },
                                                    fireSync: function (e, t, r, a, l, n) {
                                                        var u = this;
                                                        if (e) {
                                                            if ('img' === t.tag) {
                                                                var o, i, s, c, p = t.url, d = m.loadSSL ? 'https:' : 'http:';
                                                                for (o = 0, i = p.length; o < i; o++) {
                                                                    s = p[o], c = /^\/\//.test(s);
                                                                    var f = new Image();
                                                                    f.addEventListener('load', function (i, s, c, p) {
                                                                        return function () {
                                                                            u.onPagePixels[i] = null, m._readVisitor();
                                                                            var e, t, r, a, n = m._getField(l), o = [];
                                                                            if (n)
                                                                                for (t = 0, r = (e = n.split('*')).length; t < r; t++)
                                                                                    (a = e[t]).match('^' + s.id + '-') || o.push(a);
                                                                            u.setSyncTrackingData(o, s, c, p);
                                                                        };
                                                                    }(this.onPagePixels.length, t, l, n)), f.src = (c ? d : '') + s, this.onPagePixels.push(f);
                                                                }
                                                            }
                                                        } else
                                                            this.addMessage(r), this.setSyncTrackingData(a, t, l, n);
                                                    },
                                                    addMessage: function (e) {
                                                        var t = encodeURIComponent(m._enableErrorReporting ? '---destpub-debug---' : '---destpub---');
                                                        this.messages.push((Q.POST_MESSAGE_ENABLED ? '' : t) + e);
                                                    },
                                                    setSyncTrackingData: function (e, t, r, a) {
                                                        e.push(t.id + '-' + (a + Math.ceil(t.ttl / 60 / 24))), this.manageSyncsSize(e), m._setField(r, e.join('*'));
                                                    },
                                                    sendMessages: function () {
                                                        var e, t = this, r = '', a = encodeURIComponent;
                                                        this.regionChanged && (r = a('---destpub-clear-dextp---'), this.regionChanged = !1), this.messages.length ? Q.POST_MESSAGE_ENABLED ? (e = r + a('---destpub-combined---') + this.messages.join('%01'), this.postMessage(e), this.messages = [], this.sendingMessages = !1) : (e = this.messages.shift(), this.postMessage(r + e), setTimeout(function () {
                                                            t.sendMessages();
                                                        }, this.messageSendingInterval)) : this.sendingMessages = !1;
                                                    },
                                                    postMessage: function (e) {
                                                        z.postMessage(e, this.url, this.iframe.contentWindow), this.messagesPosted.push(e);
                                                    },
                                                    receiveMessage: function (e) {
                                                        var t, r = /^---destpub-to-parent---/;
                                                        'string' == typeof e && r.test(e) && ('canSetThirdPartyCookies' === (t = e.replace(r, '').split('|'))[0] && (this.canSetThirdPartyCookies = 'true' === t[1], this.receivedThirdPartyCookiesNotification = !0, this.requestToProcess()), this.messagesReceived.push(e));
                                                    },
                                                    processIDCallData: function (e) {
                                                        (null == this.url || e.subdomain && 'nosubdomainreturned' === this.subdomain) && ('string' == typeof m._subdomain && m._subdomain.length ? this.subdomain = m._subdomain : this.subdomain = e.subdomain || '', this.url = this.getUrl()), e.ibs instanceof Array && e.ibs.length && (this.doAttachIframe = !0), this.readyToAttachIframe() && (m.idSyncAttachIframeOnWindowLoad ? (t.windowLoaded || 'complete' === n.readyState || 'loaded' === n.readyState) && this.attachIframe() : this.attachIframeASAP()), 'function' == typeof m.idSyncIDCallResult ? m.idSyncIDCallResult(e) : this.requestToProcess(e), 'function' == typeof m.idSyncAfterIDCallResult && m.idSyncAfterIDCallResult(e);
                                                    },
                                                    canMakeSyncIDCall: function (e, t) {
                                                        return m._forceSyncIDCall || !e || t - e > Q.DAYS_BETWEEN_SYNC_ID_CALLS;
                                                    },
                                                    attachIframeASAP: function () {
                                                        function e() {
                                                            t.startedAttachingIframe || (n.body ? t.attachIframe() : setTimeout(e, 30));
                                                        }
                                                        var t = this;
                                                        e();
                                                    }
                                                };
                                            }, ee = {
                                                audienceManagerServer: {},
                                                audienceManagerServerSecure: {},
                                                cookieDomain: {},
                                                cookieLifetime: {},
                                                cookieName: {},
                                                doesOptInApply: {},
                                                disableThirdPartyCalls: {},
                                                discardTrackingServerECID: {},
                                                idSyncAfterIDCallResult: {},
                                                idSyncAttachIframeOnWindowLoad: {},
                                                idSyncContainerID: {},
                                                idSyncDisable3rdPartySyncing: {},
                                                disableThirdPartyCookies: {},
                                                idSyncDisableSyncs: {},
                                                disableIdSyncs: {},
                                                idSyncIDCallResult: {},
                                                idSyncSSLUseAkamai: {},
                                                isCoopSafe: {},
                                                isIabContext: {},
                                                isOptInStorageEnabled: {},
                                                loadSSL: {},
                                                loadTimeout: {},
                                                marketingCloudServer: {},
                                                marketingCloudServerSecure: {},
                                                optInCookieDomain: {},
                                                optInStorageExpiry: {},
                                                overwriteCrossDomainMCIDAndAID: {},
                                                preOptInApprovals: {},
                                                previousPermissions: {},
                                                resetBeforeVersion: {},
                                                sdidParamExpiry: {},
                                                serverState: {},
                                                sessionCookieName: {},
                                                secureCookie: {},
                                                takeTimeoutMetrics: {},
                                                trackingServer: {},
                                                trackingServerSecure: {},
                                                whitelistIframeDomains: {},
                                                whitelistParentDomain: {}
                                            }, te = {
                                                getConfigNames: function () {
                                                    return Object.keys(ee);
                                                },
                                                getConfigs: function () {
                                                    return ee;
                                                },
                                                normalizeConfig: function (e) {
                                                    return 'function' != typeof e ? e : e();
                                                }
                                            }, re = function (e) {
                                                var n = {};
                                                return e.on = function (e, t, r) {
                                                    if (!t || 'function' != typeof t)
                                                        throw new Error('[ON] Callback should be a function.');
                                                    n.hasOwnProperty(e) || (n[e] = []);
                                                    var a = n[e].push({
                                                        callback: t,
                                                        context: r
                                                    }) - 1;
                                                    return function () {
                                                        n[e].splice(a, 1), n[e].length || delete n[e];
                                                    };
                                                }, e.off = function (e, t) {
                                                    n.hasOwnProperty(e) && (n[e] = n[e].filter(function (e) {
                                                        if (e.callback !== t)
                                                            return e;
                                                    }));
                                                }, e.publish = function (e) {
                                                    if (n.hasOwnProperty(e)) {
                                                        var t = [].slice.call(arguments, 1);
                                                        n[e].slice(0).forEach(function (e) {
                                                            e.callback.apply(e.context, t);
                                                        });
                                                    }
                                                }, e.publish;
                                            }, ae = {
                                                PENDING: 'pending',
                                                CHANGED: 'changed',
                                                COMPLETE: 'complete'
                                            }, ne = {
                                                AAM: 'aam',
                                                ADCLOUD: 'adcloud',
                                                ANALYTICS: 'aa',
                                                CAMPAIGN: 'campaign',
                                                ECID: 'ecid',
                                                LIVEFYRE: 'livefyre',
                                                TARGET: 'target',
                                                VIDEO_ANALYTICS: 'videoaa'
                                            }, oe = (e(v = {}, ne.AAM, 565), e(v, ne.ECID, 565), v), ie = (e(g = {}, ne.AAM, [
                                                1,
                                                2,
                                                5
                                            ]), e(g, ne.ECID, [
                                                1,
                                                2,
                                                5
                                            ]), g), se = (y = ne, Object.keys(y).map(function (e) {
                                                return y[e];
                                            })), ce = function () {
                                                var a = {};
                                                return a.callbacks = Object.create(null), a.add = function (e, t) {
                                                    if (!c(t))
                                                        throw new Error('[callbackRegistryFactory] Make sure callback is a function or an array of functions.');
                                                    a.callbacks[e] = a.callbacks[e] || [];
                                                    var r = a.callbacks[e].push(t) - 1;
                                                    return function () {
                                                        a.callbacks[e].splice(r, 1);
                                                    };
                                                }, a.execute = function (e, t) {
                                                    if (a.callbacks[e]) {
                                                        t = (t = void 0 === t ? [] : t) instanceof Array ? t : [t];
                                                        try {
                                                            for (; a.callbacks[e].length;) {
                                                                var r = a.callbacks[e].shift();
                                                                'function' == typeof r ? r.apply(null, t) : r instanceof Array && r[1].apply(r[0], t);
                                                            }
                                                            delete a.callbacks[e];
                                                        } catch (a) {
                                                        }
                                                    }
                                                }, a.executeAll = function (r, e) {
                                                    (e || r && !s(r)) && Object.keys(a.callbacks).forEach(function (e) {
                                                        var t = void 0 !== r[e] ? r[e] : '';
                                                        a.execute(e, t);
                                                    }, a);
                                                }, a.hasCallbacks = function () {
                                                    return Boolean(Object.keys(a.callbacks).length);
                                                }, a;
                                            }, pe = function () {
                                            }, le = function (e) {
                                                var t = window.console;
                                                return !!t && 'function' == typeof t[e];
                                            }, ue = function (a, n, e) {
                                                return e() ? function () {
                                                    if (le(a)) {
                                                        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)
                                                            t[r] = arguments[r];
                                                        console[a].apply(console, [n].concat(t));
                                                    }
                                                } : pe;
                                            }, de = new a('[ADOBE OPT-IN]'), fe = function (e, t) {
                                                return P(e) === t;
                                            }, me = function (e, t) {
                                                return e instanceof Array ? e : fe(e, 'string') ? [e] : t || [];
                                            }, ve = function (t) {
                                                var e = Object.keys(t);
                                                return !!e.length && e.every(function (e) {
                                                    return !0 === t[e];
                                                });
                                            }, ge = function (e) {
                                                return !(!e || be(e)) && me(e).every(function (e) {
                                                    return -1 < se.indexOf(e);
                                                });
                                            }, ye = function (e, r) {
                                                return e.reduce(function (e, t) {
                                                    return e[t] = r, e;
                                                }, {});
                                            }, he = function (e) {
                                                return JSON.parse(JSON.stringify(e));
                                            }, be = function (e) {
                                                return '[object Array]' === Object.prototype.toString.call(e) && !e.length;
                                            }, ke = function (e) {
                                                if (Te(e))
                                                    return e;
                                                try {
                                                    return JSON.parse(e);
                                                } catch (e) {
                                                    return {};
                                                }
                                            }, Ce = function (e) {
                                                return void 0 === e || (Te(e) ? ge(Object.keys(e)) : Ie(e));
                                            }, Ie = function (e) {
                                                try {
                                                    var t = JSON.parse(e);
                                                    return !!e && fe(e, 'string') && ge(Object.keys(t));
                                                } catch (e) {
                                                    return !1;
                                                }
                                            }, Te = function (e) {
                                                return null !== e && fe(e, 'object') && !1 === Array.isArray(e);
                                            }, _e = function () {
                                            }, Ve = function (e) {
                                                return fe(e, 'function') ? e() : e;
                                            }, we = function (e, t) {
                                                Ce(e) || de.error(''.concat(t));
                                            }, Se = function (t) {
                                                return Object.keys(t).map(function (e) {
                                                    return t[e];
                                                });
                                            }, je = function (e) {
                                                return Se(e).filter(function (e, t, r) {
                                                    return r.indexOf(e) === t;
                                                });
                                            }, De = function (u) {
                                                return function (e) {
                                                    var t = 0 < arguments.length && void 0 !== e ? arguments[0] : {}, r = t.command, a = t.params, n = void 0 === a ? {} : a, o = t.callback, i = void 0 === o ? _e : o;
                                                    if (!r || -1 === r.indexOf('.'))
                                                        throw new Error('[OptIn.execute] Please provide a valid command.');
                                                    try {
                                                        var s = r.split('.'), c = u[s[0]], p = s[1];
                                                        if (!c || 'function' != typeof c[p])
                                                            throw new Error('Make sure the plugin and API name exist.');
                                                        var l = Object.assign(n, { callback: i });
                                                        c[p].call(c, l);
                                                    } catch (u) {
                                                        de.error('[execute] Something went wrong: ' + u.message);
                                                    }
                                                };
                                            };
                                        l.prototype = Object.create(Error.prototype), l.prototype.constructor = l;
                                        var Ee = 'fetchPermissions', Oe = '[OptIn#registerPlugin] Plugin is invalid.';
                                        u.Categories = ne, u.TimeoutError = l;
                                        var Ae = Object.freeze({
                                                OptIn: u,
                                                IabPlugin: m
                                            }), xe = function (u, d) {
                                                u.publishDestinations = function (e, t, r) {
                                                    var a = t, n = r;
                                                    try {
                                                        n = 'function' == typeof n ? n : e.callback;
                                                    } catch (u) {
                                                        n = function () {
                                                        };
                                                    }
                                                    var o = d;
                                                    if (o.readyToAttachIframePreliminary()) {
                                                        if ('string' == typeof e) {
                                                            if (!e.length)
                                                                return void n({ error: 'subdomain is not a populated string.' });
                                                            if (!(a instanceof Array && a.length))
                                                                return void n({ error: 'messages is not a populated array.' });
                                                            var i = !1;
                                                            if (a.forEach(function (e) {
                                                                    'string' == typeof e && e.length && (o.addMessage(e), i = !0);
                                                                }), !i)
                                                                return void n({ error: 'None of the messages are populated strings.' });
                                                        } else {
                                                            if (!L.isObject(e))
                                                                return void n({ error: 'Invalid parameters passed.' });
                                                            var s = e;
                                                            if ('string' != typeof (e = s.subdomain) || !e.length)
                                                                return void n({ error: 'config.subdomain is not a populated string.' });
                                                            var c = s.urlDestinations;
                                                            if (!(c instanceof Array && c.length))
                                                                return void n({ error: 'config.urlDestinations is not a populated array.' });
                                                            var p = [];
                                                            c.forEach(function (e) {
                                                                L.isObject(e) && (e.hideReferrer ? e.message && o.addMessage(e.message) : p.push(e));
                                                            }), function l() {
                                                                p.length && setTimeout(function () {
                                                                    var e = new Image(), t = p.shift();
                                                                    e.src = t.url, o.onPageDestinationsFired.push(t), l();
                                                                }, 100);
                                                            }();
                                                        }
                                                        o.iframe ? (n({ message: 'The destination publishing iframe is already attached and loaded.' }), o.requestToProcess()) : !u.subdomain && u._getField('MCMID') ? (o.subdomain = e, o.doAttachIframe = !0, o.url = o.getUrl(), o.readyToAttachIframe() ? (o.iframeLoadedCallbacks.push(function (e) {
                                                            n({ message: 'Attempted to attach and load the destination publishing iframe through this API call. Result: ' + (e.message || 'no result') });
                                                        }), o.attachIframe()) : n({ error: 'Encountered a problem in attempting to attach and load the destination publishing iframe through this API call.' })) : o.iframeLoadedCallbacks.push(function (e) {
                                                            n({ message: 'Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: ' + (e.message || 'no result') });
                                                        });
                                                    } else
                                                        n({ error: 'The destination publishing iframe is disabled in the Visitor library.' });
                                                };
                                            }, Pe = function P(e) {
                                                function t(e, t) {
                                                    return e >>> t | e << 32 - t;
                                                }
                                                for (var r, a, n = Math.pow, o = n(2, 32), i = '', s = [], c = 8 * e.length, p = P.h = P.h || [], l = P.k = P.k || [], u = l.length, d = {}, f = 2; u < 64; f++)
                                                    if (!d[f]) {
                                                        for (r = 0; r < 313; r += f)
                                                            d[r] = f;
                                                        p[u] = n(f, 0.5) * o | 0, l[u++] = n(f, 1 / 3) * o | 0;
                                                    }
                                                for (e += '\x80'; e.length % 64 - 56;)
                                                    e += '\0';
                                                for (r = 0; r < e.length; r++) {
                                                    if ((a = e.charCodeAt(r)) >> 8)
                                                        return;
                                                    s[r >> 2] |= a << (3 - r) % 4 * 8;
                                                }
                                                for (s[s.length] = c / o | 0, s[s.length] = c, a = 0; a < s.length;) {
                                                    var m = s.slice(a, a += 16), v = p;
                                                    for (p = p.slice(0, 8), r = 0; r < 64; r++) {
                                                        var g = m[r - 15], y = m[r - 2], h = p[0], b = p[4], k = p[7] + (t(b, 6) ^ t(b, 11) ^ t(b, 25)) + (b & p[5] ^ ~b & p[6]) + l[r] + (m[r] = r < 16 ? m[r] : m[r - 16] + (t(g, 7) ^ t(g, 18) ^ g >>> 3) + m[r - 7] + (t(y, 17) ^ t(y, 19) ^ y >>> 10) | 0);
                                                        (p = [k + ((t(h, 2) ^ t(h, 13) ^ t(h, 22)) + (h & p[1] ^ h & p[2] ^ p[1] & p[2])) | 0].concat(p))[4] = p[4] + k | 0;
                                                    }
                                                    for (r = 0; r < 8; r++)
                                                        p[r] = p[r] + v[r] | 0;
                                                }
                                                for (r = 0; r < 8; r++)
                                                    for (a = 3; a + 1; a--) {
                                                        var C = p[r] >> 8 * a & 255;
                                                        i += (C < 16 ? 0 : '') + C.toString(16);
                                                    }
                                                return i;
                                            }, Ne = function (e, t) {
                                                return 'SHA-256' !== t && 'SHA256' !== t && 'sha256' !== t && 'sha-256' !== t || (e = Pe(e)), e;
                                            }, Me = function (e) {
                                                return String(e).trim().toLowerCase();
                                            }, Le = Ae.OptIn;
                                        L.defineGlobalNamespace(), window.adobe.OptInCategories = Le.Categories;
                                        var Re = function (a, r, e) {
                                            function t(e) {
                                                var a = e;
                                                return function (e) {
                                                    var t = e || h.location.href;
                                                    try {
                                                        var r = f._extractParamFromUri(t, a);
                                                        if (r)
                                                            return O.parsePipeDelimetedKeyValues(r);
                                                    } catch (e) {
                                                    }
                                                };
                                            }
                                            function n(e) {
                                                function t(e, t, r) {
                                                    e && e.match(Q.VALID_VISITOR_ID_REGEX) && (r === C && (y = !0), t(e));
                                                }
                                                t(e[C], f.setMarketingCloudVisitorID, C), f._setFieldExpire(w, -1), t(e[_], f.setAnalyticsVisitorID);
                                            }
                                            function o(e) {
                                                e = e || {}, f._supplementalDataIDCurrent = e.supplementalDataIDCurrent || '', f._supplementalDataIDCurrentConsumed = e.supplementalDataIDCurrentConsumed || {}, f._supplementalDataIDLast = e.supplementalDataIDLast || '', f._supplementalDataIDLastConsumed = e.supplementalDataIDLastConsumed || {};
                                            }
                                            function i(e) {
                                                function n(e, t, r) {
                                                    return (r = r ? r += '|' : r) + (e + '=') + encodeURIComponent(t);
                                                }
                                                function t(e, t) {
                                                    var r = t[0], a = t[1];
                                                    return null != a && a !== S && (e = n(r, a, e)), e;
                                                }
                                                var r, a = e.reduce(t, '');
                                                return (r = (r = a) ? r += '|' : r) + 'TS=' + O.getTimestampInSeconds();
                                            }
                                            function s(e) {
                                                var t = e.minutesToLive, r = '';
                                                return (f.idSyncDisableSyncs || f.disableIdSyncs) && (r = r || 'Error: id syncs have been disabled'), 'string' == typeof e.dpid && e.dpid.length || (r = r || 'Error: config.dpid is empty'), 'string' == typeof e.url && e.url.length || (r = r || 'Error: config.url is empty'), void 0 === t ? t = 20160 : (t = parseInt(t, 10), (isNaN(t) || t <= 0) && (r = r || 'Error: config.minutesToLive needs to be a positive number')), {
                                                    error: r,
                                                    ttl: t
                                                };
                                            }
                                            function c() {
                                                return !(!f.configs.doesOptInApply || m.optIn.isComplete && u());
                                            }
                                            function u() {
                                                return f.configs.isIabContext ? m.optIn.isApproved(m.optIn.Categories.ECID) && g : m.optIn.isApproved(m.optIn.Categories.ECID);
                                            }
                                            function p(e, t) {
                                                if (g = !0, e)
                                                    throw new Error('[IAB plugin] : ' + e);
                                                t.gdprApplies && (v = t.consentString), f.init(), d();
                                            }
                                            function l() {
                                                m.optIn.isApproved(m.optIn.Categories.ECID) && (f.configs.isIabContext ? m.optIn.execute({
                                                    command: 'iabPlugin.fetchConsentData',
                                                    callback: p
                                                }) : (f.init(), d()));
                                            }
                                            function d() {
                                                m.optIn.off('complete', l);
                                            }
                                            if (!e || e.split('').reverse().join('') !== a)
                                                throw new Error('Please use `Visitor.getInstance` to instantiate Visitor.');
                                            var f = this, m = window.adobe, v = '', g = !1, y = !1;
                                            f.version = '4.4.0';
                                            var h = N, b = h.Visitor;
                                            b.version = f.version, b.AuthState = M.AUTH_STATE, b.OptOut = M.OPT_OUT, h.s_c_in || (h.s_c_il = [], h.s_c_in = 0), f._c = 'Visitor', f._il = h.s_c_il, f._in = h.s_c_in, f._il[f._in] = f, h.s_c_in++, f._instanceType = 'regular', f._log = { requests: [] }, f.marketingCloudOrgID = a, f.cookieName = 'AMCV_' + a, f.sessionCookieName = 'AMCVS_' + a, f.cookieDomain = Y(), f.loadSSL = 0 <= h.location.protocol.toLowerCase().indexOf('https'), f.loadTimeout = 30000, f.CORSErrors = [], f.marketingCloudServer = f.audienceManagerServer = 'dpm.demdex.net', f.sdidParamExpiry = 30;
                                            var k = null, C = 'MCMID', I = 'MCIDTS', T = 'A', _ = 'MCAID', V = 'AAM', w = 'MCAAMB', S = 'NONE', j = function (e) {
                                                    return !Object.prototype[e];
                                                }, D = Z(f);
                                            f.FIELDS = M.FIELDS, f.cookieRead = function (e) {
                                                return W.get(e);
                                            }, f.cookieWrite = function (e, t, r) {
                                                var a = f.cookieLifetime ? ('' + f.cookieLifetime).toUpperCase() : '', n = !1;
                                                return f.configs && f.configs.secureCookie && 'https:' === location.protocol && (n = !0), W.set(e, '' + t, {
                                                    expires: r,
                                                    domain: f.cookieDomain,
                                                    cookieLifetime: a,
                                                    secure: n
                                                });
                                            }, f.resetState = function (e) {
                                                e ? f._mergeServerState(e) : o();
                                            }, f._isAllowedDone = !1, f._isAllowedFlag = !1, f.isAllowed = function () {
                                                return f._isAllowedDone || (f._isAllowedDone = !0, (f.cookieRead(f.cookieName) || f.cookieWrite(f.cookieName, 'T', 1)) && (f._isAllowedFlag = !0)), 'T' === f.cookieRead(f.cookieName) && f._helpers.removeCookie(f.cookieName), f._isAllowedFlag;
                                            }, f.setMarketingCloudVisitorID = function (e) {
                                                f._setMarketingCloudFields(e);
                                            }, f._use1stPartyMarketingCloudServer = !1, f.getMarketingCloudVisitorID = function (e, t) {
                                                f.marketingCloudServer && f.marketingCloudServer.indexOf('.demdex.net') < 0 && (f._use1stPartyMarketingCloudServer = !0);
                                                var r = f._getAudienceManagerURLData('_setMarketingCloudFields'), a = r.url;
                                                return f._getRemoteField(C, a, e, t, r);
                                            }, f.getVisitorValues = function (e, t) {
                                                var r = {
                                                        MCMID: {
                                                            fn: f.getMarketingCloudVisitorID,
                                                            args: [!0],
                                                            context: f
                                                        },
                                                        MCOPTOUT: {
                                                            fn: f.isOptedOut,
                                                            args: [
                                                                void 0,
                                                                !0
                                                            ],
                                                            context: f
                                                        },
                                                        MCAID: {
                                                            fn: f.getAnalyticsVisitorID,
                                                            args: [!0],
                                                            context: f
                                                        },
                                                        MCAAMLH: {
                                                            fn: f.getAudienceManagerLocationHint,
                                                            args: [!0],
                                                            context: f
                                                        },
                                                        MCAAMB: {
                                                            fn: f.getAudienceManagerBlob,
                                                            args: [!0],
                                                            context: f
                                                        }
                                                    }, a = t && t.length ? L.pluck(r, t) : r;
                                                G(a, e);
                                            }, f._currentCustomerIDs = {}, f._customerIDsHashChanged = !1, f._newCustomerIDsHash = '', f.setCustomerIDs = function (e, t) {
                                                function r() {
                                                    f._customerIDsHashChanged = !1;
                                                }
                                                if (!f.isOptedOut() && e) {
                                                    if (!L.isObject(e) || L.isObjectEmpty(e))
                                                        return !1;
                                                    var a, n, o;
                                                    for (a in (f._readVisitor(), e))
                                                        if (j(a) && (t = (n = e[a]).hasOwnProperty('hashType') ? n.hashType : t, n))
                                                            if ('object' === P(n)) {
                                                                var i = {};
                                                                if (n.id) {
                                                                    if (t) {
                                                                        if (!(o = Ne(Me(n.id), t)))
                                                                            return;
                                                                        n.id = o, i.hashType = t;
                                                                    }
                                                                    i.id = n.id;
                                                                }
                                                                null != n.authState && (i.authState = n.authState), f._currentCustomerIDs[a] = i;
                                                            } else if (t) {
                                                                if (!(o = Ne(Me(n), t)))
                                                                    return;
                                                                f._currentCustomerIDs[a] = {
                                                                    id: o,
                                                                    hashType: t
                                                                };
                                                            } else
                                                                f._currentCustomerIDs[a] = { id: n };
                                                    var s = f.getCustomerIDs(), c = f._getField('MCCIDH'), p = '';
                                                    for (a in (c || (c = 0), s))
                                                        j(a) && (p += (p ? '|' : '') + a + '|' + ((n = s[a]).id ? n.id : '') + (n.authState ? n.authState : ''));
                                                    f._newCustomerIDsHash = String(f._hash(p)), f._newCustomerIDsHash !== c && (f._customerIDsHashChanged = !0, f._mapCustomerIDs(r));
                                                }
                                            }, f.getCustomerIDs = function () {
                                                f._readVisitor();
                                                var e, t, r = {};
                                                for (e in f._currentCustomerIDs)
                                                    j(e) && (t = f._currentCustomerIDs[e], r[e] || (r[e] = {}), t.id && (r[e].id = t.id), null != t.authState ? r[e].authState = t.authState : r[e].authState = b.AuthState.UNKNOWN, t.hashType && (r[e].hashType = t.hashType));
                                                return r;
                                            }, f.setAnalyticsVisitorID = function (e) {
                                                f._setAnalyticsFields(e);
                                            }, f.getAnalyticsVisitorID = function (e, t, r) {
                                                if (!O.isTrackingServerPopulated() && !r)
                                                    return f._callCallback(e, ['']), '';
                                                var a = '';
                                                if (r || (a = f.getMarketingCloudVisitorID(function () {
                                                        f.getAnalyticsVisitorID(e, !0);
                                                    })), a || r) {
                                                    var n = r ? f.marketingCloudServer : f.trackingServer, o = '';
                                                    f.loadSSL && (r ? f.marketingCloudServerSecure && (n = f.marketingCloudServerSecure) : f.trackingServerSecure && (n = f.trackingServerSecure));
                                                    var i = {};
                                                    if (n) {
                                                        var s = 'http' + (f.loadSSL ? 's' : '') + '://' + n + '/id', c = 'd_visid_ver=' + f.version + '&mcorgid=' + encodeURIComponent(f.marketingCloudOrgID) + (a ? '&mid=' + encodeURIComponent(a) : '') + (f.idSyncDisable3rdPartySyncing || f.disableThirdPartyCookies ? '&d_coppa=true' : ''), p = [
                                                                's_c_il',
                                                                f._in,
                                                                '_set' + (r ? 'MarketingCloud' : 'Analytics') + 'Fields'
                                                            ];
                                                        o = s + '?' + c + '&callback=s_c_il%5B' + f._in + '%5D._set' + (r ? 'MarketingCloud' : 'Analytics') + 'Fields', i.corsUrl = s + '?' + c, i.callback = p;
                                                    }
                                                    return i.url = o, f._getRemoteField(r ? C : _, o, e, t, i);
                                                }
                                                return '';
                                            }, f.getAudienceManagerLocationHint = function (e, t) {
                                                if (f.getMarketingCloudVisitorID(function () {
                                                        f.getAudienceManagerLocationHint(e, !0);
                                                    })) {
                                                    var r = f._getField(_);
                                                    if (!r && O.isTrackingServerPopulated() && (r = f.getAnalyticsVisitorID(function () {
                                                            f.getAudienceManagerLocationHint(e, !0);
                                                        })), r || !O.isTrackingServerPopulated()) {
                                                        var a = f._getAudienceManagerURLData(), n = a.url;
                                                        return f._getRemoteField('MCAAMLH', n, e, t, a);
                                                    }
                                                }
                                                return '';
                                            }, f.getLocationHint = f.getAudienceManagerLocationHint, f.getAudienceManagerBlob = function (e, t) {
                                                if (f.getMarketingCloudVisitorID(function () {
                                                        f.getAudienceManagerBlob(e, !0);
                                                    })) {
                                                    var r = f._getField(_);
                                                    if (!r && O.isTrackingServerPopulated() && (r = f.getAnalyticsVisitorID(function () {
                                                            f.getAudienceManagerBlob(e, !0);
                                                        })), r || !O.isTrackingServerPopulated()) {
                                                        var a = f._getAudienceManagerURLData(), n = a.url;
                                                        return f._customerIDsHashChanged && f._setFieldExpire(w, -1), f._getRemoteField(w, n, e, t, a);
                                                    }
                                                }
                                                return '';
                                            }, f._supplementalDataIDCurrent = '', f._supplementalDataIDCurrentConsumed = {}, f._supplementalDataIDLast = '', f._supplementalDataIDLastConsumed = {};
                                            var E = !(f.getSupplementalDataID = function (e, t) {
                                                f._supplementalDataIDCurrent || t || (f._supplementalDataIDCurrent = f._generateID(1));
                                                var r = f._supplementalDataIDCurrent;
                                                return f._supplementalDataIDLast && !f._supplementalDataIDLastConsumed[e] ? (r = f._supplementalDataIDLast, f._supplementalDataIDLastConsumed[e] = !0) : r && (f._supplementalDataIDCurrentConsumed[e] && (f._supplementalDataIDLast = f._supplementalDataIDCurrent, f._supplementalDataIDLastConsumed = f._supplementalDataIDCurrentConsumed, f._supplementalDataIDCurrent = r = t ? '' : f._generateID(1), f._supplementalDataIDCurrentConsumed = {}), r && (f._supplementalDataIDCurrentConsumed[e] = !0)), r;
                                            });
                                            f._liberatedOptOut = null, f.getOptOut = function (e, t) {
                                                var r = f._getAudienceManagerURLData('_setMarketingCloudFields'), a = r.url;
                                                if (u())
                                                    return f._getRemoteField('MCOPTOUT', a, e, t, r);
                                                if (f._registerCallback('liberatedOptOut', e), null !== f._liberatedOptOut)
                                                    return f._callAllCallbacks('liberatedOptOut', [f._liberatedOptOut]), E = !1, f._liberatedOptOut;
                                                if (E)
                                                    return null;
                                                E = !0;
                                                var n = 'liberatedGetOptOut';
                                                return r.corsUrl = r.corsUrl.replace(/dpm\.demdex\.net\/id\?/, 'dpm.demdex.net/optOutStatus?'), r.callback = [n], N[n] = function (e) {
                                                    if (e === Object(e)) {
                                                        var t, r, a = L.parseOptOut(e, t, S);
                                                        t = a.optOut, r = 1000 * a.d_ottl, f._liberatedOptOut = t, setTimeout(function () {
                                                            f._liberatedOptOut = null;
                                                        }, r);
                                                    }
                                                    f._callAllCallbacks('liberatedOptOut', [t]), E = !1;
                                                }, D.fireCORS(r), null;
                                            }, f.isOptedOut = function (r, a, e) {
                                                a || (a = b.OptOut.GLOBAL);
                                                var t = f.getOptOut(function (e) {
                                                    var t = e === b.OptOut.GLOBAL || 0 <= e.indexOf(a);
                                                    f._callCallback(r, [t]);
                                                }, e);
                                                return t ? t === b.OptOut.GLOBAL || 0 <= t.indexOf(a) : null;
                                            }, f._fields = null, f._fieldsExpired = null, f._hash = function (e) {
                                                var t, r = 0;
                                                if (e)
                                                    for (t = 0; t < e.length; t++)
                                                        r = (r << 5) - r + e.charCodeAt(t), r &= r;
                                                return r;
                                            }, f._generateID = $, f._generateLocalMID = function () {
                                                var e = f._generateID(0);
                                                return x.isClientSideMarketingCloudVisitorID = !0, e;
                                            }, f._callbackList = null, f._callCallback = function (e, t) {
                                                try {
                                                    'function' == typeof e ? e.apply(h, t) : e[1].apply(e[0], t);
                                                } catch (e) {
                                                }
                                            }, f._registerCallback = function (e, t) {
                                                t && (null == f._callbackList && (f._callbackList = {}), null == f._callbackList[e] && (f._callbackList[e] = []), f._callbackList[e].push(t));
                                            }, f._callAllCallbacks = function (e, t) {
                                                if (null != f._callbackList) {
                                                    var r = f._callbackList[e];
                                                    if (r)
                                                        for (; 0 < r.length;)
                                                            f._callCallback(r.shift(), t);
                                                }
                                            }, f._addQuerystringParam = function (e, t, r, a) {
                                                var n = encodeURIComponent(t) + '=' + encodeURIComponent(r), o = O.parseHash(e), i = O.hashlessUrl(e);
                                                if (-1 === i.indexOf('?'))
                                                    return i + '?' + n + o;
                                                var s = i.split('?'), c = s[0] + '?', p = s[1];
                                                return c + O.addQueryParamAtLocation(p, n, a) + o;
                                            }, f._extractParamFromUri = function (e, t) {
                                                var r = new RegExp('[\\?&#]' + t + '=([^&#]*)').exec(e);
                                                if (r && r.length)
                                                    return decodeURIComponent(r[1]);
                                            }, f._parseAdobeMcFromUrl = t(Q.ADOBE_MC), f._parseAdobeMcSdidFromUrl = t(Q.ADOBE_MC_SDID), f._attemptToPopulateSdidFromUrl = function (e) {
                                                var t = f._parseAdobeMcSdidFromUrl(e), r = 1000000000;
                                                t && t.TS && (r = O.getTimestampInSeconds() - t.TS), t && t.SDID && t.MCORGID === a && r < f.sdidParamExpiry && (f._supplementalDataIDCurrent = t.SDID, f._supplementalDataIDCurrentConsumed.SDID_URL_PARAM = !0);
                                            }, f._attemptToPopulateIdsFromUrl = function () {
                                                var e = f._parseAdobeMcFromUrl();
                                                if (e && e.TS) {
                                                    var t = O.getTimestampInSeconds() - e.TS;
                                                    if (Math.floor(t / 60) > Q.ADOBE_MC_TTL_IN_MIN || e.MCORGID !== a)
                                                        return;
                                                    n(e);
                                                }
                                            }, f._mergeServerState = function (e) {
                                                if (e)
                                                    try {
                                                        if (a = e, (e = O.isObject(a) ? a : JSON.parse(a))[f.marketingCloudOrgID]) {
                                                            var t = e[f.marketingCloudOrgID];
                                                            r = t.customerIDs, O.isObject(r) && f.setCustomerIDs(r), o(t.sdid);
                                                        }
                                                    } catch (e) {
                                                        throw new Error('`serverState` has an invalid format.');
                                                    }
                                                var r, a;
                                            }, f._timeout = null, f._loadData = function (e, t, r, a) {
                                                t = f._addQuerystringParam(t, 'd_fieldgroup', e, 1), a.url = f._addQuerystringParam(a.url, 'd_fieldgroup', e, 1), a.corsUrl = f._addQuerystringParam(a.corsUrl, 'd_fieldgroup', e, 1), x.fieldGroupObj[e] = !0, a === Object(a) && a.corsUrl && 'XMLHttpRequest' === D.corsMetadata.corsType && D.fireCORS(a, r, e);
                                            }, f._clearTimeout = function (e) {
                                                null != f._timeout && f._timeout[e] && (clearTimeout(f._timeout[e]), f._timeout[e] = 0);
                                            }, f._settingsDigest = 0, f._getSettingsDigest = function () {
                                                if (!f._settingsDigest) {
                                                    var e = f.version;
                                                    f.audienceManagerServer && (e += '|' + f.audienceManagerServer), f.audienceManagerServerSecure && (e += '|' + f.audienceManagerServerSecure), f._settingsDigest = f._hash(e);
                                                }
                                                return f._settingsDigest;
                                            }, f._readVisitorDone = !1, f._readVisitor = function () {
                                                if (!f._readVisitorDone) {
                                                    f._readVisitorDone = !0;
                                                    var e, t, r, a, n, o, i = f._getSettingsDigest(), s = !1, c = f.cookieRead(f.cookieName), p = new Date();
                                                    if (c || y || f.discardTrackingServerECID || (c = f.cookieRead(Q.FIRST_PARTY_SERVER_COOKIE)), null == f._fields && (f._fields = {}), c && 'T' !== c)
                                                        for ((c = c.split('|'))[0].match(/^[\-0-9]+$/) && (parseInt(c[0], 10) !== i && (s = !0), c.shift()), c.length % 2 == 1 && c.pop(), e = 0; e < c.length; e += 2)
                                                            r = (t = c[e].split('-'))[0], a = c[e + 1], 1 < t.length ? (n = parseInt(t[1], 10), o = 0 < t[1].indexOf('s')) : (n = 0, o = !1), s && ('MCCIDH' === r && (a = ''), 0 < n && (n = p.getTime() / 1000 - 60)), r && a && (f._setField(r, a, 1), 0 < n && (f._fields['expire' + r] = n + (o ? 's' : ''), (p.getTime() >= 1000 * n || o && !f.cookieRead(f.sessionCookieName)) && (f._fieldsExpired || (f._fieldsExpired = {}), f._fieldsExpired[r] = !0)));
                                                    !f._getField(_) && O.isTrackingServerPopulated() && (c = f.cookieRead('s_vi')) && 1 < (c = c.split('|')).length && 0 <= c[0].indexOf('v1') && (0 <= (e = (a = c[1]).indexOf('[')) && (a = a.substring(0, e)), a && a.match(Q.VALID_VISITOR_ID_REGEX) && f._setField(_, a));
                                                }
                                            }, f._appendVersionTo = function (e) {
                                                var t = 'vVersion|' + f.version, r = e ? f._getCookieVersion(e) : null;
                                                return r ? K.areVersionsDifferent(r, f.version) && (e = e.replace(Q.VERSION_REGEX, t)) : e += (e ? '|' : '') + t, e;
                                            }, f._writeVisitor = function () {
                                                var e, t, r = f._getSettingsDigest();
                                                for (e in f._fields)
                                                    j(e) && f._fields[e] && 'expire' !== e.substring(0, 6) && (t = f._fields[e], r += (r ? '|' : '') + e + (f._fields['expire' + e] ? '-' + f._fields['expire' + e] : '') + '|' + t);
                                                r = f._appendVersionTo(r), f.cookieWrite(f.cookieName, r, 1);
                                            }, f._getField = function (e, t) {
                                                return null == f._fields || !t && f._fieldsExpired && f._fieldsExpired[e] ? null : f._fields[e];
                                            }, f._setField = function (e, t, r) {
                                                null == f._fields && (f._fields = {}), f._fields[e] = t, r || f._writeVisitor();
                                            }, f._getFieldList = function (e, t) {
                                                var r = f._getField(e, t);
                                                return r ? r.split('*') : null;
                                            }, f._setFieldList = function (e, t, r) {
                                                f._setField(e, t ? t.join('*') : '', r);
                                            }, f._getFieldMap = function (e, t) {
                                                var r = f._getFieldList(e, t);
                                                if (r) {
                                                    var a, n = {};
                                                    for (a = 0; a < r.length; a += 2)
                                                        n[r[a]] = r[a + 1];
                                                    return n;
                                                }
                                                return null;
                                            }, f._setFieldMap = function (e, t, r) {
                                                var a, n = null;
                                                if (t)
                                                    for (a in (n = [], t))
                                                        j(a) && (n.push(a), n.push(t[a]));
                                                f._setFieldList(e, n, r);
                                            }, f._setFieldExpire = function (e, t, r) {
                                                var a = new Date();
                                                a.setTime(a.getTime() + 1000 * t), null == f._fields && (f._fields = {}), f._fields['expire' + e] = Math.floor(a.getTime() / 1000) + (r ? 's' : ''), t < 0 ? (f._fieldsExpired || (f._fieldsExpired = {}), f._fieldsExpired[e] = !0) : f._fieldsExpired && (f._fieldsExpired[e] = !1), r && (f.cookieRead(f.sessionCookieName) || f.cookieWrite(f.sessionCookieName, '1'));
                                            }, f._findVisitorID = function (e) {
                                                return e && ('object' === P(e) && (e = e.d_mid ? e.d_mid : e.visitorID ? e.visitorID : e.id ? e.id : e.uuid ? e.uuid : '' + e), e && 'NOTARGET' === (e = e.toUpperCase()) && (e = S), e && (e === S || e.match(Q.VALID_VISITOR_ID_REGEX)) || (e = '')), e;
                                            }, f._setFields = function (e, t) {
                                                if (f._clearTimeout(e), null != f._loading && (f._loading[e] = !1), x.fieldGroupObj[e] && x.setState(e, !1), 'MC' === e) {
                                                    !0 !== x.isClientSideMarketingCloudVisitorID && (x.isClientSideMarketingCloudVisitorID = !1);
                                                    var r = f._getField(C);
                                                    if (!r || f.overwriteCrossDomainMCIDAndAID) {
                                                        if (!(r = 'object' === P(t) && t.mid ? t.mid : f._findVisitorID(t))) {
                                                            if (f._use1stPartyMarketingCloudServer && !f.tried1stPartyMarketingCloudServer)
                                                                return f.tried1stPartyMarketingCloudServer = !0, void f.getAnalyticsVisitorID(null, !1, !0);
                                                            r = f._generateLocalMID();
                                                        }
                                                        f._setField(C, r);
                                                    }
                                                    r && r !== S || (r = ''), 'object' === P(t) && ((t.d_region || t.dcs_region || t.d_blob || t.blob) && f._setFields(V, t), f._use1stPartyMarketingCloudServer && t.mid && f._setFields(T, { id: t.id })), f._callAllCallbacks(C, [r]);
                                                }
                                                if (e === V && 'object' === P(t)) {
                                                    var a = 604800;
                                                    null != t.id_sync_ttl && t.id_sync_ttl && (a = parseInt(t.id_sync_ttl, 10));
                                                    var n = A.getRegionAndCheckIfChanged(t, a);
                                                    f._callAllCallbacks('MCAAMLH', [n]);
                                                    var o = f._getField(w);
                                                    (t.d_blob || t.blob) && ((o = t.d_blob) || (o = t.blob), f._setFieldExpire(w, a), f._setField(w, o)), o || (o = ''), f._callAllCallbacks(w, [o]), !t.error_msg && f._newCustomerIDsHash && f._setField('MCCIDH', f._newCustomerIDsHash);
                                                }
                                                if (e === T) {
                                                    var i = f._getField(_);
                                                    i && !f.overwriteCrossDomainMCIDAndAID || ((i = f._findVisitorID(t)) ? i !== S && f._setFieldExpire(w, -1) : i = S, f._setField(_, i)), i && i !== S || (i = ''), f._callAllCallbacks(_, [i]);
                                                }
                                                if (f.idSyncDisableSyncs || f.disableIdSyncs)
                                                    A.idCallNotProcesssed = !0;
                                                else {
                                                    A.idCallNotProcesssed = !1;
                                                    var s = {};
                                                    s.ibs = t.ibs, s.subdomain = t.subdomain, A.processIDCallData(s);
                                                }
                                                if (t === Object(t)) {
                                                    var c, p;
                                                    u() && f.isAllowed() && (c = f._getField('MCOPTOUT'));
                                                    var l = L.parseOptOut(t, c, S);
                                                    c = l.optOut, p = l.d_ottl, f._setFieldExpire('MCOPTOUT', p, !0), f._setField('MCOPTOUT', c), f._callAllCallbacks('MCOPTOUT', [c]);
                                                }
                                            }, f._loading = null, f._getRemoteField = function (r, e, t, a, n) {
                                                var o, i = '', s = O.isFirstPartyAnalyticsVisitorIDCall(r), c = {
                                                        MCAAMLH: !0,
                                                        MCAAMB: !0
                                                    };
                                                if (u() && f.isAllowed())
                                                    if (f._readVisitor(), !(!(i = f._getField(r, !0 === c[r])) || f._fieldsExpired && f._fieldsExpired[r]) || f.disableThirdPartyCalls && !s)
                                                        i || (r === C ? (f._registerCallback(r, t), i = f._generateLocalMID(), f.setMarketingCloudVisitorID(i)) : r === _ ? (f._registerCallback(r, t), i = '', f.setAnalyticsVisitorID(i)) : a = !(i = ''));
                                                    else if (r === C || 'MCOPTOUT' === r ? o = 'MC' : 'MCAAMLH' === r || r === w ? o = V : r === _ && (o = T), o)
                                                        return !e || null != f._loading && f._loading[o] || (null == f._loading && (f._loading = {}), f._loading[o] = !0, f._loadData(o, e, function (e) {
                                                            if (!f._getField(r)) {
                                                                e && x.setState(o, !0);
                                                                var t = '';
                                                                r === C ? t = f._generateLocalMID() : o === V && (t = { error_msg: 'timeout' }), f._setFields(o, t);
                                                            }
                                                        }, n)), f._registerCallback(r, t), i || (e || f._setFields(o, { id: S }), '');
                                                return r !== C && r !== _ || i !== S || (a = !(i = '')), t && a && f._callCallback(t, [i]), i;
                                            }, f._setMarketingCloudFields = function (e) {
                                                f._readVisitor(), f._setFields('MC', e);
                                            }, f._mapCustomerIDs = function (e) {
                                                f.getAudienceManagerBlob(e, !0);
                                            }, f._setAnalyticsFields = function (e) {
                                                f._readVisitor(), f._setFields(T, e);
                                            }, f._setAudienceManagerFields = function (e) {
                                                f._readVisitor(), f._setFields(V, e);
                                            }, f._getAudienceManagerURLData = function (e) {
                                                var t = f.audienceManagerServer, r = '', a = f._getField(C), n = f._getField(w, !0), o = f._getField(_), i = o && o !== S ? '&d_cid_ic=AVID%01' + encodeURIComponent(o) : '';
                                                if (f.loadSSL && f.audienceManagerServerSecure && (t = f.audienceManagerServerSecure), t) {
                                                    var s, c, p = f.getCustomerIDs();
                                                    if (p)
                                                        for (s in p)
                                                            j(s) && (c = p[s], i += '&d_cid_ic=' + encodeURIComponent(s) + '%01' + encodeURIComponent(c.id ? c.id : '') + (c.authState ? '%01' + c.authState : ''));
                                                    e || (e = '_setAudienceManagerFields');
                                                    var l = 'http' + (f.loadSSL ? 's' : '') + '://' + t + '/id', u = 'd_visid_ver=' + f.version + (v && -1 !== l.indexOf('demdex.net') ? '&gdpr=1&gdpr_force=1&gdpr_consent=' + v : '') + '&d_rtbd=json&d_ver=2' + (!a && f._use1stPartyMarketingCloudServer ? '&d_verify=1' : '') + '&d_orgid=' + encodeURIComponent(f.marketingCloudOrgID) + '&d_nsid=' + (f.idSyncContainerID || 0) + (a ? '&d_mid=' + encodeURIComponent(a) : '') + (f.idSyncDisable3rdPartySyncing || f.disableThirdPartyCookies ? '&d_coppa=true' : '') + (!0 === k ? '&d_coop_safe=1' : !1 === k ? '&d_coop_unsafe=1' : '') + (n ? '&d_blob=' + encodeURIComponent(n) : '') + i, d = [
                                                            's_c_il',
                                                            f._in,
                                                            e
                                                        ];
                                                    return {
                                                        url: r = l + '?' + u + '&d_cb=s_c_il%5B' + f._in + '%5D.' + e,
                                                        corsUrl: l + '?' + u,
                                                        callback: d
                                                    };
                                                }
                                                return { url: r };
                                            }, f.appendVisitorIDsTo = function (e) {
                                                try {
                                                    var t = [
                                                        [
                                                            C,
                                                            f._getField(C)
                                                        ],
                                                        [
                                                            _,
                                                            f._getField(_)
                                                        ],
                                                        [
                                                            'MCORGID',
                                                            f.marketingCloudOrgID
                                                        ]
                                                    ];
                                                    return f._addQuerystringParam(e, Q.ADOBE_MC, i(t));
                                                } catch (t) {
                                                    return e;
                                                }
                                            }, f.appendSupplementalDataIDTo = function (e, t) {
                                                if (!(t = t || f.getSupplementalDataID(O.generateRandomString(), !0)))
                                                    return e;
                                                try {
                                                    var r = i([
                                                        [
                                                            'SDID',
                                                            t
                                                        ],
                                                        [
                                                            'MCORGID',
                                                            f.marketingCloudOrgID
                                                        ]
                                                    ]);
                                                    return f._addQuerystringParam(e, Q.ADOBE_MC_SDID, r);
                                                } catch (t) {
                                                    return e;
                                                }
                                            };
                                            var O = {
                                                parseHash: function (e) {
                                                    var t = e.indexOf('#');
                                                    return 0 < t ? e.substr(t) : '';
                                                },
                                                hashlessUrl: function (e) {
                                                    var t = e.indexOf('#');
                                                    return 0 < t ? e.substr(0, t) : e;
                                                },
                                                addQueryParamAtLocation: function (e, t, r) {
                                                    var a = e.split('&');
                                                    return r = null != r ? r : a.length, a.splice(r, 0, t), a.join('&');
                                                },
                                                isFirstPartyAnalyticsVisitorIDCall: function (e, t, r) {
                                                    return e === _ && (t || (t = f.trackingServer), r || (r = f.trackingServerSecure), !('string' != typeof (a = f.loadSSL ? r : t) || !a.length) && a.indexOf('2o7.net') < 0 && a.indexOf('omtrdc.net') < 0);
                                                    var a;
                                                },
                                                isObject: function (e) {
                                                    return Boolean(e && e === Object(e));
                                                },
                                                removeCookie: function (e) {
                                                    W.remove(e, { domain: f.cookieDomain });
                                                },
                                                isTrackingServerPopulated: function () {
                                                    return !!f.trackingServer || !!f.trackingServerSecure;
                                                },
                                                getTimestampInSeconds: function () {
                                                    return Math.round(new Date().getTime() / 1000);
                                                },
                                                parsePipeDelimetedKeyValues: function (e) {
                                                    return e.split('|').reduce(function (e, t) {
                                                        var r = t.split('=');
                                                        return e[r[0]] = decodeURIComponent(r[1]), e;
                                                    }, {});
                                                },
                                                generateRandomString: function (e) {
                                                    e = e || 5;
                                                    for (var t = '', r = 'abcdefghijklmnopqrstuvwxyz0123456789'; e--;)
                                                        t += r[Math.floor(Math.random() * r.length)];
                                                    return t;
                                                },
                                                normalizeBoolean: function (e) {
                                                    return 'true' === e || 'false' !== e && e;
                                                },
                                                parseBoolean: function (e) {
                                                    return 'true' === e || 'false' !== e && null;
                                                },
                                                replaceMethodsWithFunction: function (e, t) {
                                                    for (var r in e)
                                                        e.hasOwnProperty(r) && 'function' == typeof e[r] && (e[r] = t);
                                                    return e;
                                                }
                                            };
                                            f._helpers = O;
                                            var A = X(f, b);
                                            f._destinationPublishing = A, f.timeoutMetricsLog = [];
                                            var x = {
                                                isClientSideMarketingCloudVisitorID: null,
                                                MCIDCallTimedOut: null,
                                                AnalyticsIDCallTimedOut: null,
                                                AAMIDCallTimedOut: null,
                                                fieldGroupObj: {},
                                                setState: function (e, t) {
                                                    switch (e) {
                                                    case 'MC':
                                                        !1 === t ? !0 !== this.MCIDCallTimedOut && (this.MCIDCallTimedOut = !1) : this.MCIDCallTimedOut = t;
                                                        break;
                                                    case T:
                                                        !1 === t ? !0 !== this.AnalyticsIDCallTimedOut && (this.AnalyticsIDCallTimedOut = !1) : this.AnalyticsIDCallTimedOut = t;
                                                        break;
                                                    case V:
                                                        !1 === t ? !0 !== this.AAMIDCallTimedOut && (this.AAMIDCallTimedOut = !1) : this.AAMIDCallTimedOut = t;
                                                    }
                                                }
                                            };
                                            f.isClientSideMarketingCloudVisitorID = function () {
                                                return x.isClientSideMarketingCloudVisitorID;
                                            }, f.MCIDCallTimedOut = function () {
                                                return x.MCIDCallTimedOut;
                                            }, f.AnalyticsIDCallTimedOut = function () {
                                                return x.AnalyticsIDCallTimedOut;
                                            }, f.AAMIDCallTimedOut = function () {
                                                return x.AAMIDCallTimedOut;
                                            }, f.idSyncGetOnPageSyncInfo = function () {
                                                return f._readVisitor(), f._getField('MCSYNCSOP');
                                            }, f.idSyncByURL = function (e) {
                                                if (!f.isOptedOut()) {
                                                    var t = s(e || {});
                                                    if (t.error)
                                                        return t.error;
                                                    var r, a, n = e.url, o = encodeURIComponent, i = A;
                                                    return n = n.replace(/^https:/, '').replace(/^http:/, ''), r = L.encodeAndBuildRequest([
                                                        '',
                                                        e.dpid,
                                                        e.dpuuid || ''
                                                    ], ','), a = [
                                                        'ibs',
                                                        o(e.dpid),
                                                        'img',
                                                        o(n),
                                                        t.ttl,
                                                        '',
                                                        r
                                                    ], i.addMessage(a.join('|')), i.requestToProcess(), 'Successfully queued';
                                                }
                                            }, f.idSyncByDataSource = function (e) {
                                                if (!f.isOptedOut())
                                                    return e === Object(e) && 'string' == typeof e.dpuuid && e.dpuuid.length ? (e.url = '//dpm.demdex.net/ibs:dpid=' + e.dpid + '&dpuuid=' + e.dpuuid, f.idSyncByURL(e)) : 'Error: config or config.dpuuid is empty';
                                            }, xe(f, A), f._getCookieVersion = function (e) {
                                                e = e || f.cookieRead(f.cookieName);
                                                var t = Q.VERSION_REGEX.exec(e);
                                                return t && 1 < t.length ? t[1] : null;
                                            }, f._resetAmcvCookie = function (e) {
                                                var t = f._getCookieVersion();
                                                t && !K.isLessThan(t, e) || O.removeCookie(f.cookieName);
                                            }, f.setAsCoopSafe = function () {
                                                k = !0;
                                            }, f.setAsCoopUnsafe = function () {
                                                k = !1;
                                            }, function () {
                                                if (f.configs = Object.create(null), O.isObject(r))
                                                    for (var e in r)
                                                        j(e) && (f[e] = r[e], f.configs[e] = r[e]);
                                            }(), [
                                                ['getMarketingCloudVisitorID'],
                                                [
                                                    'setCustomerIDs',
                                                    void 0
                                                ],
                                                ['getAnalyticsVisitorID'],
                                                ['getAudienceManagerLocationHint'],
                                                ['getLocationHint'],
                                                ['getAudienceManagerBlob']
                                            ].forEach(function (e) {
                                                var t = e[0], r = 2 === e.length ? e[1] : '', a = f[t];
                                                f[t] = function (e) {
                                                    return u() && f.isAllowed() ? a.apply(f, arguments) : ('function' == typeof e && f._callCallback(e, [r]), r);
                                                };
                                            }), f.init = function () {
                                                if (c())
                                                    return m.optIn.fetchPermissions(l, !0);
                                                !function () {
                                                    if (O.isObject(r)) {
                                                        f.idSyncContainerID = f.idSyncContainerID || 0, k = 'boolean' == typeof f.isCoopSafe ? f.isCoopSafe : O.parseBoolean(f.isCoopSafe), f.resetBeforeVersion && f._resetAmcvCookie(f.resetBeforeVersion), f._attemptToPopulateIdsFromUrl(), f._attemptToPopulateSdidFromUrl(), f._readVisitor();
                                                        var e = f._getField(I), t = Math.ceil(new Date().getTime() / Q.MILLIS_PER_DAY);
                                                        f.idSyncDisableSyncs || f.disableIdSyncs || !A.canMakeSyncIDCall(e, t) || (f._setFieldExpire(w, -1), f._setField(I, t)), f.getMarketingCloudVisitorID(), f.getAudienceManagerLocationHint(), f.getAudienceManagerBlob(), f._mergeServerState(f.serverState);
                                                    } else
                                                        f._attemptToPopulateIdsFromUrl(), f._attemptToPopulateSdidFromUrl();
                                                }(), function () {
                                                    if (!f.idSyncDisableSyncs && !f.disableIdSyncs) {
                                                        A.checkDPIframeSrc();
                                                        var e = function () {
                                                            var e = A;
                                                            e.readyToAttachIframe() && e.attachIframe();
                                                        };
                                                        h.addEventListener('load', function () {
                                                            b.windowLoaded = !0, e();
                                                        });
                                                        try {
                                                            z.receiveMessage(function (e) {
                                                                A.receiveMessage(e.data);
                                                            }, A.iframeHost);
                                                        } catch (e) {
                                                        }
                                                    }
                                                }(), f.whitelistIframeDomains && Q.POST_MESSAGE_ENABLED && (f.whitelistIframeDomains = f.whitelistIframeDomains instanceof Array ? f.whitelistIframeDomains : [f.whitelistIframeDomains], f.whitelistIframeDomains.forEach(function (e) {
                                                    var t = new R(a, e), r = q(f, t);
                                                    z.receiveMessage(r, e);
                                                }));
                                            };
                                        };
                                        Re.config = te;
                                        var Ue = N.Visitor = Re, Fe = function (n) {
                                                if (L.isObject(n))
                                                    return Object.keys(n).filter(function (e) {
                                                        return '' !== n[e];
                                                    }).reduce(function (e, t) {
                                                        var r = 'doesOptInApply' !== t ? n[t] : te.normalizeConfig(n[t]), a = L.normalizeBoolean(r);
                                                        return e[t] = a, e;
                                                    }, Object.create(null));
                                            }, He = Ae.OptIn, Be = Ae.IabPlugin;
                                        return Ue.getInstance = function (a, e) {
                                            if (!a)
                                                throw new Error('Visitor requires Adobe Marketing Cloud Org ID.');
                                            a.indexOf('@') < 0 && (a += '@AdobeOrg');
                                            var t = function () {
                                                var e = N.s_c_il;
                                                if (e)
                                                    for (var t = 0; t < e.length; t++) {
                                                        var r = e[t];
                                                        if (r && 'Visitor' === r._c && r.marketingCloudOrgID === a)
                                                            return r;
                                                    }
                                            }();
                                            if (t)
                                                return t;
                                            var n, r = Fe(e);
                                            n = r || {}, N.adobe.optIn = N.adobe.optIn || function () {
                                                var e = L.pluck(n, [
                                                        'doesOptInApply',
                                                        'previousPermissions',
                                                        'preOptInApprovals',
                                                        'isOptInStorageEnabled',
                                                        'optInStorageExpiry',
                                                        'isIabContext'
                                                    ]), t = n.optInCookieDomain || n.cookieDomain;
                                                t = (t = t || Y()) === window.location.hostname ? '' : t, e.optInCookieDomain = t;
                                                var r = new He(e, { cookies: W });
                                                if (e.isIabContext) {
                                                    var a = new Be(window.__cmp);
                                                    r.registerPlugin(a);
                                                }
                                                return r;
                                            }();
                                            var o = a.split('').reverse().join(''), i = new Ue(a, null, o);
                                            L.isObject(r) && r.cookieDomain && (i.cookieDomain = r.cookieDomain), N.s_c_il.splice(--N.s_c_in, 1);
                                            var s = L.getIeVersion();
                                            if ('number' == typeof s && s < 10)
                                                return i._helpers.replaceMethodsWithFunction(i, function () {
                                                });
                                            var c, p = function () {
                                                    try {
                                                        return N.self !== N.parent;
                                                    } catch (a) {
                                                        return !0;
                                                    }
                                                }() && ((c = i).cookieWrite('TEST_AMCV_COOKIE', 'T', 1), 'T' !== c.cookieRead('TEST_AMCV_COOKIE') || (c._helpers.removeCookie('TEST_AMCV_COOKIE'), 0)) && N.parent ? new A(a, r, i, N.parent) : new Ue(a, r, o);
                                            return i = null, p.init(), p;
                                        }, function () {
                                            function e() {
                                                Ue.windowLoaded = !0;
                                            }
                                            N.addEventListener ? N.addEventListener('load', e) : N.attachEvent && N.attachEvent('onload', e), Ue.codeLoadEnd = new Date().getTime();
                                        }(), Ue;
                                    }(), n = _satellite.getVar('topLevelDomain');
                                if ('bmw.co.jp' == n)
                                    var o = Visitor.getInstance('B52D1CFE5330949C0A490D45@AdobeOrg', {
                                        trackingServer: 'bmwag.d3.sc.omtrdc.net',
                                        trackingServerSecure: 'bmwag.d3.sc.omtrdc.net',
                                        cookieDomain: n,
                                        idSyncContainerID: 23,
                                        disableIdSyncs: !0
                                    });
                                else
                                    o = void 0 !== n && 'bmw.co.jp' != n ? Visitor.getInstance('B52D1CFE5330949C0A490D45@AdobeOrg', {
                                        trackingServer: 'bmwag.d3.sc.omtrdc.net',
                                        trackingServerSecure: 'bmwag.d3.sc.omtrdc.net',
                                        cookieDomain: n,
                                        disableIdSyncs: !0
                                    }) : Visitor.getInstance('B52D1CFE5330949C0A490D45@AdobeOrg', {
                                        trackingServer: 'bmwag.d3.sc.omtrdc.net',
                                        trackingServerSecure: 'bmwag.d3.sc.omtrdc.net',
                                        disableIdSyncs: !0
                                    });
                                e.visitor = o;
                                var i = function () {
                                    var e, t, r = this, a = /eVar|prop|pageName|channel|hier/, n = [
                                            'eVar0',
                                            'eVar4',
                                            'eVar5',
                                            'eVar7',
                                            'eVar8',
                                            'eVar12',
                                            'eVar36',
                                            'eVar6',
                                            'prop30',
                                            'referrer',
                                            'server',
                                            'eVar9',
                                            'eVar10',
                                            'eVar11',
                                            'eVar13',
                                            'eVar14',
                                            'eVar17',
                                            'eVar37',
                                            'eVar38',
                                            'eVar48',
                                            'eVar59',
                                            'eVar61',
                                            'eVar62',
                                            'eVar63',
                                            'eVar64',
                                            'eVar71',
                                            'eVar120',
                                            'eVar122',
                                            'eVar125',
                                            'eVar132',
                                            'eVar142',
                                            'eVar171',
                                            'eVar172',
                                            'prop17'
                                        ];
                                    for (e in r)
                                        t = r[e], Object.prototype.hasOwnProperty.call(r, e) && 'string' == typeof t && a.test(e) && -1 === n.indexOf(e) && (r[e] = t.toLowerCase());
                                    return r;
                                };
                                e.usePlugins = !0;
                                var s = _satellite.getVar('removePII');
                                e.doPlugins = t;
                            }
                        },
                        libraryCode: {
                            type: 'managed',
                            accounts: {
                                staging: ['%rsid%'],
                                production: ['%rsid%'],
                                development: ['%rsid%']
                            },
                            useActivityMap: !0,
                            scopeTrackerGlobally: !0
                        },
                        moduleProperties: { audienceManager: { config: { partner: 'bmwag' } } },
                        trackerProperties: {
                            currencyCode: 'USD',
                            trackInlineStats: !0,
                            trackDownloadLinks: !0,
                            trackExternalLinks: !0,
                            linkDownloadFileTypes: [
                                'doc',
                                'docx',
                                'eps',
                                'jpg',
                                'png',
                                'svg',
                                'xls',
                                'ppt',
                                'pptx',
                                'pdf',
                                'xlsx',
                                'tab',
                                'csv',
                                'zip',
                                'txt',
                                'vsd',
                                'vxd',
                                'xml',
                                'js',
                                'css',
                                'rar',
                                'exe',
                                'wma',
                                'mov',
                                'avi',
                                'wmv',
                                'mp3',
                                'wav',
                                'm4v'
                            ]
                        }
                    },
                    hostedLibFilesBaseUrl: 'https://assets.adobedtm.com/extensions/EPbde2f7ca14e540399dcc1f8208860b7b/'
                }
            },
            company: { orgId: 'B52D1CFE5330949C0A490D45@AdobeOrg' },
            property: {
                name: 'TRACY - smoss',
                settings: {
                    domains: ['tracy.com'],
                    undefinedVarsReturnEmpty: !0,
                    ruleComponentSequencingEnabled: !1
                }
            },
            rules: [
                {
                    id: 'RL5cb30e68faee4b238308bf1e525eb0b7',
                    name: 'PLR-ActivityMap',
                    events: [{
                            modulePath: 'core/src/lib/events/windowLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: 'https://assets.adobedtm.com/717b2dc27cb7/ec1a0b4b16ae/3d39e87f061b/RC7ff01d0cca4749c9a7f6b65696847960-source.min.js',
                                language: 'javascript',
                                isExternal: !0
                            }
                        }]
                },
                {
                    id: 'RL7e6791585bdd43e7ad6aa5787abcbacf',
                    name: 'PLR - Tag Management Wrapper',
                    events: [{
                            modulePath: 'core/src/lib/events/libraryLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: '\nwindow.addEventListener(\'trigger_pageload\', function (e) {\n    try {\n        var dlParam;\n        dlParam = e.detail;\n        if(dlParam){\n          _satellite.track(\'pageload\', {\n            \'datalayer\': dlParam\n        });\n           }\n        \n    } catch (err) {\n        _satellite.logger.error(\'Tag Management Wrapper inside event listener \', err);\n    }\n});\n\nwindow.addEventListener(\'trigger_event\', function (e) {\n    try {\n        var dlParam;\n        dlParam = e.detail;\n        if(dlParam){\n          _satellite.track(\'event\', {\n            \'datalayer\': dlParam\n        });\n        }\n\n    } catch (err) {\n        _satellite.logger.error(\'Tag Management Wrapper inside event listener \', err);\n    }\n});',
                                language: 'javascript'
                            }
                        }]
                },
                {
                    id: 'RLa77f375961354417ae12b99224a3614f',
                    name: '_dDL Helper - All Pages',
                    events: [{
                            modulePath: 'core/src/lib/events/pageBottom.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: 'try {\n    (function () {\n    /*\n    jQuery v1.9.1 (c) 2005, 2012\n    jQuery Foundation, Inc. jquery.org/license.\n    */\n\n\n    var g=/\\[object (Boolean|Number|String|Function|Array|Date|RegExp)\\]/;function h(a){return null==a?String(a):(a=g.exec(Object.prototype.toString.call(Object(a))))?a[1].toLowerCase():"object"}function k(a,b){return Object.prototype.hasOwnProperty.call(Object(a),b)}function m(a){if(!a||"object"!=h(a)||a.nodeType||a==a.window)return!1;try{if(a.constructor&&!k(a,"constructor")&&!k(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var c in a);return void 0===c||\n    k(a,c)};\n    /*\n    Copyright 2012 Google Inc. All rights reserved. */\n    function n(a,b,c){this.b=a;this.f=b||function(){};this.d=!1;this.a={};this.c=[];this.e=p(this);r(this,a,!c);var d=a.push,e=this;a.push=function(){var b=[].slice.call(arguments,0),c=d.apply(a,b);r(e,b);return c}}window.DataLayerHelper=n;n.prototype.get=function(a){var b=this.a;a=a.split(".");for(var c=0;c<a.length;c++){if(void 0===b[a[c]])return;b=b[a[c]]}return b};n.prototype.flatten=function(){this.b.splice(0,this.b.length);this.b[0]={};s(this.a,this.b[0])};\n    function r(a,b,c){for(a.c.push.apply(a.c,b);!1===a.d&&0<a.c.length;){b=a.c.shift();if("array"==h(b))a:{var d=b,e=a.a;if("string"==h(d[0])){for(var f=d[0].split("."),u=f.pop(),d=d.slice(1),l=0;l<f.length;l++){if(void 0===e[f[l]])break a;e=e[f[l]]}try{e[u].apply(e,d)}catch(v){}}}else if("function"==typeof b)try{b.call(a.e)}catch(w){}else if(m(b))for(var q in b)s(t(q,b[q]),a.a);else continue;c||(a.d=!0,a.f(a.a,b),a.d=!1)}}\n    function p(a){return{set:function(b,c){s(t(b,c),a.a)},get:function(b){return a.get(b)}}}function t(a,b){for(var c={},d=c,e=a.split("."),f=0;f<e.length-1;f++)d=d[e[f]]={};d[e[e.length-1]]=b;return c}function s(a,b){for(var c in a)if(k(a,c)){var d=a[c];"array"==h(d)?("array"==h(b[c])||(b[c]=[]),s(d,b[c])):m(d)?(m(b[c])||(b[c]={}),s(d,b[c])):b[c]=d}};})();\n\n    if (!Object.assign) {\n        Object.defineProperty(Object, \'assign\', {\n            enumerable: false,\n            configurable: true,\n            writable: true,\n            value: function (target) {\n                \'use strict\';\n                if (target === undefined || target === null) {\n                    throw new TypeError(\'Cannot convert first argument to object\');\n                }\n\n                var to = Object(target);\n                for (var i = 1; i < arguments.length; i++) {\n                    var nextSource = arguments[i];\n                    if (nextSource === undefined || nextSource === null) {\n                        continue;\n                    }\n                    nextSource = Object(nextSource);\n\n                    var keysArray = Object.keys(Object(nextSource));\n                    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n                        var nextKey = keysArray[nextIndex];\n                        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n                        if (desc !== undefined && desc.enumerable) {\n                            to[nextKey] = nextSource[nextKey];\n                        }\n                    }\n                }\n                return to;\n            }\n        });\n    }\n\n    // convert _dDL data to digitalData object\n    window._dDLHelper = (function () {\n        function listener(model, message) {\n            if (message.eventTrigger || (message.event && typeof message.event === \'string\')) {\n                var evName = message.eventTrigger ? message.eventTrigger : message.event;\n                window.digitalData = window.digitalData || {};\n                window.digitalData = model;\n                try {\n                    _satellite.track(evName, Object.assign({}, model));\n                    if (evName === \'pageview\') {\n                        window.dispatchEvent(new CustomEvent(\'trigger_pageload\'));\n                    } else {\n                        window.dispatchEvent(new CustomEvent(\'trigger_event\'));\n                    }\n                } catch (e) {\n                    _satellite.track(evName);\n                    if (evName === \'pageview\') {\n                        window.dispatchEvent(new CustomEvent(\'trigger_pageload\'));\n                    } else {\n                        window.dispatchEvent(new CustomEvent(\'trigger_event\'));\n                    }\n                }\n            }\n        }\n        window._dDL = window._dDL || [];\n        return new DataLayerHelper(_dDL, listener, true);\n    })()\n} catch (e) {\n    //default trigger cluster_dc-pageload rule to see basic mapping\n    _satellite.logger.error("_dDl-helper",e);\n}',
                                language: 'javascript'
                            }
                        }]
                },
                {
                    id: 'RLf55abfe7c73b42ec90cf769373058e33',
                    name: 'DCR - Bounce Timer',
                    events: [{
                            modulePath: 'core/src/lib/events/directCall.js',
                            settings: { identifier: 'bounce_timer' },
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/sendBeacon.js',
                            settings: {
                                type: 'link',
                                linkName: 'bounce timer',
                                linkType: 'o'
                            }
                        },
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/setVariables.js',
                            settings: {
                                customSetup: {
                                    source: function (e, t) {
                                        try {
                                            'undefined' == typeof t.linkTrackEvents && (t.linkTrackEvents = ''), t.prop74 = _satellite.property.name + '|dcr - bounce timer', t.prop74 || (t.prop74 = 'TRACY - smoss|dcr - bounce timer'), t.linkTrackVars += ',prop74';
                                            var r = t.linkTrackEvents + ',event976,';
                                            t.linkTrackEvents = t.events = r;
                                        } catch (n) {
                                            var a = {
                                                from: 'AA',
                                                type: 'Rule',
                                                name: 'DCR - Bounce Timer'
                                            };
                                            _satellite.logger.error(n, a);
                                        }
                                    }
                                },
                                trackerProperties: {}
                            }
                        }
                    ]
                },
                {
                    id: 'RLf254f1bad25c4f658ca29064137d7af3',
                    name: 'pageload',
                    events: [{
                            modulePath: 'core/src/lib/events/directCall.js',
                            settings: { identifier: 'pageload' },
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/setVariables.js',
                            settings: {
                                customSetup: {
                                    source: function (e, t) {
                                        const $___old_0c6f80b6acfbb09a = {}.constructor.getOwnPropertyDescriptor(window, 'sessionStorage');
                                        try {
                                            if ($___old_0c6f80b6acfbb09a)
                                                ({}.constructor.defineProperty(window, 'sessionStorage', $___mock_c74fbeb467519a61.sessionStorage));
                                            return function () {
                                                try {
                                                    t.clearVars(), t.account = _satellite.getVar('rsid') || 'bmwgroup.group.global.test', t.trackingServer = 'bmwag.d3.sc.omtrdc.net';
                                                    var r = '';
                                                    digitalData && 'undefined' != typeof digitalData && (r = digitalData), t.pageName = r && r.page ? r.page.pageInfo.pageName : document.title, t.linkTrackVars = 'pageName', t.server = location.host, t.linkTrackVars += ',server';
                                                    var a = r.page, n = ((a || '').pageInfo || '').destinationURL || window.location.href, o = r.product && r.product[r.product.length - 1], i = r.component && r.component[r.component.length - 1], s = r && r.user && r.user[r.user.length - 1], c = s && s.profile && s.profile[s.profile.length - 1], p = (e = r.event && r.event[r.event.length - 1], r.dealer && r.dealer[r.dealer.length - 1]), l = r.cart, u = r.transaction && r.transaction[r.transaction.length - 1], d = r.version;
                                                    if ('search' == (((e || '').eventInfo || '').eventName || '')) {
                                                        var f = ((e || '').attributes || '').search || {};
                                                        if (t.products = '', 0 < f.length) {
                                                            for (var m in f)
                                                                t.products += 'search;search;;;;eVar30=' + (f[m].unit || '') + '|eVar31=' + (f[m].state || '') + '|eVar32=' + (f[m].label || '') + '|eVar33=' + (f[m].term || '') + ',';
                                                            t.products = t.products.substring(0, t.products.length - 1);
                                                        }
                                                        t.linkTrackVars += ',products';
                                                    }
                                                    if (o && _satellite.getVar('setProductString')(t), t.referrer = ((a || '').pageInfo || '').referringURL || document.referrer, window.location.href.split('?')[1] && (t.campaign = t.Util.getQueryParam('tl'), '' != t.campaign && '' != t.Util.getQueryParam('tl') && (t.eVar61 = t.eVar62 = t.campaign, t.linkTrackVars += ',eVar61', t.linkTrackVars += ',eVar62')), -1 < (t.eVar4 = n).indexOf('://configure.') && (n = n.split(',')[0]), n && (t.linkTrackVars += ',eVar4'), t.eVar6 = ((a || '').pageInfo || '').referringURL || document.referrer, t.eVar5 = n.substring(255, n.length), n.substring(255, n.length) && (t.linkTrackVars += ',eVar5'), t.eVar7 = ((a || '').pageInfo || '').language || '', -1 < t.eVar7.indexOf('-') && (t.eVar7 = t.eVar7.split('-')[0]), t.eVar8 = ((a || '').pageInfo || '').geoRegion || '', '' == t.eVar8 || 'na' == t.eVar8) {
                                                        var v = window.location.host.split('.'), g = v[v.length - 1].toUpperCase();
                                                        t.eVar8 = g;
                                                    }
                                                    if (t.eVar10 = ((o || '').attributes || '').mmdr || '', t.eVar11 = window.location.hash, t.eVar12 = location.protocol + '//' + location.host + location.pathname, t.eVar13 = location.href.split('?')[1], t.eVar15 = ((c || '').profileInfo || '').type || '', s && s.segment && (t.eVar16 = s.segment, t.linkTrackVars += ',eVar16'), t.eVar17 = ((c || '').profileInfo || '').profileID || '', t.eVar19 = ((c || '').address || '').stateProvince || '', t.eVar20 = ((c || '').address || '').country || '', t.eVar21 = ((c || '').profileInfo || '').language || '', t.eVar23 = (((e || '').attributes || '').form || '').preferredComChannel || '', t.eVar34 = ((e || '').eventInfo || '').effect || '', void 0 !== _satellite.cookie.get('perf_timing') && '' != _satellite.cookie.get('perf_timing')) {
                                                        var y = _satellite.cookie.get('perf_timing');
                                                        json_data = JSON.parse(y), json_data.timeServer = json_data.timeServer < 0 ? '0' : json_data.timeServer, json_data.timeServerReact = json_data.timeServerReact < 0 ? '0' : json_data.timeServerReact, json_data.timeDOM = json_data.timeDOM < 0 ? '0' : json_data.timeDOM, json_data.timeContent = json_data.timeContent < 0 ? '0' : json_data.timeContent, json_data.timePageReady = json_data.timePageReady < 0 ? '0' : json_data.timePageReady, 'ok' == json_data.status && (t.events = 'event971=' + json_data.timeServer, t.linkTrackEvents ? t.linkTrackEvents += ',event971' : t.linkTrackEvents = 'event971', t.events += ',event972=' + json_data.timeServerReact, t.linkTrackEvents += ',event972', 'undefined' != typeof json_data.lcp ? t.events += ',event973=' + json_data.lcp : t.events += ',event973=' + json_data.timeDOM, t.linkTrackEvents += ',event973', t.events += ',event974=' + json_data.timeContent, t.linkTrackEvents += ',event974', t.events += ',event975=' + json_data.timePageReady, t.linkTrackEvents += ',event975', 'undefined' != typeof json_data.fid && (t.events += ',event968=' + json_data.fid, t.linkTrackEvents += ',event968'), 'undefined' != typeof json_data.cls && (t.events += ',event969=' + json_data.cls, t.linkTrackEvents += ',event969'), t.eVar36 = json_data.path, t.linkTrackVars += ',eVar36', t.eVar37 = json_data.query, t.linkTrackVars += ',eVar37', t.eVar38 = json_data.hash, t.linkTrackVars += ',eVar38', 'undefined' != typeof json_data.fidHTML && (t.eVar67 = json_data.fidHTML, t.linkTrackVars += ',eVar67'), 'undefined' != typeof json_data.lcpHTML && (t.eVar68 = json_data.lcpHTML, t.linkTrackVars += ',eVar68')), _satellite.cookie.set('perf_timing', '');
                                                    }
                                                    if (t.eVar39 = ((p || '').dealerInfo || '').dealerOutletName || '', t.eVar40 = ((p || '').dealerInfo || '').dealerOutletID || '', t.eVar41 = ((p || '').dealerInfo || '').dealerGroupName || '', t.eVar42 = ((p || '').dealerInfo || '').dealerGroupID || '', t.eVar43 = ((p || '').attributes || '').selectionState || '', t.eVar44 = ((o || '').attributes || '').productionYear || '', t.eVar45 = ((o || '').attributes || '').yearOfRegistration || '', t.eVar46 = ((o || '').attributes || '').vehicleStatus || '', 'vehicle' == (((o || '').category || '').productType || '') && (t.eVar47 = ((o || '').productInfo || '').color || '', t.eVar52 = ((o || '').productInfo || '').productName || '', t.eVar53 = ((o || '').category || '').primaryCategory || '', t.eVar54 = ((o || '').category || '').subCategory1 || '', t.eVar55 = ((o || '').category || '').subCategory2 || '', t.linkTrackVars += ',eVar47,eVar52,eVar53,eVar54,eVar55'), t.eVar48 = ((o || '').attributes || '').modelCode || '', t.eVar49 = ((o || '').attributes || '').gearing || '', t.eVar50 = ((o || '').attributes || '').series || '', t.eVar51 = ((o || '').attributes || '').bodyType || '', t.eVar56 = ((o || '').attributes || '').fuelType || '', t.eVar57 = ((o || '').attributes || '').hybridVersion || '', t.eVar58 = ((o || '').attributes || '').motorization || '', t.eVar59 = ((o || '').attributes || '').configLink || '', t.eVar60 = ((o || '').productInfo || '').manufacturer || '', t.eVar71 = ((e || '').attributes || '').requestedURL || '', 'service' != (((o || '').category || '').productType || '') && 'Related Service / Finance' != (((o || '').category || '').productType || '') || (t.eVar80 = ((o || '').productInfo || '').productName || '', t.eVar81 = ((o || '').category || '').primaryCategory || '', t.eVar82 = ((o || '').category || '').subCategory1 || '', t.eVar83 = ((o || '').category || '').subCategory2 || '', t.linkTrackVars += ',eVar80,eVar81,eVar82,eVar83'), t.eVar84 = (((o || '').attributes || '').fin || '').downPayment || '', t.eVar85 = (((o || '').attributes || '').fin || '').mileage || '', t.eVar86 = (((o || '').attributes || '').fin || '').monthlyPayment || '', t.eVar87 = (((o || '').attributes || '').fin || '').term || '', t.eVar90 = (((o || '').attributes || '').fupo || '').mappingStatus || '', t.eVar91 = (((o || '').attributes || '').fupo || '').remoteServices || '', t.eVar93 = (((o || '').attributes || '').fupo || '').tokenValidity || '', t.eVar94 = (((o || '').attributes || '').fupo || '').registrationSource || '', t.eVar95 = (((o || '').attributes || '').fupo || '').offerStatus || '', t.eVar96 = (((o || '').attributes || '').fupo || '').transactionType || '', 'accessory' != (((o || '').category || '').productType || '') && 'Options & Accessory' != (((o || '').category || '').productType || '') || (t.eVar100 = ((o || '').productInfo || '').productName || '', t.eVar101 = ((o || '').category || '').primaryCategory || '', t.eVar102 = ((o || '').category || '').subCategory1 || '', t.eVar103 = ((o || '').category || '').subCategory2 || '', t.eVar104 = ((o || '').productInfo || '').color || '', t.linkTrackVars += ',eVar100,eVar101,eVar102,eVar103,eVar104'), 'configurator' == (((o || '').category || '').productType || '') && (t.eVar110 = ((o || '').productInfo || '').productName || '', t.eVar111 = ((o || '').category || '').primaryCategory || '', t.eVar112 = ((o || '').category || '').subCategory1 || '', t.eVar113 = ((o || '').category || '').subCategory2 || '', t.linkTrackVars += ',eVar110,eVar111,eVar112,eVar113'), t.eVar120 = (l || '').cartID || '', t.eVar121 = ((l || '').price || '').voucherCode || ((u || '').total || '').voucherCode || '', t.eVar122 = ((l || '').price || '').currency || ((u || '').total || '').currency || ((a || '').attributes || '').currencyCode || '', t.eVar123 = ((u || '').attributes || '').paymentMethod || '', t.eVar124 = ((l || '').price || '').taxRate || ((u || '').total || '').taxRate || '', t.eVar125 = (u || '').transactionID || '', t.eVar126 = ((l || '').price || '').shippingMethod || ((u || '').total || '').shippingMethod || '', t.eVar130 = 1 == ('undefined' != typeof epaas && epaas && epaas.api && epaas.api.isUsageAllowed && epaas.api.isUsageAllowed('AdobeAnalytics') || 'na') ? 'accepted' : 'rejected', sessionStorage.getItem('cc-consents-cache')) {
                                                        var h = JSON.parse(sessionStorage.getItem('cc-consents-cache')), b = location.host.split('.').join('_');
                                                        h = 'GIVEN' == (h = h[b] ? h[b].categories.analytics.defaultConsent : h[Object.keys(h)[0]] ? h[Object.keys(h)[0]].categories.analytics.defaultConsent : h.categories.analytics.defaultConsent) ? 'default on' : 'default off';
                                                    }
                                                    if (_satellite.cookie.get('bmwdtm_hq_previouspage_meta') && null != _satellite.cookie.get('bmwdtm_hq_previouspage_meta') && (m = decodeURIComponent(_satellite.cookie.get('bmwdtm_hq_previouspage_meta')), m = JSON.parse(m), t.eVar14 = m.url, t.prop30 = -1 < m.url.indexOf(location.hostname) ? 'internal' : 'external', t.prop31 = m.pagePrimaryCategory, t.prop32 = m.pageSubCategory01, t.prop33 = m.pageName, t.eVar28 = m.componentSubcategory1, t.linkTrackVars += ',eVar14,eVar28,prop30,prop31,prop32,prop33', _satellite.cookie.set('bmwdtm_hq_previouspage_meta', '')), _satellite.cookie.get('prevPageContent') && 1 < _satellite.cookie.get('prevPageContent').split(';').length) {
                                                        var k = _satellite.cookie.get('prevPageContent');
                                                        _satellite.setVar('prevContent', k), k = k.split(';'), t.eVar14 = k[0], t.prop30 = -1 < k[0].indexOf(location.hostname) ? 'internal' : 'external', t.prop31 = k[2], t.prop32 = k[3], t.prop33 = k[4], t.eVar28 = k[5], t.linkTrackVars += ',eVar14,eVar28,prop30,prop31,prop32,prop33';
                                                    }
                                                    var C = location.href + '; ;' + (((a || '').category || '').primaryCategory || '') + ';' + (((a || '').category || '').subCategory1 || '') + ';' + (((a || '').pageInfo || '').pageName || '') + ';' + (((i || '').category || '').subCategory1 || '');
                                                    _satellite.cookie.set('prevPageContent', C);
                                                    var I = {
                                                        url: location.href,
                                                        pagePrimaryCategory: ((i || '').componentInfo || '').componentName || '',
                                                        pageSubCategory01: ((a || '').category || '').subCategory1 || '',
                                                        jcrPath: window.location.pathname,
                                                        pathName: location.protocol + '//' + location.host + location.pathname,
                                                        pageName: ((a || '').pageInfo || '').pageName || '',
                                                        componentSubcategory1: ((i || '').category || '').subCategory1 || ''
                                                    };
                                                    if (I = JSON.stringify(I), I = encodeURIComponent(I), t.eVar132 = navigator.userAgent, t.eVar133 = t && t.visitor && t.visitor.getMarketingCloudVisitorID() || '', t.eVar131 = t.eVar133.slice(-2).toString(), typeof window.processingWrapper != undefined && window.processingWrapper && 'function' == typeof window.processingWrapper._getProcessingInfo) {
                                                        var T = window.processingWrapper._getProcessingInfo('BaseTracking', {
                                                            type: window.processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,
                                                            format: window.processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2
                                                        });
                                                        t.prop60 = T.drawer, t.prop61 = T.identities, t.prop62 = T.settings, t.prop63 = T.defaults, t.prop64 = T.consents, t.linkTrackVars += ',prop60,prop61,prop62,prop63,prop64';
                                                    }
                                                    t.eVar134 = ((i || '').attributes || '').touchpoint || '', t.eVar135 = ((a || '').pageInfo || '').sysEnv || '', t.eVar136 = d, 'error' == (((e || '').eventInfo || '').eventName || '') && (t.eVar69 = ((e || '').eventInfo || '').effect || '', t.eVar70 = ((e || '').eventInfo || '').cause || '', t.linkTrackVars += ',eVar69,eVar70'), t.channel = ((i || '').componentInfo || '').componentName || '', t.linkTrackVars += ',channel', 'error' == (((a || '').category || '').pageType || '') && (t.pageType = 'errorPage'), t.prop1 = ((a || '').pageInfo || '').pageName || '', t.prop2 = ((a || '').category || '').pageType || '', t.prop3 = ((a || '').category || '').primaryCategory || '', t.prop4 = ((a || '').category || '').subCategory1 || '', t.prop5 = ((a || '').category || '').subCategory2 || '', 'form' != (((e || '').eventInfo || '').eventName || '') && 'forms' != (((e || '').eventInfo || '').eventName || '') || (t.prop11 = ((e || '').eventInfo || '').type || '', t.linkTrackVars += ',prop11', t.prop7 = ((e || '').category || '').subCategory1 || '', t.linkTrackVars += ',prop7', t.prop8 = ((e || '').eventInfo || '').effect || '', t.linkTrackVars += ',prop8', t.prop6 = ((e || '').category || '').primaryCategory || '', t.linkTrackVars += ',prop6'), 'form' != (((a || '').category || '').pageType || '') && 'forms' != (((a || '').category || '').pageType || '') || (t.prop9 = ((a || '').category || '').subCategory1 || '', t.linkTrackVars += ',prop9', t.prop10 = ((e || '').eventInfo || '').subCategory2 || '', t.linkTrackVars += ',prop10', t.prop8 = ((e || '').eventInfo || '').effect || '', t.linkTrackVars += ',prop8'), t.prop12 = ((e || '').eventInfo || '').timeStamp || '', t.prop13 = ((a || '').attributes || '').brand || '', '' != t.prop13 && 'na' != t.prop13 || (-1 < location.host.indexOf('.bmw-motorrad.') ? t.prop13 = 'bmw_motorrad' : -1 < location.host.indexOf('.mini.') ? t.prop13 = 'mini' : -1 < location.host.indexOf('.bmw.') && (t.prop13 = 'bmw'));
                                                    var _ = new Date();
                                                    t.prop14 = _.getUTCHours() + ':' + _.getUTCMinutes() + ':' + _.getUTCSeconds(), t.prop15 = _.getHours() + ':' + _.getMinutes() + ':' + _.getSeconds(), t.prop16 = ((e || '').attributes || '').stepName || '', t.prop17 = (((e || '').attributes || '').form || '').rfxID || '', t.prop19 = ((i || '').componentInfo || '').componentName || '', t.prop20 = (((e || '').attributes || '').search || '').label || '', 'search' == (((e || '').eventInfo || '').eventName || '') && (t.prop20 = ((e || '').category || '').subCategory1 || '', t.prop21 = ((e || '').eventInfo || '').type || '', t.prop22 = ((e || '').eventInfo || '').eventAction || '', t.prop23 = ((e || '').eventInfo || '').eventAction || '', t.prop24 = ((e || '').category || '').subCategory1 || '', t.linkTrackVars += ',prop20,prop21,prop22,prop23,prop24'), t.prop23 = t.prop20, t.prop25 = (((e || '').attributes || '').search || '').state || '', t.prop27 = ((a || '').pageInfo || '').pageID || '', t.prop28 = ((a || '').pageInfo || '').variant || '', t.prop29 = ((a || '').pageInfo || '').version || '', t.prop40 = ((c || '').attributes || '').loggedInStatus || '', t.prop41 = ((i || '').category || '').componentType || '', t.prop42 = ((i || '').category || '').primaryCategory || '', t.prop43 = ((i || '').category || '').subCategory1 || '', t.prop44 = ((i || '').componentInfo || '').componentID || '', t.prop45 = ((i || '').attributes || '').componentVersion || '', t.prop46 = ((a || '').pageInfo || '').author || '', t.prop52 = ((e || '').eventInfo || '').cause || '', t.prop54 = ((e || '').eventInfo || '').type || '', t.prop53 = ((e || '').category || '').primaryCategory || '', t.prop55 = ((e || '').category || '').subCategory1 || '', t.prop56 = ((e || '').eventInfo || '').eventName || '', t.prop57 = ((e || '').eventInfo || '').eventAction || '', t.prop58 = ((e || '').eventInfo || '').eventPoints || '', t.prop59 = ((o || '').attributes || '').configID || '', t.prop66 = window.screen.width * window.devicePixelRatio, t.prop67 = window.screen.height * window.devicePixelRatio, t.prop68 = window.screen.width >= window.screen.height ? 'landscape' : 'portrait', 'error' == (((e || '').eventInfo || '').eventName || '') && (t.prop69 = ((e || '').category || '').subCategory1 || '', t.linkTrackVars += ',prop69'), t.prop71 = _satellite.buildInfo.buildDate, t.prop72 = t.visitor.version, t.prop73 = t.version, t.prop74 = _satellite.property.name + '|pageload', t.prop75 = 'tracy', t.linkTrackVars += ',eVar6,eVar7,eVar8,eVar10,eVar11,eVar12,eVar13,eVar15,eVar17,eVar19,eVar20,eVar21,eVar23,eVar34,eVar39,eVar40,eVar41,eVar42,eVar43,eVar44,eVar45,eVar46,eVar48,eVar49,eVar50,eVar51,eVar56,eVar57,eVar58,eVar59,eVar60,eVar71,eVar84,eVar85,eVar86,eVar87,eVar90,eVar91,eVar93,eVar94,eVar95,eVar96,eVar120,eVar121,eVar122,eVar123,eVar124,eVar125,eVar126,eVar130,eVar132,eVar133,eVar131,eVar134,eVar135,eVar136,prop1,prop2,prop3,prop4,prop5,prop12,prop13,prop14,prop15,prop16,prop17,prop19,prop20,prop23,prop25,prop27,prop28,prop29,prop40,prop41,prop42,prop43,prop44,prop45,prop46,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59,prop66,prop67,prop68,prop71,prop72,prop73,prop74,prop75', 'accept consent' == (((e || '').eventInfo || '').eventName || '') ? (t.eVar130 = (((e || '').attributes || '').consentItemName || '') + 'accepted', t.prop51 = ((e || '').eventInfo || '').subCategory2 || '', t.linkTrackVars += ',prop51') : 'reject consent' == (((e || '').eventInfo || '').eventName || '') && (t.eVar130 = (((e || '').attributes || '').consentItemName || '') + 'rejected', t.prop51 = ((e || '').eventInfo || '').subCategory2 || '', t.linkTrackVars += ',prop51'), 'cookie coonsent recorded' == (((e || '').eventInfo || '').effect || '') && (t.events += ',event941', t.linkTrackEvents += ',event941'), -1 < t.prop56.indexOf('error') && t.linkTrackEvents.indexOf('event931,event932') < 0 && (t.events += ',event931,event932', t.linkTrackEvents += ',event931,event932'), _satellite.cookie.get('bounce_timer') == undefined && (setTimeout(function () {
                                                        _satellite.track('bounce_timer');
                                                    }, 20000), _satellite.cookie.set('bounce_timer', Math.random()));
                                                } catch (V) {
                                                    _satellite.logger.error('Error:', V);
                                                }
                                            }.apply(this, arguments);
                                        } finally {
                                            if ($___old_0c6f80b6acfbb09a)
                                                ({}.constructor.defineProperty(window, 'sessionStorage', $___old_0c6f80b6acfbb09a));
                                        }
                                    }
                                },
                                trackerProperties: {}
                            }
                        },
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/sendBeacon.js',
                            settings: { type: 'page' }
                        }
                    ]
                },
                {
                    id: 'RLdc42c4099a3d43df912a4f452ad09193',
                    name: 'event',
                    events: [{
                            modulePath: 'core/src/lib/events/directCall.js',
                            settings: { identifier: 'event' },
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/setVariables.js',
                            settings: {
                                customSetup: {
                                    source: function (e, t) {
                                        try {
                                            t.account = _satellite.getVar('rsid') || 'bmwgroup.group.global.test', t.trackingServer = 'bmwag.d3.sc.omtrdc.net';
                                            var r = '';
                                            digitalData && 'undefined' != typeof digitalData && (r = digitalData), t.pageName = r && r.page ? r.page.pageInfo.pageName : document.title, t.linkTrackVars = 'pageName', t.server = location.host, t.linkTrackVars += ',server', t.events = '', t.linkTrackEvents = '';
                                            var a = r.page, n = ((a || '').pageInfo || '').destinationURL || window.location.href, o = r.product && r.product[r.product.length - 1], i = r.component && r.component[r.component.length - 1], s = r && r.user && r.user[r.user.length - 1], c = s && s.profile && s.profile[s.profile.length - 1], p = (e = r.event && r.event[r.event.length - 1], r.dealer && r.dealer[r.dealer.length - 1]), l = r.cart, u = r.transaction && r.transaction[r.transaction.length - 1], d = r.version;
                                            if ('search' == (((e || '').eventInfo || '').eventName || '')) {
                                                var f = ((e || '').attributes || '').search || {};
                                                if (t.products = '', 0 < f.length) {
                                                    for (var m in f)
                                                        t.products += 'search;search;;;;eVar30=' + (f[m].unit || '') + '|eVar31=' + (f[m].state || '') + '|eVar32=' + (f[m].label || '') + '|eVar33=' + (f[m].term || '') + ',';
                                                    t.products = t.products.substring(0, t.products.length - 1);
                                                }
                                                t.linkTrackVars += ',products';
                                            }
                                            if (o && _satellite.getVar('setProductString')(t), t.referrer = ((a || '').pageInfo || '').referringURL || document.referrer, window.location.href.split('?')[1] && (t.campaign = t.Util.getQueryParam('tl'), '' != t.campaign && '' != t.Util.getQueryParam('tl') && (t.eVar61 = t.eVar62 = t.campaign, t.linkTrackVars += ',eVar61', t.linkTrackVars += ',eVar62')), -1 < (t.eVar4 = n).indexOf('://configure.') && (n = n.split(',')[0]), n && (t.linkTrackVars += ',eVar4'), t.eVar5 = n.substring(255, n.length), n.substring(255, n.length) && (t.linkTrackVars += ',eVar5'), t.eVar6 = ((a || '').pageInfo || '').referringURL || document.referrer, t.eVar7 = ((a || '').pageInfo || '').language || '', -1 < t.eVar7.indexOf('-') && (t.eVar7 = t.eVar7.split('-')[0]), t.eVar8 = ((a || '').pageInfo || '').geoRegion || '', t.eVar10 = ((o || '').attributes || '').mmdr || '', t.eVar11 = window.location.hash, t.eVar12 = location.protocol + '//' + location.host + location.pathname, t.eVar13 = location.href.split('?')[1], t.eVar15 = ((c || '').profileInfo || '').type || '', s && s.segment && (t.eVar16 = s.segment, t.linkTrackVars += ',eVar16'), t.eVar17 = ((c || '').profileInfo || '').profileID || '', t.eVar19 = ((c || '').address || '').stateProvince || '', t.eVar20 = ((c || '').address || '').country || '', t.eVar21 = ((c || '').profileInfo || '').language || '', t.eVar23 = (((e || '').attributes || '').form || '').preferredComChannel || '', t.eVar34 = ((e || '').eventInfo || '').effect || '', t.eVar39 = ((p || '').dealerInfo || '').dealerOutletName || '', t.eVar40 = ((p || '').dealerInfo || '').dealerOutletID || '', t.eVar41 = ((p || '').dealerInfo || '').dealerGroupName || '', t.eVar42 = ((p || '').dealerInfo || '').dealerGroupID || '', t.eVar43 = ((p || '').attributes || '').selectionState || '', t.eVar44 = ((o || '').attributes || '').productionYear || '', t.eVar45 = ((o || '').attributes || '').yearOfRegistration || '', t.eVar46 = ((o || '').attributes || '').vehicleStatus || '', 'vehicle' == (((o || '').category || '').productType || '') && (t.eVar47 = ((o || '').productInfo || '').color || '', t.eVar52 = ((o || '').productInfo || '').productName || '', t.eVar53 = ((o || '').category || '').primaryCategory || '', t.eVar54 = ((o || '').category || '').subCategory1 || '', t.eVar55 = ((o || '').category || '').subCategory2 || '', t.linkTrackVars += ',eVar47,eVar52,eVar53,eVar54,eVar55'), t.eVar48 = ((o || '').attributes || '').modelCode || '', t.eVar49 = ((o || '').attributes || '').gearing || '', t.eVar50 = ((o || '').attributes || '').series || '', t.eVar51 = ((o || '').attributes || '').bodyType || '', t.eVar56 = ((o || '').attributes || '').fuelType || '', t.eVar57 = ((o || '').attributes || '').hybridVersion || '', t.eVar58 = ((o || '').attributes || '').motorization || '', t.eVar59 = ((o || '').attributes || '').configLink || '', t.eVar60 = ((o || '').productInfo || '').manufacturer || '', t.eVar71 = ((e || '').attributes || '').requestedURL || '', 'service' != (((o || '').category || '').productType || '') && 'Related Service / Finance' != (((o || '').category || '').productType || '') || (t.eVar80 = ((o || '').productInfo || '').productName || '', t.eVar81 = ((o || '').category || '').primaryCategory || '', t.eVar82 = ((o || '').category || '').subCategory1 || '', t.eVar83 = ((o || '').category || '').subCategory2 || '', t.linkTrackVars += ',eVar80,eVar81,eVar82,eVar83'), t.eVar84 = (((o || '').attributes || '').fin || '').downPayment || '', t.eVar85 = (((o || '').attributes || '').fin || '').mileage || '', t.eVar86 = (((o || '').attributes || '').fin || '').monthlyPayment || '', t.eVar87 = (((o || '').attributes || '').fin || '').term || '', t.eVar90 = (((o || '').attributes || '').fupo || '').mappingStatus || '', t.eVar91 = (((o || '').attributes || '').fupo || '').remoteServices || '', t.eVar93 = (((o || '').attributes || '').fupo || '').tokenValidity || '', t.eVar94 = (((o || '').attributes || '').fupo || '').registrationSource || '', t.eVar95 = (((o || '').attributes || '').fupo || '').offerStatus || '', t.eVar96 = (((o || '').attributes || '').fupo || '').transactionType || '', 'accessory' != (((o || '').category || '').productType || '') && 'Options & Accessory' != (((o || '').category || '').productType || '') || (t.eVar100 = ((o || '').productInfo || '').productName || '', t.eVar101 = ((o || '').category || '').primaryCategory || '', t.eVar102 = ((o || '').category || '').subCategory1 || '', t.eVar103 = ((o || '').category || '').subCategory2 || '', t.eVar104 = ((o || '').productInfo || '').color || '', t.linkTrackVars += ',eVar100,eVar101,eVar102,eVar103,eVar104'), 'configurator' == (((o || '').category || '').productType || '') && (t.eVar110 = ((o || '').productInfo || '').productName || '', t.eVar111 = ((o || '').category || '').primaryCategory || '', t.eVar112 = ((o || '').category || '').subCategory1 || '', t.eVar113 = ((o || '').category || '').subCategory2 || '', t.linkTrackVars += ',eVar110,eVar111,eVar112,eVar113'), t.eVar120 = (l || '').cartID || '', t.eVar121 = ((l || '').price || '').voucherCode || ((u || '').total || '').voucherCode || '', t.eVar122 = ((l || '').price || '').currency || ((u || '').total || '').currency || '', t.eVar123 = ((u || '').attributes || '').paymentMethod || '', t.eVar124 = ((l || '').price || '').taxRate || ((u || '').total || '').taxRate || '', t.eVar125 = (u || '').transactionID || '', t.eVar126 = ((l || '').price || '').shippingMethod || ((u || '').total || '').shippingMethod || '', t.eVar130 = 1 == ('undefined' != typeof epaas && epaas && epaas.api && epaas.api.isUsageAllowed && epaas.api.isUsageAllowed('AdobeAnalytics') || 'na') ? 'accepted' : 'rejected', sessionStorage.getItem('cc-consents-cache')) {
                                                var v = JSON.parse(sessionStorage.getItem('cc-consents-cache')), g = location.host.split('.').join('_');
                                                v = 'GIVEN' == (v = v[g] ? v[g].categories.analytics.defaultConsent : v[Object.keys(v)[0]] ? v[Object.keys(v)[0]].categories.analytics.defaultConsent : v.categories.analytics.defaultConsent) ? 'default on' : 'default off';
                                            }
                                            if (_satellite.cookie.get('bmwdtm_hq_previouspage_meta') && null != _satellite.cookie.get('bmwdtm_hq_previouspage_meta') && (m = decodeURIComponent(_satellite.cookie.get('bmwdtm_hq_previouspage_meta')), m = JSON.parse(m), t.eVar14 = m.url, t.prop30 = -1 < m.url.indexOf(location.hostname) ? 'internal' : 'external', t.prop31 = m.pagePrimaryCategory, t.prop32 = m.pageSubCategory01, t.prop33 = m.pageName, t.eVar28 = m.componentSubcategory1, t.linkTrackVars += ',eVar14,eVar28,prop30,prop31,prop32,prop33', _satellite.cookie.set('bmwdtm_hq_previouspage_meta', '')), _satellite.cookie.get('prevPageContent') && 1 < _satellite.cookie.get('prevPageContent').split(';').length) {
                                                var y = _satellite.cookie.get('prevPageContent');
                                                _satellite.setVar('prevContent', y), y = y.split(';'), t.eVar14 = y[0], t.prop30 = -1 < y[0].indexOf(location.hostname) ? 'internal' : 'external', t.prop31 = y[2], t.prop32 = y[3], t.prop33 = y[4], t.eVar28 = y[5], t.linkTrackVars += ',eVar14,eVar28,prop30,prop31,prop32,prop33';
                                            }
                                            if (t.eVar132 = navigator.userAgent, t.eVar133 = t && t.visitor && t.visitor.getMarketingCloudVisitorID() || '', t.eVar131 = t.eVar133.slice(-2).toString(), typeof window.processingWrapper != undefined && window.processingWrapper && 'function' == typeof window.processingWrapper._getProcessingInfo) {
                                                var h = window.processingWrapper._getProcessingInfo('BaseTracking', {
                                                    type: window.processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,
                                                    format: window.processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2
                                                });
                                                t.prop60 = h.drawer, t.prop61 = h.identities, t.prop62 = h.settings, t.prop63 = h.defaults, t.prop64 = h.consents, t.linkTrackVars += ',prop60,prop61,prop62,prop63,prop64';
                                            }
                                            if (t.eVar134 = ((i || '').attributes || '').touchpoint || '', t.eVar135 = ((a || '').pageInfo || '').sysEnv || '', t.eVar136 = d, 'error' == (((e || '').eventInfo || '').eventName || '') && (t.eVar69 = ((e || '').eventInfo || '').effect || '', t.eVar70 = ((e || '').eventInfo || '').cause || '', t.linkTrackVars += ',eVar69,eVar70'), t.channel = ((i || '').componentInfo || '').componentName || '', t.linkTrackVars += ',channel', 'error' == (((a || '').category || '').pageType || '') && (t.pageType = 'errorPage'), t.prop1 = ((a || '').pageInfo || '').pageName || '', t.prop2 = ((a || '').category || '').pageType || '', t.prop3 = ((a || '').category || '').primaryCategory || '', t.prop4 = ((a || '').category || '').subCategory1 || '', t.prop5 = ((a || '').category || '').subCategory2 || '', 'form' == (((e || '').eventInfo || '').eventName || '') || 'form start' == (((e || '').eventInfo || '').eventName || '').toLowerCase() || 'form success' == (((e || '').eventInfo || '').eventName || '').toLowerCase()) {
                                                switch (t.prop11 = ((e || '').eventInfo || '').type || '', t.linkTrackVars += ',prop11', t.prop7 = ((e || '').category || '').subCategory1 || '', t.linkTrackVars += ',prop7', t.prop8 = ((e || '').eventInfo || '').effect || '', t.linkTrackVars += ',prop8', -1 < t.prop8.indexOf(' > ') && (t.prop8 = t.prop8.split(' > ')[1]), t.prop8) {
                                                case 'form start intention':
                                                    t.linkTrackEvents.indexOf('event1,event2') < 0 && (t.events += ',event1,event2', t.linkTrackEvents += ',event1,event2');
                                                    break;
                                                case 'Form Start':
                                                case 'form start':
                                                case 'form started':
                                                    if (t.linkTrackEvents.indexOf('event3,event4') < 0 && (t.events += ',event3,event4', t.linkTrackEvents += ',event3,event4'), 'local-request' == (k = ((e || '').category || '').primaryCategory || '').toLowerCase() && '' == (k = ((e || '').category || '').subCategory1 || '') && (k = ((e || '').category || '').subCategory01 || ''), 'local form' == k.toLowerCase() && (k = ((e || '').eventInfo || '').type || ''), k = k.toLowerCase(), '' != (((e || '').category || '').subCategory02 || '')) {
                                                        var b = {
                                                            download: 'event49,event50',
                                                            postal: 'event57,event58',
                                                            newsletter: 'event81,event82',
                                                            'keep me informed': 'event77,event78',
                                                            loan: 'event105,event106',
                                                            'operational lease': 'event109,event110',
                                                            'private lease': 'event113,event114',
                                                            quote: 'event117,event118',
                                                            insurance: 'event121,event122'
                                                        }[(((e || '').category || '').subCategory02 || '').toLowerCase()];
                                                        t.linkTrackEvents.indexOf(b) < 0 && (t.events += ',' + b, t.linkTrackEvents += ',' + b);
                                                    }
                                                    '' != (((e || '').category || '').subCategory03 || '') && (b = {
                                                        lead: 'event17,event18',
                                                        handraiser: 'event21,event22'
                                                    }[(((e || '').category || '').subCategory03 || '').toLowerCase()], t.linkTrackEvents.indexOf(b) < 0 && (t.events += ',' + b, t.linkTrackEvents += ',' + b)), 'online tda' == k && t.linkTrackEvents.indexOf('event89,event90') < 0 && (t.events += ',event89,event90', t.linkTrackEvents += ',event89,event90'), 'fs rfo' == k && t.linkTrackEvents.indexOf('event101,event102') < 0 && (t.events += ',event101,event102', t.linkTrackEvents += ',event101,event102'), 'campaign' == k && t.linkTrackEvents.indexOf('event97,event98') < 0 && (t.events += ',event97,event98', t.linkTrackEvents += ',event97,event98'), 'registration' == k && t.linkTrackEvents.indexOf('event93,event94') < 0 && (t.events += ',event93,event94', t.linkTrackEvents += ',event93,event94'), 'rfs' == k && t.linkTrackEvents.indexOf('event69,event70') < 0 && (t.events += ',event69,event70', t.linkTrackEvents += ',event69,event70'), 'tda' == k && t.linkTrackEvents.indexOf('event85,event86') < 0 && (t.events += ',event85,event86', t.linkTrackEvents += ',event85,event86'), 'rfo' == k && t.linkTrackEvents.indexOf('event61,event62') < 0 && (t.events += ',event61,event62', t.linkTrackEvents += ',event61,event62'), 'rfi' == k && (t.linkTrackEvents.indexOf('event45,event46') < 0 && (t.events += ',event45,event46', t.linkTrackEvents += ',event45,event46'), 'Generic' == (((e || '').category || '').subCategory02 || '') && (t.events += ',event53,event54', t.linkTrackEvents += ',event53,event54')), 'rao' == k && t.linkTrackEvents.indexOf('event25,event26') < 0 && (t.events += ',event25,event26', t.linkTrackEvents += ',event25,event26'), 'rfa' == k && t.linkTrackEvents.indexOf('event29,event30') < 0 && (t.events += ',event29,event30', t.linkTrackEvents += ',event29,event30'), 'rfc' == k && t.linkTrackEvents.indexOf('event33,event34') < 0 && (t.events += ',event33,event34', t.linkTrackEvents += ',event33,event34'), 'rfcd' == k && t.linkTrackEvents.indexOf('event37,event38') < 0 && (t.events += ',event37,event38', t.linkTrackEvents += ',event37,event38'), 'rfd' == k && t.linkTrackEvents.indexOf('event41,event42') < 0 && (t.events += ',event41,event42', t.linkTrackEvents += ',event41,event42'), 'rfp' == k && t.linkTrackEvents.indexOf('event65,event66') < 0 && (t.events += ',event65,event66', t.linkTrackEvents += ',event65,event66'), 'rfs' == k && t.linkTrackEvents.indexOf('event69,event70') < 0 && (t.events += ',event69,event70', t.linkTrackEvents += ',event69,event70'), 'roi' == k && t.linkTrackEvents.indexOf('event73,event74') < 0 && (t.events += ',event73,event74', t.linkTrackEvents += ',event73,event74');
                                                    break;
                                                case 'form finish intention':
                                                    t.linkTrackEvents.indexOf('event13,event14') < 0 && (t.events += ',event13,event14', t.linkTrackEvents += ',event3,event4');
                                                    break;
                                                case 'Form Success':
                                                case 'form success':
                                                case 'form finished':
                                                    t.linkTrackEvents.indexOf('event15,event16') < 0 && (t.events += ',event15,event16', t.linkTrackEvents += ',event15,event16'), 'local-request' == (k = ((e || '').category || '').primaryCategory || '').toLowerCase() && '' == (k = ((e || '').category || '').subCategory1 || '') && (k = ((e || '').category || '').subCategory01 || ''), k = k.toLowerCase(), '' != (((e || '').category || '').subCategory02 || '') && (b = {
                                                        download: 'event51,event52',
                                                        postal: 'event59,event60',
                                                        newsletter: 'event83,event84',
                                                        'keep me informed': 'event79,event80',
                                                        loan: 'event107,event108',
                                                        'operational lease': 'event111,event112',
                                                        'private lease': 'event115,event116',
                                                        quote: 'event119,event120',
                                                        insurance: 'event123,event124'
                                                    }[(((e || '').category || '').subCategory02 || '').toLowerCase()], t.linkTrackEvents.indexOf(b) < 0 && (t.events += ',' + b, t.linkTrackEvents += ',' + b)), '' != (((e || '').category || '').subCategory03 || '') && (b = {
                                                        lead: 'event19,event20',
                                                        handraiser: 'event23,event24'
                                                    }[(((e || '').category || '').subCategory03 || '').toLowerCase()], t.linkTrackEvents.indexOf(b) < 0 && (t.events += ',' + b, t.linkTrackEvents += ',' + b)), 'online tda' == k && t.linkTrackEvents.indexOf('event91,event92') < 0 && (t.events += ',event91,event92', t.linkTrackEvents += ',event91,event92'), 'campaign' == k && t.linkTrackEvents.indexOf('event99,event100') < 0 && (t.events += ',event99,event100', t.linkTrackEvents += ',event99,event100'), 'fs rfo' == k && t.linkTrackEvents.indexOf('event103,event104') < 0 && (t.events += ',event103,event104', t.linkTrackEvents += ',event103,event104'), 'registration' == k && t.linkTrackEvents.indexOf('event95,event96') < 0 && (t.events += ',event95,event96', t.linkTrackEvents += ',event95,event96'), 'rfs' == k && t.linkTrackEvents.indexOf('event71,event72') < 0 && (t.events += ',event71,event72', t.linkTrackEvents += ',event71,event72'), 'tda' == k && t.linkTrackEvents.indexOf('event87,event88') < 0 && (t.events += ',event87,event88', t.linkTrackEvents += ',event87,event88'), 'rfo' == k && t.linkTrackEvents.indexOf('event63,event64') < 0 && (t.events += ',event63,event64', t.linkTrackEvents += ',event63,event64'), 'rfi' == k && (t.linkTrackEvents.indexOf('event47,event48') < 0 && (t.events += ',event47,event48', t.linkTrackEvents += ',event47,event48'), 'Generic' == (((e || '').category || '').subCategory02 || '') && (t.events += ',event55,event56', t.linkTrackEvents += ',event55,event56')), 'rao' == k && t.linkTrackEvents.indexOf('event27,event28') < 0 && (t.events += ',event27,event28', t.linkTrackEvents += ',event27,event28'), 'rfa' == k && t.linkTrackEvents.indexOf('event31,event32') < 0 && (t.events += ',event31,event32', t.linkTrackEvents += ',event31,event32'), 'rfc' == k && t.linkTrackEvents.indexOf('event35,event36') < 0 && (t.events += ',event35,event36', t.linkTrackEvents += ',event35,event36'), 'rfcd' == k && t.linkTrackEvents.indexOf('event39,event40') < 0 && (t.events += ',event39,event40', t.linkTrackEvents += ',event39,event40'), 'rfd' == k && t.linkTrackEvents.indexOf('event43,event44') < 0 && (t.events += ',event43,event44', t.linkTrackEvents += ',event43,event44'), 'rfp' == k && t.linkTrackEvents.indexOf('event67,event68') < 0 && (t.events += ',event67,event68', t.linkTrackEvents += ',event67,event68'), 'rfs' == k && t.linkTrackEvents.indexOf('event71,event72') < 0 && (t.events += ',event71,event72', t.linkTrackEvents += ',event71,event72'), 'roi' == k && t.linkTrackEvents.indexOf('event75,event76') < 0 && (t.events += ',event75,event76', t.linkTrackEvents += ',event75,event76');
                                                }
                                                t.prop6 = ((e || '').category || '').primaryCategory || '', t.linkTrackVars += ',prop6';
                                            }
                                            if ('form' == (((a || '').category || '').pageType || ''))
                                                switch (t.prop9 = ((a || '').category || '').subCategory1 || '', t.prop10 = ((e || '').eventInfo || '').subCategory2 || '', t.prop8 = ((e || '').eventInfo || '').effect || '', t.linkTrackVars += ',prop9,prop10,prop8', -1 < t.prop8.indexOf(' > ') && (t.prop8 = t.prop8.split(' > ')[1]), t.prop8) {
                                                case 'form start intention':
                                                    t.linkTrackEvents.indexOf('event1,event2') < 0 && (t.events += ',event1,event2', t.linkTrackEvents += ',event1,event2');
                                                    break;
                                                case 'form started':
                                                    t.linkTrackEvents.indexOf('event3,event4') < 0 && (t.events += ',event3,event4', t.linkTrackEvents += ',event3,event4'), 'registration' == (k = (k = ((e || '').category || '').primaryCategory || '').toLowerCase()) && t.linkTrackEvents.indexOf('event93,event94') < 0 && (t.events += ',event93,event94', t.linkTrackEvents += ',event93,event94'), 'rfs' == k && t.linkTrackEvents.indexOf('event69,event70') < 0 && (t.events += ',event69,event70', t.linkTrackEvents += ',event69,event70'), 'tda' == k && t.linkTrackEvents.indexOf('event85,event86') < 0 && (t.events += ',event85,event86', t.linkTrackEvents += ',event85,event86'), 'rfo' == k && t.linkTrackEvents.indexOf('event61,event62') < 0 && (t.events += ',event61,event62', t.linkTrackEvents += ',event61,event62'), 'rfi' == k && t.linkTrackEvents.indexOf('event45,event46') < 0 && (t.events += ',event45,event46', t.linkTrackEvents += ',event45,event46'), 'rao' == k && t.linkTrackEvents.indexOf('event25,event26') < 0 && (t.events += ',event25,event26', t.linkTrackEvents += ',event25,event26'), 'rfa' == k && t.linkTrackEvents.indexOf('event29,event30') < 0 && (t.events += ',event29,event30', t.linkTrackEvents += ',event29,event30'), 'rfc' == k && t.linkTrackEvents.indexOf('event33,event34') < 0 && (t.events += ',event33,event34', t.linkTrackEvents += ',event33,event34'), 'rfcd' == k && t.linkTrackEvents.indexOf('event37,event38') < 0 && (t.events += ',event37,event38', t.linkTrackEvents += ',event37,event38'), 'rfd' == k && t.linkTrackEvents.indexOf('event41,event42') < 0 && (t.events += ',event41,event42', t.linkTrackEvents += ',event41,event42'), 'rfp' == k && t.linkTrackEvents.indexOf('event65,event66') < 0 && (t.events += ',event65,event66', t.linkTrackEvents += ',event65,event66'), 'rfs' == k && t.linkTrackEvents.indexOf('event69,event70') < 0 && (t.events += ',event69,event70', t.linkTrackEvents += ',event69,event70'), 'roi' == k && t.linkTrackEvents.indexOf('event73,event74') < 0 && (t.events += ',event73,event74', t.linkTrackEvents += ',event73,event74');
                                                    break;
                                                case 'form finish intention':
                                                    t.linkTrackEvents.indexOf('event13,event14') < 0 && (t.events += ',event13,event14', t.linkTrackEvents += ',event3,event4');
                                                    break;
                                                case 'form finished':
                                                    var k;
                                                    t.linkTrackEvents.indexOf('event15,event16') < 0 && (t.events += ',event15,event16', t.linkTrackEvents += ',event15,event16'), 'registration' == (k = (k = ((e || '').category || '').primaryCategory || '').toLowerCase()) && t.linkTrackEvents.indexOf('event95,event96') < 0 && (t.events += ',event95,event96', t.linkTrackEvents += ',event95,event96'), 'rfs' == k && t.linkTrackEvents.indexOf('event71,event72') < 0 && (t.events += ',event71,event72', t.linkTrackEvents += ',event71,event72'), 'tda' == k && t.linkTrackEvents.indexOf('event87,event88') < 0 && (t.events += ',event87,event88', t.linkTrackEvents += ',event87,event88'), 'rfo' == k && t.linkTrackEvents.indexOf('event63,event64') < 0 && (t.events += ',event63,event64', t.linkTrackEvents += ',event63,event64'), 'rfi' == k && t.linkTrackEvents.indexOf('event47,event48') < 0 && (t.events += ',event47,event48', t.linkTrackEvents += ',event47,event48'), 'rao' == k && t.linkTrackEvents.indexOf('event27,event28') < 0 && (t.events += ',event27,event28', t.linkTrackEvents += ',event27,event28'), 'rfa' == k && t.linkTrackEvents.indexOf('event31,event32') < 0 && (t.events += ',event31,event32', t.linkTrackEvents += ',event31,event32'), 'rfc' == k && t.linkTrackEvents.indexOf('event35,event36') < 0 && (t.events += ',event35,event36', t.linkTrackEvents += ',event35,event36'), 'rfcd' == k && t.linkTrackEvents.indexOf('event39,event40') < 0 && (t.events += ',event39,event40', t.linkTrackEvents += ',event39,event40'), 'rfd' == k && t.linkTrackEvents.indexOf('event43,event44') < 0 && (t.events += ',event43,event44', t.linkTrackEvents += ',event43,event44'), 'rfp' == k && t.linkTrackEvents.indexOf('event67,event68') < 0 && (t.events += ',event67,event68', t.linkTrackEvents += ',event67,event68'), 'rfs' == k && t.linkTrackEvents.indexOf('event71,event72') < 0 && (t.events += ',event71,event72', t.linkTrackEvents += ',event71,event72'), 'roi' == k && t.linkTrackEvents.indexOf('event75,event76') < 0 && (t.events += ',event75,event76', t.linkTrackEvents += ',event75,event76');
                                                }
                                            t.prop12 = ((e || '').eventInfo || '').timeStamp || '', t.prop13 = ((a || '').attributes || '').brand || '', '' != t.prop13 && 'na' != t.prop13 || (-1 < location.host.indexOf('.bmw-motorrad.') ? t.prop13 = 'bmw_motorrad' : -1 < location.host.indexOf('.mini.') ? t.prop13 = 'mini' : -1 < location.host.indexOf('.bmw.') && (t.prop13 = 'bmw'));
                                            var C = new Date();
                                            if (t.prop14 = C.getUTCHours() + ':' + C.getUTCMinutes() + ':' + C.getUTCSeconds(), t.prop15 = C.getHours() + ':' + C.getMinutes() + ':' + C.getSeconds(), t.prop16 = ((e || '').attributes || '').stepName || '', t.prop17 = (((e || '').attributes || '').form || '').rfxID || '', t.prop19 = ((i || '').componentInfo || '').componentName || '', t.prop20 = (((e || '').attributes || '').search || '').label || '', 'search' == (((e || '').eventInfo || '').eventName || '') && (t.prop20 = ((e || '').category || '').subCategory1 || '', t.prop21 = ((e || '').eventInfo || '').type || '', t.prop22 = ((e || '').eventInfo || '').eventAction || '', t.prop23 = ((e || '').eventInfo || '').eventAction || '', t.prop24 = ((e || '').category || '').subCategory1 || '', t.linkTrackVars += ',prop20,prop21,prop22,prop23,prop24'), t.prop23 = t.prop20, t.prop25 = (((e || '').attributes || '').search || '').state || '', t.prop27 = ((a || '').pageInfo || '').pageID || '', t.prop28 = ((a || '').pageInfo || '').variant || '', t.prop29 = ((a || '').pageInfo || '').version || '', t.prop40 = ((c || '').attributes || '').loggedInStatus || '', t.prop41 = ((i || '').category || '').componentType || '', t.prop42 = ((i || '').category || '').primaryCategory || '', t.prop43 = ((i || '').category || '').subCategory1 || '', t.prop44 = ((i || '').componentInfo || '').componentID || '', t.prop45 = ((i || '').attributes || '').componentVersion || '', t.prop46 = ((a || '').pageInfo || '').author || '', t.prop52 = ((e || '').eventInfo || '').cause || '', t.prop54 = ((e || '').eventInfo || '').type || '', t.prop53 = ((e || '').category || '').primaryCategory || '', t.prop55 = ((e || '').category || '').subCategory1 || '', t.prop56 = ((e || '').eventInfo || '').eventName || '', t.prop57 = ((e || '').eventInfo || '').eventAction || '', t.prop58 = ((e || '').eventInfo || '').eventPoints || '', t.prop59 = ((o || '').attributes || '').configID || '', t.prop66 = window.screen.width * window.devicePixelRatio, t.prop67 = window.screen.height * window.devicePixelRatio, t.prop68 = window.screen.width >= window.screen.height ? 'landscape' : 'portrait', 'error' == (((e || '').eventInfo || '').eventName || '') && (t.prop69 = ((e || '').category || '').subCategory1 || '', t.linkTrackVars += ',prop69'), t.prop71 = _satellite.buildInfo.buildDate, t.prop72 = t.visitor.version, t.prop73 = t.version, t.prop74 = _satellite.property.name + '|event', t.prop75 = 'tracy', t.linkTrackVars += ',eVar6,eVar7,eVar8,eVar10,eVar11,eVar12,eVar13,eVar15,eVar17,eVar19,eVar20,eVar21,eVar23,eVar34,eVar39,eVar40,eVar41,eVar42,eVar43,eVar44,eVar45,eVar46,eVar48,eVar49,eVar50,eVar51,eVar56,eVar57,eVar58,eVar59,eVar60,eVar71,eVar84,eVar85,eVar86,eVar87,eVar90,eVar91,eVar93,eVar94,eVar95,eVar96,eVar120,eVar121,eVar122,eVar123,eVar124,eVar125,eVar126,eVar130,eVar132,eVar133,eVar131,eVar134,eVar135,eVar136,prop1,prop2,prop3,prop4,prop5,prop12,prop13,prop14,prop15,prop16,prop17,prop19,prop20,prop23,prop25,prop27,prop28,prop29,prop40,prop41,prop42,prop43,prop44,prop45,prop46,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59,prop66,prop67,prop68,prop71,prop72,prop73,prop74,prop75', 'accept consent' == (((e || '').eventInfo || '').eventName || '') ? (t.eVar130 = (((e || '').attributes || '').consentItemName || '') + 'accepted', t.prop51 = ((e || '').eventInfo || '').subCategory2 || '', t.linkTrackVars += ',prop51') : 'reject consent' == (((e || '').eventInfo || '').eventName || '') && (t.eVar130 = (((e || '').attributes || '').consentItemName || '') + 'rejected', t.prop51 = ((e || '').eventInfo || '').subCategory2 || '', t.linkTrackVars += ',prop51'), 'cookie coonsent recorded' == (((e || '').eventInfo || '').effect || '') && (t.events += ',event941', t.linkTrackEvents += ',event941'), 'interaction' != t.prop56 || 'success' != t.prop53 && 'ux' != t.prop53 || t.linkTrackEvents.indexOf('event917,event918') < 0 && (t.events += ',event917,event918', t.linkTrackEvents += ',event917,event918'), 'commerce' == (((e || '').eventInfo || '').eventName || '')) {
                                                var I = ((e || '').eventInfo || '').effect || '';
                                                -1 < (I = I.toLowerCase()).indexOf('checkout') && -1 < I.indexOf('start') && (t.events += ',scCheckout', t.linkTrackEvents += ',scCheckout'), -1 < I.indexOf('checkout') && -1 < I.indexOf('finish') && (t.events += ',purchase', t.linkTrackEvents += ',purchase');
                                            }
                                            -1 < t.prop56.indexOf('error') && (t.events += ',event931,event932', t.linkTrackEvents += ',event931,event932');
                                        } catch (T) {
                                            _satellite.logger.error('Error:', T);
                                        }
                                    }
                                },
                                trackerProperties: {
                                    events: [
                                        { name: 'event999' },
                                        { name: 'event1000' }
                                    ]
                                }
                            }
                        },
                        {
                            modulePath: 'adobe-analytics/src/lib/actions/sendBeacon.js',
                            settings: {
                                type: 'link',
                                linkName: 'Event-Call',
                                linkType: 'o'
                            }
                        }
                    ]
                },
                {
                    id: 'RLf3460c0a37ad4814949e2755ad6250db',
                    name: 'PLR - All Pages - Performance timing',
                    events: [{
                            modulePath: 'core/src/lib/events/windowLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: 'https://assets.adobedtm.com/717b2dc27cb7/ec1a0b4b16ae/3d39e87f061b/RC5fe01a03a89549aa88ecfde73f0d5e07-source.min.js',
                                language: 'javascript',
                                isExternal: !0
                            }
                        }]
                },
                {
                    id: 'RL282c659b616c4833aa459a4216b2f63c',
                    name: 'PLR - All - AEM - Custom Code - Page Speed Tracking 3.1 Pollyfill',
                    events: [{
                            modulePath: 'core/src/lib/events/windowLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: 'https://assets.adobedtm.com/717b2dc27cb7/ec1a0b4b16ae/3d39e87f061b/RCc97315dd0dde4a8d9fd3445b26ff2237-source.min.js',
                                language: 'javascript',
                                isExternal: !0
                            }
                        }]
                },
                {
                    id: 'RL43e366d3c7ba42dcaf5c7c038df24875',
                    name: 'PLR - All - AEM - Custom Code - Page Speed Tracking 3.1',
                    events: [{
                            modulePath: 'core/src/lib/events/windowLoaded.js',
                            settings: {},
                            ruleOrder: 50
                        }],
                    conditions: [],
                    actions: [{
                            modulePath: 'core/src/lib/actions/customCode.js',
                            settings: {
                                source: 'https://assets.adobedtm.com/717b2dc27cb7/ec1a0b4b16ae/3d39e87f061b/RC149f92f8e0de4377a8b35663b3dd471f-source.min.js',
                                language: 'html',
                                isExternal: !0
                            }
                        }]
                }
            ]
        };
        var $___var_a3f1bd01902c1618 = function () {
            'use strict';
            function e(r) {
                if (r.__esModule)
                    return r;
                var a = Object.defineProperty({}, '__esModule', { value: !0 });
                return Object.keys(r).forEach(function (e) {
                    var t = Object.getOwnPropertyDescriptor(r, e);
                    Object.defineProperty(a, e, t.get ? t : {
                        enumerable: !0,
                        get: function () {
                            return r[e];
                        }
                    });
                }), a;
            }
            function t(e) {
                var t = { exports: {} };
                return e(t, t.exports), t.exports;
            }
            function r(t) {
                var r = this.constructor;
                return this.then(function (e) {
                    return r.resolve(t()).then(function () {
                        return e;
                    });
                }, function (e) {
                    return r.resolve(t()).then(function () {
                        return r.reject(e);
                    });
                });
            }
            function p(e) {
                return Boolean(e && 'undefined' != typeof e.length);
            }
            function a() {
            }
            function n(e, t) {
                return function () {
                    e.apply(t, arguments);
                };
            }
            function o(e) {
                if (!(this instanceof o))
                    throw new TypeError('Promises must be constructed via new');
                if ('function' != typeof e)
                    throw new TypeError('not a function');
                this._state = 0, this._handled = !1, this._value = undefined, this._deferreds = [], d(e, this);
            }
            function i(a, n) {
                for (; 3 === a._state;)
                    a = a._value;
                0 !== a._state ? (a._handled = !0, o._immediateFn(function () {
                    var e = 1 === a._state ? n.onFulfilled : n.onRejected;
                    if (null !== e) {
                        var t;
                        try {
                            t = e(a._value);
                        } catch (r) {
                            return void c(n.promise, r);
                        }
                        s(n.promise, t);
                    } else
                        (1 === a._state ? s : c)(n.promise, a._value);
                })) : a._deferreds.push(n);
            }
            function s(e, t) {
                try {
                    if (t === e)
                        throw new TypeError('A promise cannot be resolved with itself.');
                    if (t && ('object' == typeof t || 'function' == typeof t)) {
                        var r = t.then;
                        if (t instanceof o)
                            return e._state = 3, e._value = t, void l(e);
                        if ('function' == typeof r)
                            return void d(n(r, t), e);
                    }
                    e._state = 1, e._value = t, l(e);
                } catch (a) {
                    c(e, a);
                }
            }
            function c(e, t) {
                e._state = 2, e._value = t, l(e);
            }
            function l(e) {
                2 === e._state && 0 === e._deferreds.length && o._immediateFn(function () {
                    e._handled || o._unhandledRejectionFn(e._value);
                });
                for (var t = 0, r = e._deferreds.length; t < r; t++)
                    i(e, e._deferreds[t]);
                e._deferreds = null;
            }
            function u(e, t, r) {
                this.onFulfilled = 'function' == typeof e ? e : null, this.onRejected = 'function' == typeof t ? t : null, this.promise = r;
            }
            function d(e, t) {
                var r = !1;
                try {
                    e(function (e) {
                        r || (r = !0, s(t, e));
                    }, function (e) {
                        r || (r = !0, c(t, e));
                    });
                } catch (a) {
                    if (r)
                        return;
                    r = !0, c(t, a);
                }
            }
            function f(e) {
                if (null === e || e === undefined)
                    throw new TypeError('Object.assign cannot be called with null or undefined');
                return Object(e);
            }
            function m() {
                try {
                    if (!Object.assign)
                        return !1;
                    var e = new String('abc');
                    if (e[5] = 'de', '5' === Object.getOwnPropertyNames(e)[0])
                        return !1;
                    for (var t = {}, r = 0; r < 10; r++)
                        t['_' + String.fromCharCode(r)] = r;
                    if ('0123456789' !== Object.getOwnPropertyNames(t).map(function (e) {
                            return t[e];
                        }).join(''))
                        return !1;
                    var a = {};
                    return 'abcdefghijklmnopqrst'.split('').forEach(function (e) {
                        a[e] = e;
                    }), 'abcdefghijklmnopqrst' === Object.keys(Object.assign({}, a)).join('');
                } catch (n) {
                    return !1;
                }
            }
            function v(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t);
            }
            if (window.atob) {
                var g = function (e) {
                        var r = [];
                        return e.forEach(function (t) {
                            t.events && t.events.forEach(function (e) {
                                r.push({
                                    rule: t,
                                    event: e
                                });
                            });
                        }), r.sort(function (e, t) {
                            return e.event.ruleOrder - t.event.ruleOrder;
                        });
                    }, y = 'debug', h = function (t, e) {
                        var r = function () {
                                return 'true' === t.getItem(y);
                            }, a = function (e) {
                                t.setItem(y, e);
                            }, n = [], o = function (e) {
                                n.push(e);
                            };
                        return e.outputEnabled = r(), {
                            onDebugChanged: o,
                            getDebugEnabled: r,
                            setDebugEnabled: function (t) {
                                r() !== t && (a(t), e.outputEnabled = t, n.forEach(function (e) {
                                    e(t);
                                }));
                            }
                        };
                    }, b = 'Module did not export a function.', k = function (o, i) {
                        return function (e, t, r) {
                            r = r || [];
                            var a = o.getModuleExports(e.modulePath);
                            if ('function' != typeof a)
                                throw new Error(b);
                            var n = i(e.settings || {}, t);
                            return a.bind(null, n).apply(null, r);
                        };
                    }, C = function (e) {
                        return 'string' == typeof e ? e.replace(/\s+/g, ' ').trim() : e;
                    }, I = {
                        LOG: 'log',
                        INFO: 'info',
                        DEBUG: 'debug',
                        WARN: 'warn',
                        ERROR: 'error'
                    }, T = '\uD83D\uDE80', _ = 10 === parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase()) || [])[1]) ? '[Launch]' : T, V = !1, w = function (e) {
                        if (V && window.console) {
                            var t = Array.prototype.slice.call(arguments, 1);
                            t.unshift(_), e !== I.DEBUG || window.console[e] || (e = I.INFO), window.console[e].apply(window.console, t);
                        }
                    }, S = w.bind(null, I.LOG), j = w.bind(null, I.INFO), D = w.bind(null, I.DEBUG), E = w.bind(null, I.WARN), O = w.bind(null, I.ERROR), A = {
                        log: S,
                        info: j,
                        debug: D,
                        warn: E,
                        error: O,
                        deprecation: function () {
                            var e = V;
                            V = !0, w.apply(null, Array.prototype.concat(I.WARN, Array.prototype.slice.call(arguments))), e || (V = !1);
                        },
                        get outputEnabled() {
                            return V;
                        },
                        set outputEnabled(e) {
                            V = e;
                        },
                        createPrefixedLogger: function (e) {
                            var t = '[' + e + ']';
                            return {
                                log: S.bind(null, t),
                                info: j.bind(null, t),
                                debug: D.bind(null, t),
                                warn: E.bind(null, t),
                                error: O.bind(null, t)
                            };
                        }
                    }, x = 'undefined' != typeof globalThis ? globalThis : 'undefined' != typeof window ? window : 'undefined' != typeof global ? global : 'undefined' != typeof self ? self : {}, P = t(function (a) {
                        !function (e) {
                            if (a.exports = e(), !!0) {
                                var t = window.Cookies, r = window.Cookies = e();
                                r.noConflict = function () {
                                    return window.Cookies = t, r;
                                };
                            }
                        }(function () {
                            function c() {
                                for (var e = 0, t = {}; e < arguments.length; e++) {
                                    var r = arguments[e];
                                    for (var a in r)
                                        t[a] = r[a];
                                }
                                return t;
                            }
                            function l(e) {
                                return e.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
                            }
                            function e(p) {
                                function s() {
                                }
                                function r(e, t, r) {
                                    if ('undefined' != typeof document) {
                                        'number' == typeof (r = c({ path: '/' }, s.defaults, r)).expires && (r.expires = new Date(1 * new Date() + 86400000 * r.expires)), r.expires = r.expires ? r.expires.toUTCString() : '';
                                        try {
                                            var a = JSON.stringify(t);
                                            /^[\{\[]/.test(a) && (t = a);
                                        } catch (i) {
                                        }
                                        t = p.write ? p.write(t, e) : encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), e = encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/[\(\)]/g, escape);
                                        var n = '';
                                        for (var o in r)
                                            r[o] && (n += '; ' + o, !0 !== r[o] && (n += '=' + r[o].split(';')[0]));
                                        return document.cookie = e + '=' + t + n;
                                    }
                                }
                                function t(e, t) {
                                    if ('undefined' != typeof document) {
                                        for (var r = {}, a = document.cookie ? document.cookie.split('; ') : [], n = 0; n < a.length; n++) {
                                            var o = a[n].split('='), i = o.slice(1).join('=');
                                            t || '"' !== i.charAt(0) || (i = i.slice(1, -1));
                                            try {
                                                var s = l(o[0]);
                                                if (i = (p.read || p)(i, s) || l(i), t)
                                                    try {
                                                        i = JSON.parse(i);
                                                    } catch (c) {
                                                    }
                                                if (r[s] = i, e === s)
                                                    break;
                                            } catch (c) {
                                            }
                                        }
                                        return e ? r[e] : r;
                                    }
                                }
                                return s.set = r, s.get = function (e) {
                                    return t(e, !1);
                                }, s.getJSON = function (e) {
                                    return t(e, !0);
                                }, s.remove = function (e, t) {
                                    r(e, '', c(t, { expires: -1 }));
                                }, s.defaults = {}, s.withConverter = e, s;
                            }
                            return e(function () {
                            });
                        });
                    }), N = {
                        get: P.get,
                        set: P.set,
                        remove: P.remove
                    }, M = window, L = 'com.adobe.reactor.', R = function (a, e) {
                        var n = L + (e || '');
                        return {
                            getItem: function (e) {
                                const $___old_136b93c9714c5096 = {}.constructor.getOwnPropertyDescriptor(window, 'localStorage');
                                try {
                                    if ($___old_136b93c9714c5096)
                                        ({}.constructor.defineProperty(window, 'localStorage', $___mock_c74fbeb467519a61.localStorage));
                                    return function () {
                                        try {
                                            return M[a].getItem(n + e);
                                        } catch (t) {
                                            return null;
                                        }
                                    }.apply(this, arguments);
                                } finally {
                                    if ($___old_136b93c9714c5096)
                                        ({}.constructor.defineProperty(window, 'localStorage', $___old_136b93c9714c5096));
                                }
                            },
                            setItem: function (e, t) {
                                const $___old_76ab4b58201d9e33 = {}.constructor.getOwnPropertyDescriptor(window, 'localStorage');
                                try {
                                    if ($___old_76ab4b58201d9e33)
                                        ({}.constructor.defineProperty(window, 'localStorage', $___mock_c74fbeb467519a61.localStorage));
                                    return function () {
                                        try {
                                            return M[a].setItem(n + e, t), !0;
                                        } catch (r) {
                                            return !1;
                                        }
                                    }.apply(this, arguments);
                                } finally {
                                    if ($___old_76ab4b58201d9e33)
                                        ({}.constructor.defineProperty(window, 'localStorage', $___old_76ab4b58201d9e33));
                                }
                            }
                        };
                    }, U = '_sdsat_', F = 'dataElements.', H = 'dataElementCookiesMigrated', B = R('localStorage'), q = R('sessionStorage', F), G = R('localStorage', F), W = {
                        PAGEVIEW: 'pageview',
                        SESSION: 'session',
                        VISITOR: 'visitor'
                    }, Y = {}, K = function (e) {
                        var t;
                        try {
                            t = JSON.stringify(e);
                        } catch (r) {
                        }
                        return t;
                    }, J = function (e, t, r) {
                        var a;
                        switch (t) {
                        case W.PAGEVIEW:
                            return void (Y[e] = r);
                        case W.SESSION:
                            return void ((a = K(r)) && q.setItem(e, a));
                        case W.VISITOR:
                            return void ((a = K(r)) && G.setItem(e, a));
                        }
                    }, z = function (e, t) {
                        var r = N.get(U + e);
                        r !== undefined && J(e, t, r);
                    }, $ = {
                        setValue: J,
                        getValue: function (e, t) {
                            var r;
                            switch (t) {
                            case W.PAGEVIEW:
                                return Y.hasOwnProperty(e) ? Y[e] : null;
                            case W.SESSION:
                                return null === (r = q.getItem(e)) ? r : JSON.parse(r);
                            case W.VISITOR:
                                return null === (r = G.getItem(e)) ? r : JSON.parse(r);
                            }
                        },
                        migrateCookieData: function (t) {
                            B.getItem(H) || (Object.keys(t).forEach(function (e) {
                                z(e, t[e].storageDuration);
                            }), B.setItem(H, !0));
                        }
                    }, Z = function (e, t, r, a) {
                        return 'Failed to execute data element module ' + e.modulePath + ' for data element ' + t + '. ' + r + (a ? '\n' + a : '');
                    }, Q = function (s, c, p, l) {
                        return function (e, t) {
                            var r = c(e);
                            if (!r)
                                return l ? '' : undefined;
                            var a, n = r.storageDuration;
                            try {
                                a = s.getModuleExports(r.modulePath);
                            } catch (i) {
                                return void A.error(Z(r, e, i.message, i.stack));
                            }
                            if ('function' == typeof a) {
                                var o;
                                try {
                                    o = a(p(r.settings, t), t);
                                } catch (i) {
                                    return void A.error(Z(r, e, i.message, i.stack));
                                }
                                return n && (null != o ? $.setValue(e, n, o) : o = $.getValue(e, n)), null == o && null != r.defaultValue && (o = r.defaultValue), 'string' == typeof o && (r.cleanText && (o = C(o)), r.forceLowerCase && (o = o.toLowerCase())), o;
                            }
                            A.error(Z(r, e, 'Module did not export a function.'));
                        };
                    }, X = {
                        text: function (e) {
                            return e.textContent;
                        },
                        cleanText: function (e) {
                            return C(e.textContent);
                        }
                    }, ee = function (e, t, r) {
                        for (var a, n = e, o = 0, i = t.length; o < i; o++) {
                            if (null == n)
                                return undefined;
                            var s = t[o];
                            if (r && '@' === s.charAt(0)) {
                                var c = s.slice(1);
                                n = X[c](n);
                            } else if (n.getAttribute && (a = s.match(/^getAttribute\((.+)\)$/))) {
                                var p = a[1];
                                n = n.getAttribute(p);
                            } else
                                n = n[s];
                        }
                        return n;
                    }, te = function (o, i, s) {
                        return function (e, t) {
                            var r;
                            if (i(e))
                                r = s(e, t);
                            else {
                                var a = e.split('.'), n = a.shift();
                                'this' === n ? t && (r = ee(t.element, a, !0)) : 'event' === n ? t && (r = ee(t, a)) : 'target' === n ? t && (r = ee(t.target, a)) : r = ee(o[n], a);
                            }
                            return r;
                        };
                    }, re = function (r, a) {
                        return function (e) {
                            var t = e.split('.')[0];
                            return Boolean(a(e) || 'this' === t || 'event' === t || 'target' === t || r.hasOwnProperty(t));
                        };
                    }, ae = function (e, t, r) {
                        var a = { exports: {} };
                        return e.call(a.exports, a, a.exports, t, r), a.exports;
                    }, ne = function () {
                        var i = {}, r = function (e) {
                                var t = i[e];
                                if (!t)
                                    throw new Error('Module ' + e + ' not found.');
                                return t;
                            }, e = function () {
                                Object.keys(i).forEach(function (e) {
                                    try {
                                        a(e);
                                    } catch (r) {
                                        var t = 'Error initializing module ' + e + '. ' + r.message + (r.stack ? '\n' + r.stack : '');
                                        A.error(t);
                                    }
                                });
                            }, a = function (e) {
                                var t = r(e);
                                return t.hasOwnProperty('exports') || (t.exports = ae(t.definition.script, t.require, t.turbine)), t.exports;
                            };
                        return {
                            registerModule: function (e, t, r, a, n) {
                                var o = {
                                    definition: t,
                                    extensionName: r,
                                    require: a,
                                    turbine: n
                                };
                                o.require = a, i[e] = o;
                            },
                            hydrateCache: e,
                            getModuleExports: a,
                            getModuleDefinition: function (e) {
                                return r(e).definition;
                            },
                            getModuleExtensionName: function (e) {
                                return r(e).extensionName;
                            }
                        };
                    }, oe = !1, ie = function (a) {
                        return function (t, r) {
                            var e = a._monitors;
                            e && (oe || (A.warn('The _satellite._monitors API may change at any time and should only be used for debugging.'), oe = !0), e.forEach(function (e) {
                                e[t] && e[t](r);
                            }));
                        };
                    }, se = function (n, o, i) {
                        var r, a, s, c, p = [], l = function (e, t, r) {
                                if (!n(t))
                                    return e;
                                p.push(t);
                                var a = o(t, r);
                                return p.pop(), null == a && i ? '' : a;
                            };
                        return r = function (e, r) {
                            var t = /^%([^%]+)%$/.exec(e);
                            return t ? l(e, t[1], r) : e.replace(/%(.+?)%/g, function (e, t) {
                                return l(e, t, r);
                            });
                        }, a = function (e, t) {
                            for (var r = {}, a = Object.keys(e), n = 0; n < a.length; n++) {
                                var o = a[n], i = e[o];
                                r[o] = c(i, t);
                            }
                            return r;
                        }, s = function (e, t) {
                            for (var r = [], a = 0, n = e.length; a < n; a++)
                                r.push(c(e[a], t));
                            return r;
                        }, c = function (e, t) {
                            return 'string' == typeof e ? r(e, t) : Array.isArray(e) ? s(e, t) : 'object' == typeof e && null !== e ? a(e, t) : e;
                        }, function (e, t) {
                            return 10 < p.length ? (A.error('Data element circular reference detected: ' + p.join(' -> ')), e) : c(e, t);
                        };
                    }, ce = function (n) {
                        return function (e, t) {
                            if ('string' == typeof e)
                                n[arguments[0]] = t;
                            else if (arguments[0]) {
                                var r = arguments[0];
                                for (var a in r)
                                    n[a] = r[a];
                            }
                        };
                    }, pe = setTimeout;
                o.prototype['catch'] = function (e) {
                    return this.then(null, e);
                }, o.prototype.then = function (e, t) {
                    var r = new this.constructor(a);
                    return i(this, new u(e, t, r)), r;
                }, o.prototype['finally'] = r, o.all = function (t) {
                    return new o(function (n, o) {
                        function i(t, e) {
                            try {
                                if (e && ('object' == typeof e || 'function' == typeof e)) {
                                    var r = e.then;
                                    if ('function' == typeof r)
                                        return void r.call(e, function (e) {
                                            i(t, e);
                                        }, o);
                                }
                                s[t] = e, 0 == --c && n(s);
                            } catch (a) {
                                o(a);
                            }
                        }
                        if (!p(t))
                            return o(new TypeError('Promise.all accepts an array'));
                        var s = Array.prototype.slice.call(t);
                        if (0 === s.length)
                            return n([]);
                        for (var c = s.length, e = 0; e < s.length; e++)
                            i(e, s[e]);
                    });
                }, o.resolve = function (t) {
                    return t && 'object' == typeof t && t.constructor === o ? t : new o(function (e) {
                        e(t);
                    });
                }, o.reject = function (r) {
                    return new o(function (e, t) {
                        t(r);
                    });
                }, o.race = function (n) {
                    return new o(function (e, t) {
                        if (!p(n))
                            return t(new TypeError('Promise.race accepts an array'));
                        for (var r = 0, a = n.length; r < a; r++)
                            o.resolve(n[r]).then(e, t);
                    });
                }, o._immediateFn = 'function' == typeof setImmediate && function (e) {
                    setImmediate(e);
                } || function (e) {
                    pe(e, 0);
                }, o._unhandledRejectionFn = function St(e) {
                    'undefined' != typeof console && console && console.warn('Possible Unhandled Promise Rejection:', e);
                };
                var le = e(Object.freeze({
                        __proto__: null,
                        'default': o
                    })), ue = 'undefined' != typeof window && window.Promise || void 0 !== x && x.Promise || le['default'] || le, de = function (p, r, a) {
                        return function (s, t, c, e) {
                            return e.then(function () {
                                var o, i = s.delayNext;
                                return new ue(function (e, t) {
                                    var r = p(s, c, [c]);
                                    if (!i)
                                        return e();
                                    var a = s.timeout, n = new ue(function (e, t) {
                                            o = setTimeout(function () {
                                                t(new Error('A timeout occurred because the action took longer than ' + a / 1000 + ' seconds to complete. '));
                                            }, a);
                                        });
                                    ue.race([
                                        r,
                                        n
                                    ]).then(e, t);
                                })['catch'](function (e) {
                                    return clearTimeout(o), e = r(e), a(s, t, e), ue.reject(e);
                                }).then(function () {
                                    clearTimeout(o);
                                });
                            });
                        };
                    }, fe = function (c, r, a, n, p) {
                        return function (i, t, s, e) {
                            return e.then(function () {
                                var o;
                                return new ue(function (e, t) {
                                    var r = c(i, s, [s]), a = i.timeout, n = new ue(function (e, t) {
                                            o = setTimeout(function () {
                                                t(new Error('A timeout occurred because the condition took longer than ' + a / 1000 + ' seconds to complete. '));
                                            }, a);
                                        });
                                    ue.race([
                                        r,
                                        n
                                    ]).then(e, t);
                                })['catch'](function (e) {
                                    return clearTimeout(o), e = r(e), n(i, t, e), ue.reject(e);
                                }).then(function (e) {
                                    if (clearTimeout(o), !a(i, e))
                                        return p(i, t), ue.reject();
                                });
                            });
                        };
                    }, me = ue.resolve(), ve = function (a, n, e) {
                        return function (t, r) {
                            return t.conditions && t.conditions.forEach(function (e) {
                                me = a(e, t, r, me);
                            }), t.actions && t.actions.forEach(function (e) {
                                me = n(e, t, r, me);
                            }), me = (me = me.then(function () {
                                e(t);
                            }))['catch'](function () {
                            });
                        };
                    }, ge = function (e) {
                        return Boolean(e && 'object' == typeof e && 'function' == typeof e.then);
                    }, ye = function (i, s, c, p) {
                        return function (e, t) {
                            var r;
                            if (e.conditions)
                                for (var a = 0; a < e.conditions.length; a++) {
                                    r = e.conditions[a];
                                    try {
                                        var n = i(r, t, [t]);
                                        if (ge(n))
                                            throw new Error('Rule component sequencing must be enabled on the property for this condition to function properly.');
                                        if (!s(r, n))
                                            return c(r, e), !1;
                                    } catch (o) {
                                        return p(r, e, o), !1;
                                    }
                                }
                            return !0;
                        };
                    }, he = function (r, a) {
                        return function (e, t) {
                            r(e, t) && a(e, t);
                        };
                    }, be = function (r) {
                        return function (e) {
                            var t = r.getModuleDefinition(e.modulePath);
                            return t && t.displayName || e.modulePath;
                        };
                    }, ke = function (n) {
                        return function (e) {
                            var t = e.rule, r = e.event, a = n.getModuleDefinition(r.modulePath).name;
                            return {
                                $type: n.getModuleExtensionName(r.modulePath) + '.' + a,
                                $rule: {
                                    id: t.id,
                                    name: t.name
                                }
                            };
                        };
                    }, Ce = function (s, c, p, l, u, d) {
                        return function (r, e) {
                            var a = e.rule, t = e.event;
                            t.settings = t.settings || {};
                            try {
                                var n = u(e);
                                c(t, null, [function o(e) {
                                        var t = p(n, e);
                                        r(function () {
                                            s(t, a);
                                        });
                                    }]);
                            } catch (i) {
                                d.error(l(t, a, i));
                            }
                        };
                    }, Ie = function (n, o, i, s) {
                        return function (e, t, r) {
                            var a = o(e);
                            i.error(n(a, t.name, r)), s('ruleActionFailed', {
                                rule: t,
                                action: e
                            });
                        };
                    }, Te = function (n, o, i, s) {
                        return function (e, t, r) {
                            var a = o(e);
                            i.error(n(a, t.name, r)), s('ruleConditionFailed', {
                                rule: t,
                                condition: e
                            });
                        };
                    }, _e = function (a, n, o) {
                        return function (e, t) {
                            var r = a(e);
                            n.log('Condition "' + r + '" for rule "' + t.name + '" was not met.'), o('ruleConditionFailed', {
                                rule: t,
                                condition: e
                            });
                        };
                    }, Ve = function (t, r) {
                        return function (e) {
                            t.log('Rule "' + e.name + '" fired.'), r('ruleCompleted', { rule: e });
                        };
                    }, we = function (o, i, s) {
                        return function (e, t) {
                            var r;
                            if (e.actions)
                                for (var a = 0; a < e.actions.length; a++) {
                                    r = e.actions[a];
                                    try {
                                        o(r, t, [t]);
                                    } catch (n) {
                                        return void i(r, e, n);
                                    }
                                }
                            s(e);
                        };
                    }, Se = function (r, a, n, o) {
                        return function (e, t) {
                            o('ruleTriggered', { rule: t }), r ? n(t, e) : a(t, e);
                        };
                    }, je = function (e, t, r) {
                        return 'Failed to execute "' + e + '" for "' + t + '" rule. ' + r.message + (r.stack ? '\n' + r.stack : '');
                    }, De = function (e, t) {
                        return t && !e.negate || !t && e.negate;
                    }, Ee = [], Oe = !1, Ae = function (e) {
                        Oe ? e() : Ee.push(e);
                    }, xe = function (e, t, r) {
                        e(t).forEach(function (e) {
                            r(Ae, e);
                        }), Oe = !0, Ee.forEach(function (e) {
                            e();
                        }), Ee = [];
                    }, Pe = function (e) {
                        if (e || (e = new Error('The extension triggered an error, but no error information was provided.')), !(e instanceof Error)) {
                            var t = 'object' == typeof e ? JSON.stringify(e) : String(e);
                            e = new Error(t);
                        }
                        return e;
                    }, Ne = Object.getOwnPropertySymbols, Me = Object.prototype.hasOwnProperty, Le = Object.prototype.propertyIsEnumerable, Re = m() ? Object.assign : function (e) {
                        for (var t, r, a = f(e), n = 1; n < arguments.length; n++) {
                            for (var o in t = Object(arguments[n]))
                                Me.call(t, o) && (a[o] = t[o]);
                            if (Ne) {
                                r = Ne(t);
                                for (var i = 0; i < r.length; i++)
                                    Le.call(t, r[i]) && (a[r[i]] = t[r[i]]);
                            }
                        }
                        return a;
                    }, Ue = function (e, t) {
                        return Re(t = t || {}, e), t.hasOwnProperty('type') || Object.defineProperty(t, 'type', {
                            get: function () {
                                return A.deprecation('Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead.'), t.$type;
                            }
                        }), t;
                    }, Fe = function (c, p) {
                        return function (e, t) {
                            var r = c[e];
                            if (r) {
                                var a = r.modules;
                                if (a)
                                    for (var n = Object.keys(a), o = 0; o < n.length; o++) {
                                        var i = n[o], s = a[i];
                                        if (s.shared && s.name === t)
                                            return p.getModuleExports(i);
                                    }
                            }
                        };
                    }, He = function (e, t) {
                        return function () {
                            return t ? e(t) : {};
                        };
                    }, Be = function (r, a) {
                        return function (e) {
                            if (a) {
                                var t = e.split('.');
                                t.splice(t.length - 1 || 1, 0, 'min'), e = t.join('.');
                            }
                            return r + e;
                        };
                    }, qe = '.js', Ge = function (e) {
                        return e.substr(0, e.lastIndexOf('/'));
                    }, We = function (e, t) {
                        return -1 !== e.indexOf(t, e.length - t.length);
                    }, Ye = function (e, t) {
                        We(t, qe) || (t += qe);
                        var r = t.split('/'), a = Ge(e).split('/');
                        return r.forEach(function (e) {
                            e && '.' !== e && ('..' === e ? a.length && a.pop() : a.push(e));
                        }), a.join('/');
                    }, Ke = document, Je = function (r, a) {
                        return new ue(function (e, t) {
                            a.onload = function () {
                                e(a);
                            }, a.onerror = function () {
                                t(new Error('Failed to load script ' + r));
                            };
                        });
                    }, ze = function (e) {
                        var t = document.createElement('script');
                        t.src = e, t.async = !0;
                        var r = Je(e, t);
                        return document.getElementsByTagName('head')[0].appendChild(t), r;
                    }, $e = function (e, t, r, a) {
                        t = t || '&', r = r || '=';
                        var n = {};
                        if ('string' != typeof e || 0 === e.length)
                            return n;
                        var o = /\+/g;
                        e = e.split(t);
                        var i = 1000;
                        a && 'number' == typeof a.maxKeys && (i = a.maxKeys);
                        var s = e.length;
                        0 < i && i < s && (s = i);
                        for (var c = 0; c < s; ++c) {
                            var p, l, u, d, f = e[c].replace(o, '%20'), m = f.indexOf(r);
                            0 <= m ? (p = f.substr(0, m), l = f.substr(m + 1)) : (p = f, l = ''), u = decodeURIComponent(p), d = decodeURIComponent(l), v(n, u) ? Array.isArray(n[u]) ? n[u].push(d) : n[u] = [
                                n[u],
                                d
                            ] : n[u] = d;
                        }
                        return n;
                    }, Ze = function (e) {
                        switch (typeof e) {
                        case 'string':
                            return e;
                        case 'boolean':
                            return e ? 'true' : 'false';
                        case 'number':
                            return isFinite(e) ? e : '';
                        default:
                            return '';
                        }
                    }, Qe = function (r, a, n, e) {
                        return a = a || '&', n = n || '=', null === r && (r = undefined), 'object' == typeof r ? Object.keys(r).map(function (e) {
                            var t = encodeURIComponent(Ze(e)) + n;
                            return Array.isArray(r[e]) ? r[e].map(function (e) {
                                return t + encodeURIComponent(Ze(e));
                            }).join(a) : t + encodeURIComponent(Ze(r[e]));
                        }).join(a) : e ? encodeURIComponent(Ze(e)) + n + encodeURIComponent(Ze(r)) : '';
                    }, Xe = t(function (e, t) {
                        t.decode = t.parse = $e, t.encode = t.stringify = Qe;
                    }), et = '@adobe/reactor-', tt = {
                        cookie: N,
                        document: Ke,
                        'load-script': ze,
                        'object-assign': Re,
                        promise: ue,
                        'query-string': {
                            parse: function (e) {
                                return 'string' == typeof e && (e = e.trim().replace(/^[?#&]/, '')), Xe.parse(e);
                            },
                            stringify: function (e) {
                                return Xe.stringify(e);
                            }
                        },
                        window: M
                    }, rt = function (a) {
                        return function (e) {
                            if (0 === e.indexOf(et)) {
                                var t = e.substr(et.length), r = tt[t];
                                if (r)
                                    return r;
                            }
                            if (0 === e.indexOf('./') || 0 === e.indexOf('../'))
                                return a(e);
                            throw new Error('Cannot resolve module "' + e + '".');
                        };
                    }, at = function (e, i, s, c, p) {
                        var l = e.extensions, u = e.buildInfo, d = e.property.settings;
                        if (l) {
                            var f = Fe(l, i);
                            Object.keys(l).forEach(function (a) {
                                var n = l[a], e = He(c, n.settings);
                                if (n.modules) {
                                    var t = A.createPrefixedLogger(n.displayName), r = Be(n.hostedLibFilesBaseUrl, u.minified), o = {
                                            buildInfo: u,
                                            getDataElementValue: p,
                                            getExtensionSettings: e,
                                            getHostedLibFileUrl: r,
                                            getSharedModule: f,
                                            logger: t,
                                            propertySettings: d,
                                            replaceTokens: c,
                                            onDebugChanged: s.onDebugChanged,
                                            get debugEnabled() {
                                                return s.getDebugEnabled();
                                            }
                                        };
                                    Object.keys(n.modules).forEach(function (r) {
                                        var e = n.modules[r], t = rt(function (e) {
                                                var t = Ye(r, e);
                                                return i.getModuleExports(t);
                                            });
                                        i.registerModule(r, e, a, t, o);
                                    });
                                }
                            }), i.hydrateCache();
                        }
                        return i;
                    }, nt = function (e, t, r, a, n) {
                        var o = A.createPrefixedLogger('Custom Script');
                        e.track = function (e) {
                            A.log('"' + e + '" does not match any direct call identifiers.');
                        }, e.getVisitorId = function () {
                            return null;
                        }, e.property = { name: t.property.name }, e.company = t.company, e.buildInfo = t.buildInfo, e.logger = o, e.notify = function (e, t) {
                            switch (A.deprecation('_satellite.notify is deprecated. Please use the `_satellite.logger` API.'), t) {
                            case 3:
                                o.info(e);
                                break;
                            case 4:
                                o.warn(e);
                                break;
                            case 5:
                                o.error(e);
                                break;
                            default:
                                o.log(e);
                            }
                        }, e.getVar = a, e.setVar = n, e.setCookie = function (e, t, r) {
                            var a = '', n = {};
                            r && (a = ', { expires: ' + r + ' }', n.expires = r);
                            var o = '_satellite.setCookie is deprecated. Please use _satellite.cookie.set("' + e + '", "' + t + '"' + a + ').';
                            A.deprecation(o), N.set(e, t, n);
                        }, e.readCookie = function (e) {
                            return A.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("' + e + '").'), N.get(e);
                        }, e.removeCookie = function (e) {
                            A.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("' + e + '").'), N.remove(e);
                        }, e.cookie = N, e.pageBottom = function () {
                        }, e.setDebug = r;
                        var i = !1;
                        Object.defineProperty(e, '_container', {
                            get: function () {
                                return i || (A.warn('_satellite._container may change at any time and should only be used for debugging.'), i = !0), t;
                            }
                        });
                    }, ot = window._satellite;
                if (ot && !window.__satelliteLoaded) {
                    window.__satelliteLoaded = !0;
                    var it = ot.container;
                    delete ot.container;
                    var st = it.property.settings.undefinedVarsReturnEmpty, ct = it.property.settings.ruleComponentSequencingEnabled, pt = it.dataElements || {};
                    $.migrateCookieData(pt);
                    var lt, ut = function (e) {
                            return pt[e];
                        }, dt = ne(), ft = Q(dt, ut, function () {
                            return lt.apply(null, arguments);
                        }, st), mt = {}, vt = ce(mt), gt = re(mt, ut), yt = te(mt, ut, ft);
                    lt = se(gt, yt, st);
                    var ht = h(R('localStorage'), A);
                    nt(ot, it, ht.setDebugEnabled, yt, vt), at(it, dt, ht, lt, ft);
                    var bt = ie(ot), kt = k(dt, lt), Ct = be(dt), It = _e(Ct, A, bt), Tt = Te(je, Ct, A, bt), _t = Ie(je, Ct, A, bt), Vt = Ve(A, bt), wt = Ce(Se(ct, he(ye(kt, De, It, Tt), we(kt, _t, Vt)), ve(fe(kt, Pe, De, Tt, It), de(kt, Pe, _t), Vt), bt), kt, Ue, je, ke(dt), A);
                    xe(g, it.rules || [], wt);
                }
                return ot;
            }
            console.warn('Adobe Launch is unsupported in IE 9 and below.');
        }();
        _satellite = $___var_a3f1bd01902c1618;
    }())
}